SCRIPT NJ_Setup initialize_secret_tapes initialize_oldskool_icons Create_Panel_Message style = panel_message_death text = " " Spawnscript NJ_UnlockTrainstation Spawnscript NJ_BridgeKiller Spawnscript NJ_Goal_Gaps4_DogChecker Spawnscript NJ_FlyChecker ENDSCRIPT
SCRIPT NJ_startup NJ_LoadingSounds kill prefix = "TRG_PRTCL_Leaves" Spawnscript NJ_PostStartupSpawnScript IF IsCareerMode WeatherSetRainHeight 2000 WeatherSetRainFrames 40 WeatherSetRainLength 40 WeatherSetRainRate 2.00000000000 ENDIF ENDSCRIPT
SCRIPT NJ_FlyChecker GoalManager_GetCurrentChapterAndStage IF ( ( <currentchapter> = 1 ) & ( <currentstage> = 1 ) ) IF IsAlive name = FO_Flies_01 kill name = FO_Flies_01 ENDIF ELSE IF NOT IsAlive name = FO_Flies_01 Create name = FO_Flies_01 ENDIF ENDIF IF GoalManager_GoalIsActive name = NJ_Goal_Collect IF IsAlive name = FO_Flies_01 kill name = FO_Flies_01 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_VallelyChecker printf "=================================== Running MikeV checker" IF NOT InNetGame GoalManager_GetCurrentChapterAndStage IF NOT GoalManager_HasWonGoal name = NJ_Goal_Collect5 IF IsAlive name = TRG_G_Special_Pro kill name = TRG_G_Special_Pro ENDIF ENDIF IF ( ( <currentchapter> = 0 ) & ( <currentstage> = 0 ) ) IF IsAlive name = TRG_G_Special_Pro kill name = TRG_G_Special_Pro ENDIF ELSE IF NOT IsAlive name = TRG_G_Special_Pro Create name = TRG_G_Special_Pro ENDIF IF GoalManager_GoalIsActive name = NJ_Goal_Collect5 kill name = TRG_G_Special_Pro ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Car_Drivable IF NOT InMultiplayerGame GoalManager_GetCurrentChapterAndStage printf "checking for drivable car!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!" IF ( ( GoalManager_HasWonGoal name = NJ_Goal_Race6 ) | ( <currentchapter> > 0 ) | ( <currentstage> > 1 ) ) IF NOT IsAlive name = TRG_Car_Drivable01 kill prefix = "Race6_" kill prefix = "TRG_SFX_TrigBox_IdleHotRod" kill prefix = "TRG_Car_NotDrivable" kill prefix = "Burnout_Smoke" Create name = TRG_Car_Drivable01 printf "creating drivable car!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!" ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_ChooseProDone IF GoalManager_HasWonGoal name = NJ_Goal_Tetris2 Skater : KillSkater RestartWalking Node = TRG_ChooseProDone_RestartNode ENDIF ENDSCRIPT
SCRIPT NJ_PostStartupSpawnScript wait 0.05000000075 second IF IsCareerMode IF IsAlive name = TRG_G_COLLECT5_PRO TRG_G_COLLECT5_PRO : SwitchOffAtomic ped_board ENDIF ENDIF Spawnscript NJ_Car_Drivable NJ_VallelyChecker ENDSCRIPT
SCRIPT NJ_ShowGoalPed targetPed = TRG_G_Race6_Pro PlaySkaterCamAnim Skater = 0 { virtual_cam targetId = <targetPed> targetOffset = VECTOR(-13.50000000000, 27.70000076294, 12.39999961853) positionOffset = VECTOR(-27.79999923706, 70.00000000000, 170.39999389648) frames = 180 skippable = 1 } ENDSCRIPT
SCRIPT NJ_ChapterMovie_WaitForSkater BEGIN wait 1 frame IF ObjectExists id = Skater BREAK ENDIF REPEAT ENDSCRIPT
SCRIPT NJ_Goals IF InMultiplayerGame add_multiplayer_mode_goals kill prefix = "Veh_PoliceCar_NJ_" kill prefix = "NJ_G_NOT_BridgeQP_" GoalManager_SetDifficultyLevel 1 ENDIF IF NOT InSplitScreenGame IF NOT ( ( GameModeEquals is_singlesession ) | ( GameModeEquals is_creategoals ) ) IF InNetGame NJ_AddGoal_Film_Combo NJ_AddGoal_BumBoxCollect NJ_AddGoal_StreetWarriorRace NJ_AddGoal_MuskaDemoFlyers NJ_AddGoal_Film_GenericScore ELSE GoalManager_GetDifficultyLevel NJ_AddGoal_HelpEricAtStart NJ_AddGoal_HelpEricAtStart2 NJ_AddGoal_StreetWarriorRace NJ_AddGoal_WalkCharles NJ_AddGoal_MuskaDemoFlyers NJ_AddGoal_EricChallenge1of3 SWITCH <difficulty_level> CASE 2 NJ_AddGoal_EricChallenge2of3 ENDSWITCH NJ_AddGoal_EricChallengeReverts NJ_AddGoal_BeatEricHighScore NJ_AddGoal_Null5 NJ_AddGoal_ImpressMuska NJ_AddGoal_Null NJ_AddGoal_RoofSeries1of3 NJ_AddGoal_RoofSeries2of3 NJ_AddGoal_RoofSeries3of3 NJ_AddGoal_PlaygroundDemo NJ_AddGoal_TrashTrick1of3 NJ_AddGoal_TrashTrick2of3 NJ_AddGoal_TrashTrick3of3 NJ_AddGoal_ChrisLine1of3 NJ_AddGoal_ChrisLine2of3 NJ_AddGoal_StolenGear NJ_AddGoal_AfterStolen NJ_AddGoal_TombCollect NJ_AddGoal_ClearTheBridge NJ_AddGoal_Null4 NJ_AddGoal_PorkAttack NJ_AddGoal_BumBoxCollect NJ_Addgoal_BratImpress NJ_AddGoal_RescueEric NJ_AddGoal_RescueEric2 NJ_AddGoal_SavedEric NJ_AddGoal_Null9 NJ_AddGoal_Film_Combo NJ_AddGoal_Film_CreateATrick NJ_AddGoal_Film_Tricktris NJ_AddGoal_Film_GenericScore NJ_AddGoal_Null6 NJ_AddGoal_ProTest NJ_AddGoal_Whup_Eric NJ_AddGoal_MikeV DisableFog SetFogColor r = 128 b = 128 g = 128 a = 0 GoalManager_GetCurrentChapterAndStage IF ( <currentchapter> > 0 ) Spawnscript NJ_Create_Proset1 ENDIF IF GoalManager_GoalExists name = NJ_Goal_Gaps IF NOT GoalManager_HasWonGoal name = NJ_Goal_Gaps Create prefix = "Veh_PoliceCar_NJ_" Create prefix = "NJ_G_NOT_BridgeQP_" Create prefix = "TRGP_killskater_gap" ENDIF ENDIF ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Create_Proset1 wait 1 second printf " creating Proset1_quarter Proset1_quarter Proset1_quarter Proset1_quarter" Create prefix = "Proset1_quarter" ENDSCRIPT
SCRIPT TOD_Script SWITCH <current_tod> CASE morning CASE day CASE evening CASE night DEFAULT printf "### no tod set ###" ENDSWITCH ENDSCRIPT
SCRIPT NJ_CreateVehicles IF NOT GotParam CalledByParkedCar NJ_Car_Drivable ENDIF NJ_DrivingSetupEnd ENDSCRIPT
SCRIPT NJ_KillVehicles IF NOT GotParam CalledByParkedCar IF IsAlive name = TRG_Car_Drivable01 kill name = TRG_Car_Drivable01 ENDIF IF IsAlive name = TRG_Car_Drivable01 kill name = TRG_Car_NotDrivable ENDIF ENDIF NJ_DrivingSetupStart ENDSCRIPT
SCRIPT Level_Save_WaitForSave goal_want_to_save WaitForEvent type = goal_wait_for_save ENDSCRIPT
SCRIPT NJ_Chapter1_Test ClearExceptionGroup StartScriptGroup Skater : KillSkater RestartWalking Node = TRG_Restart_Player1 ENDSCRIPT
SCRIPT StationDoorOpen1 IF NOT InNetGame StartGap GapID = StationDoor1 flags = [ cancel_ground ] NJ_SwingDoor door1 = LO_TrainDoorSouth_03 angle1 = 90 swingtime = 0.10000000149 glassdoor NJ_SwingDoor door1 = LO_TrainDoorSouth_04 angle1 = -90 swingtime = 0.10000000149 ENDIF ENDSCRIPT
SCRIPT StationDoorOpen2 IF NOT InNetGame StartGap GapID = StationDoor1 flags = [ cancel_ground ] NJ_SwingDoor door1 = LO_TrainDoorSouth_01 angle1 = 90 swingtime = 0.10000000149 glassdoor NJ_SwingDoor door1 = LO_TrainDoorSouth_02 angle1 = -90 swingtime = 0.10000000149 ENDIF ENDSCRIPT
SCRIPT StationDoorClose1 IF NOT InNetGame EndGap GapID = StationDoor1 trickscript = CloseDoor1 ENDIF ENDSCRIPT
SCRIPT StationDoorClose2 IF NOT InNetGame EndGap GapID = StationDoor2 trickscript = CloseDoor2 ENDIF ENDSCRIPT
SCRIPT CloseDoor1 IF NOT InNetGame NJ_SwingDoor door1 = LO_TrainDoorSouth_03 angle1 = 0 swingtime = 0.50000000000 noSound NJ_SwingDoor door1 = LO_TrainDoorSouth_04 angle1 = 0 swingtime = 0.50000000000 noSound ENDIF ENDSCRIPT
SCRIPT CloseDoor2 IF NOT InNetGame NJ_SwingDoor door1 = LO_TrainDoorSouth_01 angle1 = 0 swingtime = 0.50000000000 noSound NJ_SwingDoor door1 = LO_TrainDoorSouth_02 angle1 = 0 swingtime = 0.50000000000 noSound ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_Film_Tricktris AddGoal_Tetris { Version = 2 intro_node = TRG_G_TETRIS_IntroNode record_type = score difficulty_level_params = [ { time = 180 tricktris_total_to_win = 15 acceleration_interval = 5 acceleration_percent = 0.00999999978 } { time = 120 tricktris_total_to_win = 30 acceleration_interval = 3 acceleration_percent = 0.02999999933 } { time = 90 tricktris_total_to_win = 45 acceleration_interval = 10 acceleration_percent = 0.05000000075 } ] pro = "Joey" full_name = "Joey" goal_description = Joey_NJ_Goal_Tetris2 goal_text = "Nail all the tricks" view_goals_text = "Nail all the tricks" tricktris tricktris_block_size = 10 goal_tetris_key_combos = [ Air_CircleU Air_CircleD Air_CircleL Air_CircleR Air_CircleUL Air_CircleDL Air_CircleUR Air_CircleDR Air_SquareU Air_SquareD Air_SquareL Air_SquareR Air_SquareUR Air_SquareDR Air_SquareUL Air_SquareDL Lip_TriangleD Lip_TriangleDL Lip_TriangleDR Lip_TriangleL Lip_TriangleR Lip_TriangleU Lip_TriangleUL Lip_TriangleUR ] success_cam_anims = [ { virtual_cam targetId = TRG_G_Tetris2_Pro targetOffset = VECTOR(4.69999980927, 62.29999923706, 0.30000001192) positionOffset = VECTOR(-2.70000004768, 3.50000000000, 42.70000076294) frames = 360 skippable = 1 } ] time_to_stop_adding_tricks = 10 kill_radius = 800 goal_start_script = NJ_Tetris2_Start goal_deactivate_script = NJ_Tetris2_Deactivate } ENDSCRIPT
SCRIPT NJ_Tetris2_Start IF NOT IsAlive name = TRGP_TetrisRespawner Create name = TRGP_TetrisRespawner ENDIF ENDSCRIPT
SCRIPT NJ_Tetris2_Deactivate IF IsAlive name = TRGP_TetrisRespawner kill name = TRGP_TetrisRespawner ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_Film_GenericScore AddGoal_GenericScore { Version = 4 difficulty_level_params = [ { score = 50000 goal_text = "Score 50,000 points" unlimited_time = 1 } { score = 200000 goal_text = "Score 200,000 points" } { score = 800000 goal_text = "Score 800,000 points" } ] intro_node = Trg_G_GS4_intronode Start_cam_anims = [ { virtual_cam targetId = TRG_G_GS4_Pro targetOffset = VECTOR(4.69999980927, 62.29999923706, 0.30000001192) positionOffset = VECTOR(-2.70000004768, 3.50000000000, 42.70000076294) frames = 360 skippable = 1 } ] success_cam_anims = [ { virtual_cam targetId = TRG_G_GS4_Pro targetOffset = VECTOR(4.69999980927, 62.29999923706, 0.30000001192) positionOffset = VECTOR(-2.70000004768, 3.50000000000, 42.70000076294) frames = 360 skippable = 1 } ] view_goals_text = "Score Big Points" pro = "shawn" full_name = "Shawn" goal_description = Shawn_NJ_Goal_GenericScore4 } ENDSCRIPT
SCRIPT NJ_AddGoal_Film_Combo AddGoal_Counter { Version = 4 intro_node = TRG_G_Counter4_IntroNode retry_stage difficulty_level_params = [ { number = 5 require_combo } { number = 10 require_combo } { number = 24 require_combo } ] record_type = time win_wait_time = 60 time = 5 Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(6865.20019531250, -881.59997558594, 32.79999923706) positionOffset = VECTOR(-3016.89990234375, 80.59999847412, 1223.59997558594) frames = 120 walk_into_frame skippable = 1 play_hold } ] success_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(6865.20019531250, -881.59997558594, 32.79999923706) positionOffset = VECTOR(-3016.89990234375, 80.59999847412, 1223.59997558594) frames = 120 skippable = 1 play_hold } ] pro = "Chris" full_name = "Chris" goal_description = Chris_NJ_Goal_Counter4 goal_text = "Combo the City" view_goals_text = "Combo the City" goal_intro_script = NJ_Goal_Counter4_Intro goal_start_script = NJ_Goal_Counter4_Start goal_deactivate_script = NJ_Goal_Counter4_Deactivate collect_type = "Line Points" use_hud_counter } ENDSCRIPT
SCRIPT NJ_Goal_Counter4_Intro Create prefix = "GO_G_Counter4_Pickup_" GoalManager_GetDifficultyLevel SWITCH <difficulty_level> CASE 0 kill prefix = "GO_G_Counter4_Pickup_03" kill prefix = "GO_G_Counter4_Pickup_07" kill prefix = "GO_G_Counter4_Pickup_08" kill prefix = "GO_G_Counter4_Pickup_09" kill prefix = "GO_G_Counter4_Pickup_10" kill prefix = "GO_G_Counter4_Pickup_11" kill prefix = "GO_G_Counter4_Pickup_12" kill prefix = "GO_G_Counter4_Pickup_13" kill prefix = "GO_G_Counter4_Pickup_14" kill prefix = "GO_G_Counter4_Pickup_15" kill prefix = "GO_G_Counter4_Pickup_16" kill prefix = "GO_G_Counter4_Pickup_17" kill prefix = "GO_G_Counter4_Pickup_18" CASE 1 kill prefix = "GO_G_Counter4_Pickup_03" kill prefix = "GO_G_Counter4_Pickup_12" kill prefix = "GO_G_Counter4_Pickup_13" kill prefix = "GO_G_Counter4_Pickup_14" kill prefix = "GO_G_Counter4_Pickup_15" kill prefix = "GO_G_Counter4_Pickup_16" kill prefix = "GO_G_Counter4_Pickup_17" kill prefix = "GO_G_Counter4_Pickup_18" ENDSWITCH ENDSCRIPT
SCRIPT NJ_Goal_Counter4_Start ENDSCRIPT
SCRIPT NJ_Goal_Counter4_Deactivate kill prefix = "GO_G_Counter4_Pickup_" ENDSCRIPT
SCRIPT NJ_Counter4_ComboPoint GoalManager_GotCounterObject name = NJ_Goal_Counter4 PlaySound HitMetalCan Die ENDSCRIPT
SCRIPT NJ_Goal_Counter4_GotPickup GoalManager_SetGoalFlag name = <goal_id> <flag> 1 GoalManager_GetGoalParams name = <goal_id> printf "got a stolen item done!" PlaySound HitMetalCan Die ENDSCRIPT
SCRIPT Wait10frames wait 10 frames ENDSCRIPT
SCRIPT NJ_AddGoal_HelpEricAtStart AddGoal_Collect { difficulty_level_params = [ { unlimited_time = 1 } { time = 60 } { time = 45 } ] Version = 5 intro_node = TRG_G_Collect5_IntroNode retry_stage record_type = time career_only goal_flags = [ got_1 got_2 got_3 got_4 ] goal_collect_objects = [ { id = GO_G_COLLECT5_SkatePart_01 scr = NJ_Goal_Collect5_GotDeck flag = got_1 nextdeck = GO_G_COLLECT5_SkatePart_02 } { id = GO_G_COLLECT5_SkatePart_02 scr = NJ_Goal_Collect5_GotDeck flag = got_2 nextdeck = GO_G_COLLECT5_SkatePart_03 } { id = GO_G_COLLECT5_SkatePart_03 scr = NJ_Goal_Collect5_GotDeck flag = got_3 nextdeck = GO_G_COLLECT5_SkatePart_04 } { id = GO_G_COLLECT5_SkatePart_04 scr = NJ_Goal_Collect5_GotDeck flag = got_4 nextdeck = GO_G_COLLECT5_SkatePart_01 } ] Start_cam_anims = [ { virtual_cam walk_into_frame targetId = world targetOffset = VECTOR(-8794.20019531250, -682.00000000000, 5318.00000000000) positionOffset = VECTOR(895.29998779297, 10.19999980927, 2943.39990234375) frames = 120 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" pre_anim_script = NJ_Goal_Collect5_KillExtra cam_anim_text = Sparrow_NJ_Goal_Collect5_camanim01_skater } { virtual_cam targetId = world targetOffset = VECTOR(10716.59960937500, -1478.19995117188, 2991.30004882812) positionOffset = VECTOR(827.59997558594, 12.69999980927, 2967.00000000000) frames = 120 skippable = 1 play_hold cam_anim_text = Sparrow_NJ_Goal_Collect5_camanim02 } { virtual_cam targetId = world targetOffset = VECTOR(3293.19995117188, -859.09997558594, 13177.20019531250) positionOffset = VECTOR(1059.80004882812, 75.69999694824, 3474.39990234375) frames = 120 skippable = 1 play_hold cam_anim_text = Sparrow_NJ_Goal_Collect5_camanim03 } { virtual_cam targetId = world targetOffset = VECTOR(3513.80004882812, -1934.50000000000, 9702.00000000000) positionOffset = VECTOR(-1415.69995117188, 295.20001220703, 1291.50000000000) frames = 120 skippable = 1 play_hold cam_anim_text = Sparrow_NJ_Goal_Collect5_camanim04 } { virtual_cam targetId = world targetOffset = VECTOR(-9159.40039062500, -420.89999389648, 3684.10009765625) positionOffset = VECTOR(805.50000000000, 14.10000038147, 2967.89990234375) frames = 120 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Sparrow_NJ_Goal_Collect5_camanim05_skater } { virtual_cam targetId = world targetOffset = VECTOR(642.79998779297, -1174.80004882812, 12827.90039062500) positionOffset = VECTOR(822.00000000000, 10.50000000000, 2900.10009765625) frames = 120 skippable = 1 play_hold } ] pro = "Sparrow" full_name = "Eric Sparrow" goal_description = Sparrow_NJ_Goal_Collect5 control_type = WalkOnly dont_show_goal_text collect_type = "Skateboard Parts" use_hud_counter goal_text = "Get Eric\'s Skateboard Back" view_goals_text = "Help Eric get his Skateboard" hud_counter_caption = "Skateboard Parts\\nRetrieved" goal_intro_script = NJ_Goal_Collect5_Intro goal_start_script = NJ_Goal_Collect5_Start goal_deactivate_script = NJ_Goal_Collect5_Deactivate child = NJ_Goal_Gaps5 } ENDSCRIPT
SCRIPT NJ_Goal_Collect5_KillExtra kill prefix = "TRG_Ped_Walking" ENDSCRIPT
SCRIPT NJ_Goal_Collect5_PedsCreate NJ_Peds_Create ENDSCRIPT
SCRIPT NJ_Goal_Collect5_PedsKill NJ_Peds_Kill ENDSCRIPT
SCRIPT NJ_Goal_Collect5_GotDeck Spawnscript NJ_SFX_CollectEricSkateItemSound IF ( <flag> = got_1 ) GO_G_COLLECT5_SkatePart_02 : Obj_MoveToRelPos VECTOR(0.00000000000, 500.00000000000, 0.00000000000) time = 0.00999999978 wait 1 frame GO_G_COLLECT5_SkatePart_02 : Obj_Hover Amp = RANDOM(1, 1, 1) RANDOMCASE 5 RANDOMCASE 10 RANDOMCASE 15 RANDOMEND Freq = RANDOM(1, 1, 1) RANDOMCASE 0.50000000000 RANDOMCASE 1 RANDOMCASE 2 RANDOMEND create_panel_block id = current_goal text = "The Next Part should be on the house across the alley - jump(\\b3) to it and grab(\\bf) the gutter" style = panel_message_goal IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = GO_G_COLLECT5_SkatePart_02 model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDIF IF ( <flag> = got_2 ) GO_G_COLLECT5_SkatePart_03 : Obj_MoveToRelPos VECTOR(0.00000000000, 500.00000000000, 0.00000000000) time = 0.00999999978 wait 1 frame GO_G_COLLECT5_SkatePart_03 : Obj_Hover Amp = RANDOM(1, 1, 1) RANDOMCASE 5 RANDOMCASE 10 RANDOMCASE 15 RANDOMEND Freq = RANDOM(1, 1, 1) RANDOMCASE 0.50000000000 RANDOMCASE 1 RANDOMCASE 2 RANDOMEND create_panel_block id = current_goal text = "Next one is just down the block" style = panel_message_goal IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = GO_G_COLLECT5_SkatePart_03 model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDIF IF ( <flag> = got_3 ) GO_G_COLLECT5_SkatePart_04 : Obj_MoveToRelPos VECTOR(0.00000000000, 500.00000000000, 0.00000000000) time = 0.00999999978 wait 1 frame GO_G_COLLECT5_SkatePart_04 : Obj_Hover Amp = RANDOM(1, 1, 1) RANDOMCASE 5 RANDOMCASE 10 RANDOMCASE 15 RANDOMEND Freq = RANDOM(1, 1, 1) RANDOMCASE 0.50000000000 RANDOMCASE 1 RANDOMCASE 2 RANDOMEND create_panel_block id = current_goal text = "Last part is on top of your house" style = panel_message_goal IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = GO_G_COLLECT5_SkatePart_04 model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDIF GoalManager_SetGoalFlag name = <goal_id> <flag> 1 GoalManager_GetGoalParams name = <goal_id> Die ENDSCRIPT
SCRIPT NJ_Goal_Collect5_Intro Create prefix = "GO_G_COLLECT5_SkatePart_" GO_G_COLLECT5_SkatePart_01 : Obj_Hover Amp = RANDOM(1, 1, 1) RANDOMCASE 5 RANDOMCASE 10 RANDOMCASE 15 RANDOMEND Freq = RANDOM(1, 1, 1) RANDOMCASE 0.50000000000 RANDOMCASE 1 RANDOMCASE 2 RANDOMEND TRG_G_COLLECT5_PRO : SwitchOffAtomic ped_board ENDSCRIPT
SCRIPT NJ_Goal_Collect5_Start NJ_Peds_Kill GoalManager_GetCurrentChapterAndStage IF ( ( <currentchapter> = 0 ) & ( <currentstage> = 0 ) ) NJ_VallelyChecker ENDIF GO_G_COLLECT5_SkatePart_02 : Obj_MoveToRelPos VECTOR(0.00000000000, -500.00000000000, 0.00000000000) time = 0.00999999978 GO_G_COLLECT5_SkatePart_03 : Obj_MoveToRelPos VECTOR(0.00000000000, -500.00000000000, 0.00000000000) time = 0.00999999978 GO_G_COLLECT5_SkatePart_04 : Obj_MoveToRelPos VECTOR(0.00000000000, -500.00000000000, 0.00000000000) time = 0.00999999978 Spawnscript NJ_Goal_Collect5_Start_Spawned id = NJ_Goal_Collect5_Start_SpawnedScript ENDSCRIPT
SCRIPT NJ_Goal_Collect5_Start_Spawned wait 10 frames IF isNGC create_panel_block id = current_goal text = "\\b3 to Jump\\n\\bf to grab onto stuff\\n\\b7 to pull yourself up\\n\\mo to Re-Center Camera" style = panel_message_goal ELSE create_panel_block id = current_goal text = "\\b3 to Jump\\n\\bf to grab onto stuff\\n\\b7 to pull yourself up\\n\\mo to Re-Center Camera" style = panel_message_goal ENDIF Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = GO_G_COLLECT5_SkatePart_01 model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDSCRIPT
SCRIPT NJ_Goal_Collect5_Deactivate GoalManager_GetCurrentChapterAndStage IF ( ( <currentchapter> = 0 ) & ( <currentstage> = 0 ) ) NJ_VallelyChecker ENDIF kill prefix = "GO_G_COLLECT5_SkatePart_" IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF KillSpawnedScript id = NJ_Goal_Collect5_Start_SpawnedScript NJ_Peds_Create ENDSCRIPT
SCRIPT NJ_AddGoal_Null AddGoal_Null { Start_cam_anims = [ { virtual_cam targetId = TRG_G_Null_Pro targetOffset = VECTOR(2.20000004768, 55.59999847412, 0.10000000149) positionOffset = VECTOR(-2.50000000000, -0.00000000000, 60.29999923706) frames = 120 skippable = 1 cam_anim_text = shawn_nj_Goal_Null } ] pro = "Shawn" full_name = "Local Skater - Shawn" trigger_obj_id = TRG_G_Null_Pro } ENDSCRIPT
SCRIPT NJ_AddGoal_Null6 AddGoal_Null { Version = 6 Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(3124.69995117188, 1575.59997558594, -6349.10009765625) positionOffset = VECTOR(-3271.10009765625, 55.70000076294, 1186.19995117188) frames = 120 skippable = 1 cam_anim_text = Vallely_nj_Goal_Null6_CamAnim01 } { virtual_cam targetId = world targetOffset = VECTOR(3124.69995117188, 1575.59997558594, -6349.10009765625) positionOffset = VECTOR(-3271.10009765625, 55.70000076294, 1186.19995117188) frames = 120 skippable = 1 cam_anim_text = Vallely_nj_Goal_Null6_CamAnim02 } { virtual_cam targetId = world targetOffset = VECTOR(3124.69995117188, 1575.59997558594, -6349.10009765625) positionOffset = VECTOR(-3271.10009765625, 55.70000076294, 1186.19995117188) frames = 120 skippable = 1 cam_anim_text = Vallely_nj_Goal_Null6 } ] pro = "Vallely" full_name = "Mike Vallely" trigger_obj_id = TRG_G_Special_Stand } ENDSCRIPT
SCRIPT NJ_AddGoal_Null9 AddGoal_Null { Version = 9 Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-8438.40039062500, -1751.80004882812, -7603.60009765625) positionOffset = VECTOR(-6689.29980468750, 225.60000610352, 2042.40002441406) frames = 20 skippable = 0 speaker_obj_id = Skater speaker_name = "skater" cam_anim_text = Skater_NJ_Goal_Null9_CamAnim01_skater } { virtual_cam targetId = world targetId = world targetOffset = VECTOR(-2992.39990234375, -1.00000000000, -7833.70019531250) positionOffset = VECTOR(-6851.50000000000, 149.00000000000, 1391.09997558594) frames = 120 skippable = 1 speaker_obj_id = Skater speaker_name = "skater" cam_anim_text = Skater_NJ_Goal_Null9_CamAnim02_skater } { virtual_cam targetId = world targetOffset = VECTOR(-2100.19995117188, 3659.00000000000, -7100.60009765625) positionOffset = VECTOR(-6719.79980468750, 98.30000305176, 1022.79998779297) frames = 120 skippable = 1 speaker_obj_id = Skater speaker_name = "skater" cam_anim_text = Skater_NJ_Goal_Null9_skater } ] pro = "skater" full_name = "You" intro_node = TRG_G_Null3_IntroNode trigger_obj_id = TRG_Ped_Tombstoneguy } ENDSCRIPT
SCRIPT NJ_Goal_Null9_MoveSkater Skater : KillSkater RestartWalking Node = TRG_G_Null9_IntroNode ENDSCRIPT
SCRIPT NJ_AddGoal_ImpressMuska AddGoal_ProScore { difficulty_level_params = [ { score = 10000 } { score = 30000 } { score = 150000 } ] Start_cam_anims = [ { virtual_cam targetId = TRG_G_PS_Pro targetOffset = VECTOR(2.20000004768, 55.59999847412, 0.10000000149) positionOffset = VECTOR(-2.50000000000, -0.00000000000, 60.29999923706) frames = 120 skippable = 1 } ] goal_text = "Impress Chad Muska" view_goals_text = "Impress Chad Muska" goal_description = Joey_NJ_Goal_Proscore pro = "Joey" full_name = "Local skater - Joey" goal_intro_script = NJ_Goal_PS_intro goal_start_script = NJ_Goal_PS_Start goal_deactivate_script = NJ_Goal_PS_Deactivate } ENDSCRIPT
SCRIPT NJ_Goal_PS_intro NJ_Free_Memory Create prefix = "TRG_G_PS_Muskaintrosuv" ENDSCRIPT
SCRIPT NJ_Goal_PS_Start kill prefix = "TRG_G_PS_Muskaintrosuv" NJ_Free_Memory Create prefix = "TRG_G_PS_MuskaSUV" Spawnscript NJ_Goal_ProScore_Stages id = NJ_Goal_ProScore_SpawnedScript SetScoreAccumulation 0 ENDSCRIPT
SCRIPT NJ_Goal_ProScore_Stages SetScoreAccumulation 0 freeze_score wait 10 frames create_panel_block id = current_goal text = "He\'s checking out the Pool by the Skateshop" style = panel_message_goal Create name = TRGP_G_PS_ScoreEnterArea01 wait 25 seconds Create_Panel_Message id = current_goal text = "Muska\'s on the move!" style = panel_message_goal Create name = TRGP_G_PS_ScoreEnterArea02 wait 5 seconds create_panel_block id = current_goal text = "Now he\'s going to the Hood Half Pipe" style = panel_message_goal SetScoreAccumulation 0 freeze_score kill prefix = "TRGP_G_PS_Score" Create name = TRGP_G_PS_ScoreEnterArea02 wait 25 seconds Create_Panel_Message id = current_goal text = "Muska\'s on the move!" style = panel_message_goal Create name = TRGP_G_PS_ScoreEnterArea03 wait 5 seconds create_panel_block id = current_goal text = "He\'s spotted the Sewer Set" style = panel_message_goal SetScoreAccumulation 0 freeze_score kill prefix = "TRGP_G_PS_Score" Create name = TRGP_G_PS_ScoreEnterArea03 ENDSCRIPT
SCRIPT NJ_Goal_PS_Deactivate SetScoreAccumulation 0 kill prefix = "TRG_G_PS_MuskaSUV" kill prefix = "TRGP_G_PS_Score" KillSpawnedScript id = NJ_Goal_ProScore_SpawnedScript Create_Panel_Message id = current_goal text = " " NJ_Fill_Memory IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF ENDSCRIPT
SCRIPT NJ_ProScore_ProximChecker IF Inside NJ_ProScore_EnterArea ELSE NJ_ProScore_ExitArea ENDIF ENDSCRIPT
SCRIPT NJ_ProScore_EnterArea printf "entering muska area" IF GoalManager_GoalIsActive name = NJ_Goal_ProScore GoalManager_GetDifficultyLevel SWITCH <difficulty_level> CASE 0 Create_Panel_Message text = "Score 10,000 in front of Chad" style = panel_message_goal id = current_goal CASE 1 Create_Panel_Message text = "Score 30,000 in front of Chad" style = panel_message_goal id = current_goal CASE 2 Create_Panel_Message text = "Score 150,000 in front of Chad" style = panel_message_goal id = current_goal ENDSWITCH ResetScorePot SetScoreAccumulation 1 IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_ProScore_ExitArea printf "exiting muska area" IF GoalManager_GoalIsActive name = NJ_Goal_ProScore Create_Panel_Message text = "Muska Can\'t See You" style = panel_message_goal id = current_goal ResetScorePot UseBailStyle SetScoreAccumulation 0 freeze_score Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = TRG_G_PS_MuskaSUV model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDIF ENDSCRIPT
SCRIPT NJ_Goal_ProScore_Muskalade Obj_SetPathVelocity 30 fps Obj_SetPathAcceleration 30 fpsps Obj_SetPathDeceleration 30 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 Obj_FollowPath name = TRG_Veh_Muska_Stage1_Node01 wait 2 seconds NJ_Goal_ProScore_Muska_ArriveVO wait 24 seconds NJ_Goal_ProScore_Muska_LeaveVO Obj_FollowPath name = TRG_Veh_Muska_Stage2_Node01 wait 6 seconds NJ_Goal_ProScore_Muska_ArriveVO wait 24 seconds NJ_Goal_ProScore_Muska_LeaveVO Obj_FollowPath name = TRG_Veh_Muska_Stage3_Node01 wait 4 seconds NJ_Goal_ProScore_Muska_ArriveVO ENDSCRIPT
SCRIPT NJ_Goal_ProScore_Muska_ArriveVO RANDOM_NO_REPEAT(1, 1, 1, 1) RANDOMCASE Playstream Muska_NJ_MidGoal_StartSkating01 vol = 200 RANDOMCASE Playstream Muska_NJ_MidGoal_StartSkating02 vol = 200 RANDOMCASE Playstream Muska_NJ_MidGoal_StartSkating03 vol = 200 RANDOMCASE Playstream Muska_NJ_MidGoal_StartSkating04 vol = 200 RANDOMEND ENDSCRIPT
SCRIPT NJ_Goal_ProScore_Muska_LeaveVO RANDOM_NO_REPEAT(1, 1, 1, 1) RANDOMCASE Playstream Muska_NJ_MidGoal_Leaving01 vol = 200 RANDOMCASE Playstream Muska_NJ_MidGoal_Leaving02 vol = 200 RANDOMCASE Playstream Muska_NJ_MidGoal_Leaving03 vol = 200 RANDOMCASE Playstream Muska_NJ_MidGoal_Leaving04 vol = 200 RANDOMEND ENDSCRIPT
SCRIPT NJ_AddGoal_TrashTrick1of3 AddGoal_trickspot { Version = 6 Start_cam_anims = [ { virtual_cam walk_into_frame targetId = TRG_G_ts6_Pro targetOffset = VECTOR(8.69999980927, 49.79999923706, -11.30000019073) positionOffset = VECTOR(118.90000152588, 21.79999923706, 90.90000152588) frames = 160 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Joey_NJ_Goal_Trickspot6_Camanim01_skater } { virtual_cam targetId = TRG_G_ts6_Pro targetOffset = VECTOR(-1.60000002384, 52.59999847412, 19.89999961853) positionOffset = VECTOR(-91.59999847412, 14.19999980927, -7.59999990463) frames = 160 skippable = 1 play_hold cam_anim_text = Joey_NJ_Goal_Trickspot6_Camanim02 } { anim = G_ts_cameraintro02 skippable = 1 play_hold cam_anim_text = Joey_NJ_Goal_Trickspot6_Camanim03 } ] init_geo_prefix = "TRG_Ped_ts_Observer" intro_node = TRG_G_ts_IntroNode pro = "Joey" full_name = "Joey" key_combos = [ Air_SquareL ] goal_description = Joey_NJ_Goal_Trickspot6 view_goals_text = "IMPRESS JOEY" goal_text = "\\ml into the Trash" key_combo_text = "\\n Spine Transfer (\\ml) into the trash" goal_flags = [ got_1 ] child = NJ_Goal_Trickspot retry_stage } ENDSCRIPT
SCRIPT NJ_Trickspot6Trigger1 IF GoalManager_GoalExists name = NJ_Goal_Trickspot IF GoalManager_GoalIsActive name = NJ_goal_trickspot6 StartGap GapID = G_TS6_trash flags = [ cancel_ground ] trickscript = NJ_goal_trickspot6 EndGap GapID = G_TS6_trash2 trickscript = NJ_goal_trickspot6 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Trickspot6Trigger2 IF GoalManager_GoalExists name = NJ_Goal_Trickspot IF GoalManager_GoalIsActive name = NJ_goal_trickspot6 EndGap GapID = G_TS6_trash trickscript = NJ_goal_trickspot6 StartGap GapID = G_TS6_trash2 flags = [ cancel_ground ] trickscript = NJ_goal_trickspot6 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_goal_trickspot6 IF GoalManager_GoalExists name = NJ_Goal_Trickspot IF GoalManager_GoalIsActive name = NJ_goal_trickspot6 IF GoalManager_SetGoalFlag name = NJ_goal_trickspot6 got_1 1 ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_TrashTrick2of3 AddGoal_trickspot { Start_cam_anims = [ { virtual_cam targetId = TRG_G_ts_Pro targetOffset = VECTOR(8.69999980927, 49.79999923706, -11.30000019073) positionOffset = VECTOR(118.90000152588, 21.79999923706, 90.90000152588) frames = 120 skippable = 1 } ] init_geo_prefix = "TRG_Ped_ts_Observer" intro_node = TRG_G_ts_IntroNode pro = "Joey" full_name = "Joey" key_combos = [ Air_SquareL ] goal_description = Joey_NJ_Goal_Trickspot goal_text = "Spine and \\t1 Into the Trash" view_goals_text = "IMPRESS JOEY" key_combo_text = "\\n \\ml \\k1" goal_flags = [ got_1 ] child = NJ_Goal_Tetris retry_stage } ENDSCRIPT
SCRIPT NJ_TrickspotTrigger1 IF GoalManager_GoalExists name = NJ_Goal_Trickspot IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot StartGap GapID = G_TS_trash flags = [ cancel_ground ] KeyCombo = Air_SquareL trickscript = NJ_Goal_Trickspot EndGap GapID = G_TS_trash2 trickscript = NJ_Goal_Trickspot ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_TrickspotTrigger2 IF GoalManager_GoalExists name = NJ_Goal_Trickspot IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot EndGap GapID = G_TS_trash trickscript = NJ_Goal_Trickspot StartGap GapID = G_TS_trash2 flags = [ cancel_ground ] KeyCombo = Air_SquareL trickscript = NJ_Goal_Trickspot ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Trickspot IF GoalManager_GoalExists name = NJ_Goal_Trickspot IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot IF GoalManager_SetGoalFlag name = NJ_Goal_Trickspot got_1 1 ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_TrashTrick3of3 AddGoal_Tetris { intro_node = TRG_G_TETRIS_IntroNode record_type = score difficulty_level_params = [ { time = 120 tricktris_total_to_win = 5 } { time = 90 tricktris_total_to_win = 10 } { time = 60 tricktris_total_to_win = 20 } ] pro = "Joey" full_name = "Joey" goal_description = Joey_NJ_Goal_Tetris goal_text = "Land the Tricks" view_goals_text = "IMPRESS JOEY" tricktris tricktris_block_size = 5 goal_tetris_key_combos = [ Air_CircleU Air_CircleD Air_CircleL Air_CircleR Air_SquareU Air_SquareD Air_SquareL Air_SquareR ] acceleration_interval = 5 acceleration_percent = 0.05000000075 time_to_stop_adding_tricks = 10 kill_radius = 180 goal_start_script = NJ_Tetris_Start goal_deactivate_script = NJ_Tetris_Deactivate } ENDSCRIPT
SCRIPT NJ_Tetris_Start IF NOT IsAlive name = TRGP_TetrisRespawner Create name = TRGP_TetrisRespawner ENDIF ENDSCRIPT
SCRIPT NJ_Tetris_Deactivate IF IsAlive name = TRGP_TetrisRespawner kill name = TRGP_TetrisRespawner ENDIF ENDSCRIPT
SCRIPT TetrisRespawn wait 0.69999998808 seconds RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "Stay on the ramps, yo!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Try to keep straight!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Easy there Killer!" style = panel_message_goal RANDOMEND Skater : KillSkater Node = TRG_G_Tetris_RestartNode ENDSCRIPT
SCRIPT NJ_AddGoal_MikeV AddGoal_Special { intro_node = TRG_G_Special_IntroNode always_initialize_goal difficulty_level_params = [ { unlimited_time = 1 } { time = 90 } { time = 20 } ] Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(10218.50000000000, -733.59997558594, 6752.89990234375) positionOffset = VECTOR(2225.60009765625, -64.40000152588, 780.29998779297) frames = 120 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Vallely_NJ_Goal_Special_Camanim01_skater } { virtual_cam targetId = world targetOffset = VECTOR(1575.09997558594, -1327.80004882812, -9066.90039062500) positionOffset = VECTOR(2283.50000000000, -57.90000152588, 826.79998779297) speaker_obj_id = TRG_G_Special_Stand frames = 120 skippable = 1 play_hold cam_anim_text = Vallely_NJ_Goal_Special_Camanim02 } { virtual_cam targetId = world targetOffset = VECTOR(-3542.50000000000, -2649.69995117188, -6716.10009765625) positionOffset = VECTOR(2363.39990234375, -38.90000152588, 919.50000000000) speaker_obj_id = TRG_G_Special_Stand frames = 120 skippable = 1 play_hold } ] goal_text = "Get special then land a Flamingo" success_node = TRG_G_special_successNode dont_bounce_skater pro = "Vallely" full_name = "Mike Vallely" time = 60 trigger_wait_script = nullscript next_trigger_script = nullscript goal_description = Vallely_NJ_Goal_Special view_goals_text = "Get special then land a Flamingo (\\k1)" trick_type = air trick_name = Trick_Flamingo goal_intro_script = NJ_Goal_Special_Intro goal_deactivate_script = NJ_Goal_Special_Deactivate intro_node = TRG_G_Special_IntroNode goal_start_script = NJ_Goal_Special_Start reward_trickslot } ENDSCRIPT
SCRIPT NJ_Goal_Special_Intro Create name = TRG_G_Special_Stand TRG_G_Special_Pro : Hide ENDSCRIPT
SCRIPT NJ_Goal_Special_Start ClearExceptionGroup NJ_Special Spawnscript NJ_Goal_Special_TrickChecker id = NJ_Goal_InSpecial ENDSCRIPT
SCRIPT NJ_Goal_Special_TrickChecker ClearExceptionGroup NJ_Special SetException Ex = SkaterEnterSpecial scr = NJ_Goal_InSpecial Group = NJ_Special wait 2 seconds GoalManager_GetDifficultyLevel IF ( <difficulty_level> = 0 ) Spawnscript NJ_Goal_Special_Hinter id = NJ_Goal_InSpecial ENDIF Block ENDSCRIPT
SCRIPT NJ_Goal_Special_Hinter GoalManager_ReplaceTrickText name = NJ_goal_special text = "Do tricks to fill your special meter!" create_panel_block id = current_goal text = <tricktext> style = panel_message_goal ENDSCRIPT
SCRIPT NJ_Goal_InSpecial BroadcastEvent type = ClearedTheCar IF GoalManager_GoalIsActive name = NJ_goal_special ClearExceptionGroup NJ_Special GoalManager_ReplaceTrickText name = NJ_goal_special text = "\\n\\t1\\n\\k1" create_panel_block id = current_goal text = <tricktext> style = panel_message_goal SetException Ex = SkaterExitSpecial scr = NJ_Goal_OutSpecial Group = NJ_Special Block ELSE ClearExceptionGroup NJ_Special KillSpawnedScript id = NJ_Goal_InSpecial ENDIF ENDSCRIPT
SCRIPT NJ_Goal_OutSpecial IF GoalManager_GoalIsActive name = NJ_goal_special ClearExceptionGroup NJ_Special create_panel_block id = current_goal text = "\\n Don\'t worry about it.  Get up, dust off, and try again." style = panel_message_goal SetException Ex = SkaterEnterSpecial scr = NJ_Goal_InSpecial Group = NJ_Special wait 2 seconds GoalManager_GetDifficultyLevel IF ( <difficulty_level> = 0 ) Spawnscript NJ_Goal_Special_Hinter id = NJ_Goal_InSpecial ENDIF Block ELSE ClearExceptionGroup NJ_Special KillSpawnedScript id = NJ_Goal_InSpecial ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Special_Deactivate ClearExceptionGroup NJ_Special kill name = TRG_G_Special_Stand TRG_G_Special_Pro : UnHide KillSpawnedScript id = NJ_Goal_InSpecial ENDSCRIPT
SCRIPT NJ_AddGoal_ProTest AddGoal_Tetris { Version = 5 goal_tetris_key_combos = [ Air_CircleU Air_CircleD Air_CircleL Air_CircleR Air_SquareU Air_SquareD Air_SquareL Air_SquareR ] time = 60 goal_text = "Hit the Tricks Over the Train Station Spine." view_goals_text = "Trick Over the Train Station Spine" pro = "DigiVid" full_name = "Team Filmer" Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-4177.70019531250, -2085.89990234375, -677.59997558594) positionOffset = VECTOR(-13621.20019531250, 235.19999694824, -3008.39990234375) frames = 120 skippable = 1 play_hold } ] success_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-4177.70019531250, -2085.89990234375, -677.59997558594) positionOffset = VECTOR(-13621.20019531250, 235.19999694824, -3008.39990234375) frames = 120 skippable = 1 play_hold } ] goal_description = DigiVid_NJ_Goal_Tetris5 acceleration_interval = 1 difficulty_level_params = [ { time_to_stop_adding_tricks = 40 acceleration_percent = 1 } { time_to_stop_adding_tricks = 25 acceleration_percent = 4 } { time_to_stop_adding_tricks = 20 acceleration_percent = 7 } ] init_geo_prefix = "ProTest_QPs" Trick_Flag = 0 record_type = none goal_start_script = NJ_Goal_ProTest_Start goal_success_script = NJ_Goal_ProTest_Success goal_deactivate_script = NJ_Goal_ProTest_Deactivate } ENDSCRIPT
SCRIPT NJ_Goal_ProTest_Intro ENDSCRIPT
SCRIPT NJ_Goal_ProTest_Start Create name = ProTest_QPs NJ_EndGap_Station Spawnscript NJ_Goal_ProTest_Start_Spawned ENDSCRIPT
SCRIPT NJ_Goal_Tetris5_Start Spawnscript NJ_Tetris5_YellowFlash params = { piece = SpineGap01 } id = ProTestFlashingScript01 Spawnscript NJ_Tetris5_YellowFlash params = { piece = SpineGap02 } id = ProTestFlashingScript02 Spawnscript NJ_Tetris5_YellowFlash params = { piece = ProTest_QPs } id = ProTestFlashingScript03 ENDSCRIPT
SCRIPT NJ_Tetris5_YellowFlash piece = ProTest_QPs BEGIN SetObjectColor name = <piece> color = ( 255 + ( 255 * 256 ) + ( 120 * 65536 ) ) wait 8 frames SetObjectColor name = <piece> color = ( 254 + ( 163 * 256 ) + ( 90 * 65536 ) ) wait 8 frames REPEAT ENDSCRIPT
SCRIPT NJ_Goal_ProTest_Start_Spawned IF NOT InNetGame goal_team_select_init goal_id = NJ_Goal_Tetris5 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_ProTest_Success IF NOT InNetGame goal_team_select_success goal_id = NJ_Goal_Tetris5 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_ProTest_Deactivate IF NOT InNetGame goal_team_select_deactivate goal_id = NJ_Goal_Tetris5 ENDIF SetObjectColor_CurrentTOD prefix = SpineGap SetObjectColor_CurrentTOD name = ProTest_QPs ENDSCRIPT
SCRIPT NJ_StartGap_Station StartGap GapID = <ID1> flags = [ PURE_AIR ] ENDSCRIPT
SCRIPT NJ_EndGap_Station IF GoalManager_GoalIsActive name = NJ_Goal_Tetris5 Skater : EndGap GapID = <ID1> text = "Crazy Train Spine" score = 50 GapScript = NJ_Goal_ProtestGot1 ELSE Skater : EndGap GapID = <ID1> text = "Crazy Train Spine" score = 50 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_ProtestGot1 GoalManager_EditGoal name = NJ_Goal_Tetris5 params = { Trick_Flag = 1 } ENDSCRIPT
SCRIPT NJ_AddGoal_RoofSeries2of3 AddGoal_Gaps { Version = 2 intro_node = Trg_G_gap2_intronode start_skater_standing Start_cam_anims = [ { virtual_cam targetId = TRG_G_gap2_Pro targetOffset = VECTOR(13.80000019073, 49.29999923706, 28.39999961853) positionOffset = VECTOR(-101.80000305176, 0.60000002384, 49.59999847412) frames = 120 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_Gaps2_Camanim01 } { virtual_cam targetId = TRG_G_gap2_Pro targetOffset = VECTOR(-13.50000000000, 47.70000076294, 32.40000152588) positionOffset = VECTOR(-77.80000305176, 0.00000000000, -32.40000152588) frames = 120 skippable = 1 cam_anim_text = Shawn_NJ_Goal_Gaps2_Camanim02 } { virtual_cam targetId = TRG_G_gap2_Pro targetOffset = VECTOR(13.80000019073, 49.29999923706, 28.39999961853) positionOffset = VECTOR(-101.80000305176, 0.60000002384, 49.59999847412) frames = 120 skippable = 1 no_play_hold } ] pro = "Shawn" full_name = "Shawn" goal_text = "Transfer over the alley" view_goals_text = "Transfer over the alley" init_geo_prefix = "TRGP_RoofSeries2Respawner" goal_flags = [ got_1 ] goal_description = Shawn_NJ_Goal_Gaps2 child = NJ_Goal_trickspot3 } ENDSCRIPT
SCRIPT NJ_Gap2Trigger1 StartGap GapID = NJ_Gap2_roof1 trickscript = NJ_Goal_gaps1 ENDSCRIPT
SCRIPT NJ_Gap2Trigger2 EndGap GapID = NJ_Gap2_roof1 ENDSCRIPT
SCRIPT NJ_Goal_gaps1 IF GoalManager_GoalExists name = NJ_Goal_Gaps2 IF GoalManager_GoalIsActive name = NJ_Goal_Gaps2 IF GoalManager_SetGoalFlag name = NJ_Goal_Gaps2 got_1 1 ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps2 IF GoalManager_GoalExists name = NJ_Goal_Gaps2 IF GoalManager_GoalIsActive name = NJ_Goal_Gaps2 IF GoalManager_SetGoalFlag name = NJ_Goal_Gaps2 got_2 1 ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT RoofSeries2Respawn wait 0.69999998808 seconds RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "Ouch! Well, you\'ve got heart." style = panel_message_death RANDOMCASE create_panel_block id = current_goal text = "Damn dude!" style = panel_message_death RANDOMCASE create_panel_block id = current_goal text = "Do you even feel pain?!?" style = panel_message_death RANDOMEND Skater : KillSkater Node = TRG_G_Gap2_RestartNode ENDSCRIPT
SCRIPT NJ_AddGoal_RoofSeries1of3 AddGoal_trickspot { Version = 2 init_geo_prefixes = [ "TRG_Ped_ts2_Observer" "TRG_SFX_TrigBox_HoodCrowd" ] intro_node = TRG_G_ts2_IntroNode walk_into_frame Start_cam_anims = [ { anim = G_ts2_cameraintro01 skippable = 1 } ] goal_text = "Jump onto the roof. Use (\\mm) to get off your board while jumping up to the roof." view_goals_text = "Jump onto the roof (\\mm)" pro = "Shawn" full_name = "Shawn" key_combo_text = "\\n Use the quarter pipe to get up to roof height!" goal_description = Shawn_NJ_Goal_Trickspot2 goal_flags = [ got_1 ] child = NJ_Goal_Gaps2 retry_stage goal_start_script = NJ_Roof1_Start goal_deactivate_script = NJ_Roof1_Deactivate } ENDSCRIPT
SCRIPT NJ_Roof1_Start ClearExceptionGroup NJ_Roof1 ENDSCRIPT
SCRIPT NJ_Roof1Trigger GoalManager_GetDifficultyLevel printf "NJ_trickspot2Trigger" IF GoalManager_GoalExists name = NJ_goal_trickspot2 IF GoalManager_GoalIsActive name = NJ_goal_trickspot2 printf "================================= Starting Gap" ClearExceptionGroup NJ_Roof1 SWITCH <difficulty_level> CASE 0 StartGap GapID = QPToWalk CASE 1 StartGap GapID = QPToWalk CASE 2 StartGap GapID = QPToWalk flags = [ cancel_ground ] SetException Ex = SkaterEnterWalking scr = NJ_Roof1_Walking Group = NJ_Roof1 ENDSWITCH Block ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Roof1_Walking printf "=================================== SkaterEnterWalking Exception Fired." ClearExceptionGroup NJ_Roof1 Skater : EndGap GapID = QPToWalk continue = { GapID = WalkToLand flags = [ cancel_ground ] } SetException Ex = SkaterExitVertAir scr = NJ_Roof1_TryAgain Group = NJ_Roof1 ENDSCRIPT
SCRIPT NJ_Roof1TriggerLanded GoalManager_GetDifficultyLevel printf "================================== Post-walking roof trigger hit" ClearExceptionGroup NJ_Roof1 SWITCH <difficulty_level> CASE 0 EndGap GapID = QPToWalk GapScript = NJ_Roof1Win CASE 1 EndGap GapID = QPToWalk GapScript = NJ_Roof1Win CASE 2 EndGap GapID = WalkToLand GapScript = NJ_Roof1Win ENDSWITCH ENDSCRIPT
SCRIPT NJ_Roof1Win printf "======================= Set flag, win goal" IF GoalManager_GoalIsActive name = NJ_goal_trickspot2 GoalManager_SetGoalFlag name = NJ_goal_trickspot2 got_1 1 ENDIF ENDSCRIPT
SCRIPT NJ_Roof1_TryAgain ClearExceptionGroup NJ_Roof1 create_panel_block id = current_goal text = "Almost! Use the quarter pipe to get up to roof height!" style = panel_message_goal ENDSCRIPT
SCRIPT NJ_Roof1_Deactivate ClearExceptionGroup NJ_Roof1 ENDSCRIPT
SCRIPT NJ_AddGoal_RoofSeries3of3 AddGoal_trickspot { Version = 3 Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-7967.89990234375, -4281.50000000000, 1526.00000000000) positionOffset = VECTOR(813.20001220703, 498.79998779297, 1729.30004882812) frames = 120 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_Trickspot3_Camanim01 } { virtual_cam targetId = world targetOffset = VECTOR(-6584.20019531250, -6310.29980468750, 1583.40002441406) positionOffset = VECTOR(755.79998779297, 480.10000610352, 1753.30004882812) frames = 120 skippable = 1 play_hold } ] goal_text = "Spine transfer (\\ml) off your roof" view_goals_text = "Impress Shawn" pro = "Shawn" full_name = "Shawn" goal_description = Shawn_NJ_Goal_Trickspot3 goal_flags = [ got_1 ] init_geo_prefix = "TRGP_RoofSeries3Respawner" } ENDSCRIPT
SCRIPT NJ_AddGoal_trickspot3presuccess Create prefix = "TRG_G_TS3_ProSuccess" ENDSCRIPT
SCRIPT NJ_AddGoal_trickspot3postsuccess kill prefix = "TRG_G_TS3_ProSuccess" ENDSCRIPT
SCRIPT NJ_trickspot3Trigger1 IF GoalManager_GoalExists name = NJ_Goal_trickspot3 IF GoalManager_GoalIsActive name = NJ_Goal_trickspot3 StartGap GapID = G_TS3_spinedown flags = [ cancel_ground ] tricktext = "Spine Transfer" trickscript = NJ_goal_trickspot3finish ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_trickspot3Trigger2 IF GoalManager_GoalExists name = NJ_Goal_trickspot3 IF GoalManager_GoalIsActive name = NJ_Goal_trickspot3 EndGap GapID = G_TS3_spinedown ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_goal_trickspot3finish IF GoalManager_GoalExists name = NJ_Goal_trickspot3 IF GoalManager_GoalIsActive name = NJ_Goal_trickspot3 IF GoalManager_SetGoalFlag name = NJ_Goal_trickspot3 got_1 1 ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT RoofSeries3Respawn wait 2 seconds IF GoalManager_GoalIsActive name = NJ_Goal_trickspot3 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "No,no. I said spine down. Hit \\ml!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Try again! Hit \\ml to spine!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Well, you got down.  Now do it using \\ml to spine" style = panel_message_goal RANDOMEND Skater : KillSkater Node = TRG_G_TS3_RestartNode ENDIF ENDSCRIPT
SCRIPT EricChallengeRespawn IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot4 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = OutofBounds text = "Wussin out?!?" style = panel_message_death RANDOMCASE create_panel_block id = OutofBounds text = "Where you goin?" style = panel_message_death RANDOMCASE create_panel_block id = OutofBounds text = "Can\'t take the heat?" style = panel_message_death RANDOMEND Skater : KillSkater Node = TRG_G_TS4_RestartNode Spawnscript NJ_EricChallengeRespawner_TextWait ENDIF IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot5 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = OutofBounds text = "Wussin out?!?" style = panel_message_death RANDOMCASE create_panel_block id = OutofBounds text = "Where you goin?" style = panel_message_death RANDOMCASE create_panel_block id = OutofBounds text = "Can\'t take the heat?" style = panel_message_death RANDOMEND Skater : KillSkater Node = TRG_G_TS5_RestartNode Spawnscript NJ_EricChallengeRespawner_TextWait ENDIF IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot7 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = OutofBounds text = "Wussin out?!?" style = panel_message_death RANDOMCASE create_panel_block id = OutofBounds text = "Where you goin?" style = panel_message_death RANDOMCASE create_panel_block id = OutofBounds text = "Can\'t take the heat?" style = panel_message_death RANDOMEND Skater : KillSkater Node = TRG_G_TS7_RestartNode Spawnscript NJ_EricChallengeRespawner_TextWait ENDIF IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot9 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = OutofBounds text = "Wussin out?!?" style = panel_message_death RANDOMCASE create_panel_block id = OutofBounds text = "Where you goin?" style = panel_message_death RANDOMCASE create_panel_block id = OutofBounds text = "Can\'t take the heat?" style = panel_message_death RANDOMEND Skater : KillSkater Node = TRG_G_TS9_RestartNode Spawnscript NJ_EricChallengeRespawner_TextWait ENDIF ENDSCRIPT
SCRIPT NJ_EricChallengeRespawner_TextWait wait 1 second IF ObjectExists id = OutofBounds DestroyScreenElement id = OutofBounds ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_EricChallenge1of3 AddGoal_trickspot { Version = 4 difficulty_level_params = [ { unlimited_time = 1 } { time = 45 } { time = 30 } ] Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(11717.90039062500, -293.60000610352, -2229.80004882812) positionOffset = VECTOR(2277.10009765625, -79.00000000000, 1060.80004882812) frames = 180 skippable = 1 cam_anim_text = Sparrow_NJ_Goal_Trickspot4_CamAnim01 play_hold } { virtual_cam targetId = world targetOffset = VECTOR(9893.59960937500, -1156.40002441406, 7579.79980468750) positionOffset = VECTOR(2307.00000000000, -90.40000152588, 1152.09997558594) frames = 180 skippable = 1 speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Sparrow_NJ_Goal_Trickspot4_CamAnim02_skater play_hold } { virtual_cam targetId = world targetOffset = VECTOR(11717.90039062500, -293.60000610352, -2229.80004882812) positionOffset = VECTOR(2277.10009765625, -79.00000000000, 1060.80004882812) frames = 180 skippable = 1 } ] pro = "Sparrow" full_name = "Eric" key_combos = [ Air_CircleL ] goal_description = Sparrow_NJ_Goal_Trickspot4 goal_text = "Do a \\t1 (\\k1) in the Drainage Ditch" view_goals_text = "Eric\'s Challenge" goal_flags = [ got_1 ] child = NJ_Goal_Trickspot7 retry_stage goal_start_script = NJ_Trickspot4_Start goal_deactivate_script = NJ_Trickspot4_End } ENDSCRIPT
SCRIPT NJ_Trickspot4_Start TRG_G_TS4_Pro : Hide Create prefix = "TRG_G_TS4_EricSkate" ENDSCRIPT
SCRIPT NJ_Trickspot4_End TRG_G_TS4_Pro : UnHide kill prefix = "TRG_G_TS4_EricSkate" ENDSCRIPT
SCRIPT NJ_Trickspot4Trigger1 IF GoalManager_GoalExists name = NJ_Goal_Trickspot4 IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot4 StartGap GapID = G_TS4_FirstA flags = [ cancel_ground ] KeyCombo = Air_CircleL trickscript = NJ_Goal_Trickspot4 EndGap GapID = G_TS4_FirstB trickscript = NJ_Goal_Trickspot4 EndGap GapID = G_TS4_FirstA trickscript = NJ_Goal_Trickspot4 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Trickspot4Trigger2 IF GoalManager_GoalExists name = NJ_Goal_Trickspot4 IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot4 EndGap GapID = G_TS4_FirstA trickscript = NJ_Goal_Trickspot4 EndGap GapID = G_TS4_FirstB trickscript = NJ_Goal_Trickspot4 StartGap GapID = G_TS4_FirstB flags = [ cancel_ground ] KeyCombo = Air_CircleL trickscript = NJ_Goal_Trickspot4 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Trickspot4 IF GoalManager_GoalExists name = NJ_Goal_Trickspot4 IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot4 IF GoalManager_SetGoalFlag name = NJ_Goal_Trickspot4 got_1 1 ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_EricChallenge2of3 AddGoal_trickspot { Version = 5 difficulty_level_params = [ { unlimited_time = 1 } { time = 45 } { time = 30 } ] Start_cam_anims = [ { virtual_cam targetId = TRG_G_TS5_Pro targetOffset = VECTOR(4.69999980927, 62.29999923706, 0.30000001192) positionOffset = VECTOR(-2.70000004768, 3.50000000000, 42.70000076294) frames = 360 skippable = 1 no_play_hold } ] pro = "Sparrow" full_name = "Eric" key_combos = [ Air_CircleL ] goal_description = Sparrow_NJ_Goal_Trickspot5 goal_text = "Do a \\t1 (\\k1) then revert to a manual" view_goals_text = "\\t1 in the Drainage Ditch then revert \\mk to a manual \\b6 \\b3" key_combo_text = "Eric\'s Challenge" goal_flags = [ got_1 ] child = NJ_Goal_Trickspot9 retry_stage goal_start_script = NJ_Trickspot5_Start goal_deactivate_script = NJ_Trickspot5_Deactivate } ENDSCRIPT
SCRIPT NJ_Trickspot5_Start TRG_G_TS5_Pro : Hide Create prefix = "TRG_G_TS4_EricSkate" Spawnscript NJ_TrickChecker_StageStart id = NJ_Trickspot5 ENDSCRIPT
SCRIPT NJ_Trickspot5_Deactivate KillSpawnedScript id = NJ_Trickspot5 kill prefix = "TRG_G_TS4_EricSkate" TRG_G_TS5_Pro : UnHide ClearExceptionGroup NJ_TrickChecker ENDSCRIPT
SCRIPT NJ_TrickChecker_StageStart printf "NJ_TrickChecker_StageStart" ClearExceptionGroup NJ_TrickChecker SetException Ex = SkaterEnterVertAir scr = NJ_TrickChecker_InVertAir Group = NJ_TrickChecker Block ENDSCRIPT
SCRIPT NJ_TrickChecker_InVertAir GoalManager_ReplaceTrickText name = NJ_Goal_Trickspot5 text = "Do a \\t1 (\\k1)!" create_panel_block id = current_goal text = <tricktext> style = panel_message_goal ClearExceptionGroup NJ_TrickChecker SetException Ex = SkaterExitVertAir scr = NJ_TrickChecker_StageStart Group = NJ_TrickChecker SetException Ex = SkaterEnterGrab scr = NJ_TrickChecker_TriggeredGrab Group = NJ_TrickChecker Block ENDSCRIPT
SCRIPT NJ_TrickChecker_TriggeredGrab ClearExceptionGroup NJ_TrickChecker SetException Ex = SkaterExitCombo scr = NJ_TrickChecker_Restart Group = NJ_TrickChecker SetExceptionHandler Ex = SkaterTrickDisplayed scr = NJ_TrickChecker_IsMelon Group = NJ_TrickChecker Block ENDSCRIPT
SCRIPT NJ_TrickChecker_IsMelon ClearExceptionGroup NJ_TrickChecker IF Skater : IsLatestTrick KeyCombo = Air_CircleL Goto NJ_TrickChecker_CheckRevert ENDIF Goto NJ_TrickChecker_TriggeredGrab create_panel_block id = current_goal text = "Wrong trick! <tricktext>" style = panel_message_goal GoalManager_ReplaceTrickText name = NJ_Goal_Trickspot5 text = "Do a \\t1 (\\k1)!" ENDSCRIPT
SCRIPT NJ_TrickChecker_CheckRevert ClearExceptionGroup NJ_TrickChecker create_panel_block id = current_goal text = "Now Revert (hit \\mk as you land)!" style = panel_message_goal SetException Ex = SkaterExitCombo scr = NJ_TrickChecker_Restart Group = NJ_TrickChecker SetException Ex = SkaterEnterRevert scr = NJ_TrickChecker_InRevert Group = NJ_TrickChecker Block ENDSCRIPT
SCRIPT NJ_TrickChecker_InRevert create_panel_block id = current_goal text = "Quick, hit (\\b7 \\b4) to Manual!" style = panel_message_goal ClearExceptionGroup NJ_TrickChecker SetException Ex = SkaterExitCombo scr = NJ_TrickChecker_Restart Group = NJ_TrickChecker SetException Ex = SkaterEnterManual scr = NJ_TrickChecker_InManual Group = NJ_TrickChecker Block ENDSCRIPT
SCRIPT NJ_TrickChecker_InManual create_panel_block id = current_goal text = "OK!  Now land the combo!" style = panel_message_goal printf "NJ_TrickChecker_InManual" ClearExceptionGroup NJ_TrickChecker SetException Ex = SkaterBailed scr = NJ_TrickChecker_Restart Group = NJ_TrickChecker SetException Ex = SkaterLanded scr = NJ_TrickChecker_Win Group = NJ_TrickChecker Block ENDSCRIPT
SCRIPT NJ_TrickChecker_Restart Goto NJ_TrickChecker_StageStart ENDSCRIPT
SCRIPT NJ_TrickChecker_Win printf "NJ_TrickChecker_Win" ClearExceptionGroup NJ_TrickChecker wait 1 second SK5_WinCurrentGoal ENDSCRIPT
SCRIPT NJ_Goal_Trickspot5 IF GoalManager_GoalExists name = NJ_Goal_Trickspot5 IF GoalManager_GoalIsActive name = NJ_Goal_Trickspot5 IF GoalManager_SetGoalFlag name = NJ_Goal_Trickspot5 got_1 1 ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_BeatEricHighScore AddGoal_trickspot { Version = 9 time = 60 goal_description = Sparrow_NJ_Goal_Trickspot9 goal_text = "Beat Eric\'s Score" view_goals_text = "Beat Eric" pro = "Sparrow" full_name = "Eric Sparrow" retry_stage goal_flags = [ got_1 ] goal_intro_script = NJ_Goal_Trickspot9_Intro goal_start_script = NJ_Goal_Trickspot9_Start goal_deactivate_script = NJ_Goal_Trickspot9_Deactivate expire = NJ_Goal_Trickspot9_Expire Start_cam_anims = [ { virtual_cam frames = 120 targetId = TRG_G_TS9_Pro targetOffset = VECTOR(4.69999980927, 62.29999923706, 0.30000001192) positionOffset = VECTOR(-2.70000004768, 3.50000000000, 42.70000076294) skippable = 1 } ] success_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(2112.89990234375, 202.30000305176, 10642.40039062500) positionOffset = VECTOR(1599.40002441406, -63.70000076294, 659.09997558594) frames = 240 skippable = 1 no_play_hold pre_anim_script = NJ_TS9_Skateped post_anim_script = NJ_TS9_KillSkateped cam_anim_text = Sparrow_NJ_Goal_Trickspot9_Success } ] } goal_success_script = NJ_TS9_KillSkateped IF GoalManager_GoalExists name = NJ_Goal_Trickspot9 GoalManager_SetShouldDeactivateOnExpire name = NJ_Goal_Trickspot9 0 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_TS9_Outro NJ_TS9_Skateped ENDSCRIPT
SCRIPT NJ_TS9_Skateped IF NOT IsAlive name = TRG_G_GS_EricSkate Create name = TRG_G_GS_EricSkate TRG_G_GS_EricSkate : Obj_Playsound RollAsphalt vol = 100 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Trickspot9_Intro KillSpawnedScript name = NJ_Goal_Trickspot9_ScoreChecker_init KillSpawnedScript name = NJ_Goal_Trickspot9_ScoreChecker KillSpawnedScript name = NJ_Goal_Trickspot9_ScoreChecker_add Spawnscript NJ_Goal_Trickspot9_ScoreChecker_init ENDSCRIPT
SCRIPT NJ_Goal_Trickspot9_Start TRG_G_TS9_Pro : Hide IF NOT IsAlive name = TRG_G_TS4_EricSkate Create name = TRG_G_TS4_EricSkate ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Trickspot9_Deactivate IF ObjectExists id = goal_comp_out_of_bounds_warning DestroyScreenElement id = goal_comp_out_of_bounds_warning ENDIF KillSpawnedScript name = NJ_Goal_Trickspot9_ScoreChecker_init KillSpawnedScript name = NJ_Goal_Trickspot9_ScoreChecker KillSpawnedScript name = NJ_Goal_Trickspot9_ScoreChecker_add kill name = TRG_G_TS4_EricSkate kill_panel_message_if_it_exists id = Eric_score IF IsAlive name = TRG_G_GS_EricSkate printf "====================================== Killing Eric Skateped" kill name = TRG_G_GS_EricSkate ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Trickspot9_Expire printf "================================== Goal Expired" IF GetFlag flag = FLAG_LOSING_TO_ERIC SK5_LoseCurrentGoal ELSE SK5_WinCurrentGoal ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Trickspot9_EricLanded printf "===================================== Eric Landed" BroadcastEvent type = NJ_Goal_Trickspot9_EricLanded ENDSCRIPT
FLAG_LOSING_TO_ERIC = 2 SCRIPT NJ_Goal_Trickspot9_ScoreChecker_init UnsetFlag flag = FLAG_LOSING_TO_ERIC <score> = 0 Goto NJ_Goal_Trickspot9_ScoreChecker params = <...> ENDSCRIPT
SCRIPT NJ_Goal_Trickspot9_ScoreChecker ClearExceptionGroup NJ_Trickspot9 SetException Ex = NJ_Goal_Trickspot9_EricLanded scr = NJ_Goal_Trickspot9_Score_add params = <...> BEGIN wait 1 frame IF SkaterTotalScoreGreaterThan <score> UnsetFlag flag = FLAG_LOSING_TO_ERIC ELSE SetFlag flag = FLAG_LOSING_TO_ERIC ENDIF REPEAT ENDSCRIPT
SCRIPT NJ_Goal_Trickspot9_Score_add ClearExceptionGroup NJ_Trickspot9 printf "================================== Add Score" GoalManager_GetDifficultyLevel SWITCH <difficulty_level> CASE 0 IF SkaterTotalScoreGreaterThan <score> IF SkaterTotalScoreGreaterThan ( <score> + 20000 ) printf "You\'re kicking his ass" <score> = ( <score> + RANDOM_RANGE PAIR(1000.00000000000, 1500.00000000000) ) ELSE printf "You\'re winning" <score> = ( <score> + RANDOM_RANGE PAIR(700.00000000000, 750.00000000000) ) ENDIF ELSE printf "You\'re losing" <score> = ( <score> + RANDOM_RANGE PAIR(300.00000000000, 500.00000000000) ) ENDIF CASE 1 IF SkaterTotalScoreGreaterThan <score> IF SkaterTotalScoreGreaterThan ( <score> + 20000 ) printf "You\'re kicking his ass" <score> = ( <score> + RANDOM_RANGE PAIR(3000.00000000000, 3500.00000000000) ) ELSE printf "You\'re winning" <score> = ( <score> + RANDOM_RANGE PAIR(2000.00000000000, 2500.00000000000) ) ENDIF ELSE printf "You\'re losing" <score> = ( <score> + RANDOM_RANGE PAIR(1000.00000000000, 1500.00000000000) ) ENDIF CASE 2 IF SkaterTotalScoreGreaterThan <score> IF SkaterTotalScoreGreaterThan ( <score> + 20000 ) printf "You\'re kicking his ass" <score> = ( <score> + RANDOM_RANGE PAIR(8000.00000000000, 8500.00000000000) ) ELSE printf "You\'re winning" <score> = ( <score> + RANDOM_RANGE PAIR(5000.00000000000, 5500.00000000000) ) ENDIF ELSE printf "You\'re losing" <score> = ( <score> + RANDOM_RANGE PAIR(3000.00000000000, 3500.00000000000) ) ENDIF ENDSWITCH printf "%a" a = <score> FormatText TextName = Tony_Score "Eric\'s score %a" a = <score> Create_Panel_Message text = <Tony_Score> id = current_goal pos = PAIR(510.00000000000, 50.00000000000) time = 150000 rgba = [ 100 , 100 , 100 , 100 ] Goto NJ_Goal_Trickspot9_ScoreChecker params = <...> ENDSCRIPT
SCRIPT NJ_TS9_KillSkateped IF IsAlive name = TRG_G_GS_EricSkate printf "====================================== Killing Eric Skateped" TRG_G_GS_EricSkate : Die ENDIF ENDSCRIPT
SCRIPT NJ_BridgeLockedMessage RANDOM(1, 1) RANDOMCASE Create_Panel_Message style = panel_message_death text = "Hey! You kids stay outta there!" id = death_message RANDOMCASE Create_Panel_Message style = panel_message_death text = "Station\'s locked!" id = death_message RANDOMEND Skater : KillSkater Node = TRG_G_Counter3_RestartNode ENDSCRIPT
SCRIPT NJ_AddGoal_EricChallengeReverts AddGoal_trickspot { Version = 7 difficulty_level_params = [ { child = NJ_Goal_Trickspot9 time = 120 } { child = NJ_Goal_Trickspot9 time = 80 } { child = NJ_Goal_Trickspot5 time = 40 } ] Start_cam_anims = [ { virtual_cam targetId = TRG_G_TS7_Pro targetOffset = VECTOR(4.69999980927, 62.29999923706, 0.30000001192) positionOffset = VECTOR(-2.70000004768, 3.50000000000, 42.70000076294) frames = 360 skippable = 1 no_play_hold } ] pro = "Sparrow" full_name = "Eric" goal_description = Sparrow_NJ_Goal_Trickspot7 goal_text = "\\t1 (\\k1) then revert (\\mk) as you land 4 times" view_goals_text = "Eric\'s Challenge" key_combos = [ Air_CircleL ] goal_flags = [ got_1 got_2 got_3 got_4 ] retry_stage goal_start_script = NJ_Trickspot7_Start goal_deactivate_script = NJ_Trickspot7_Deactivate use_hud_counter hud_counter_caption = "Reverts Landed" } ENDSCRIPT
SCRIPT NJ_Trickspot7_Start printf <text> TRG_G_TS7_Pro : Hide Create prefix = "TRG_G_TS4_EricSkate" Spawnscript NJ_TS7_Initialize id = NJ_Trickspot7 GoalManager_EditGoal name = NJ_Goal_Trickspot7 params = { TS7_FlagsSet = 0 } printf "======================================= Flags Set = %f" f = <TS7_FlagsSet> GoalManager_EditGoal name = NJ_Goal_Trickspot7 params = { MelonsReverted = 0 } ENDSCRIPT
SCRIPT NJ_TS7_Initialize printf "=============================== NJ_TS7_Initialize" ClearExceptionGroup NJ_TS7_TrickCheck SetExceptionHandler Ex = SkaterTrickDisplayed scr = NJ_TS7_TrickCheck Group = NJ_TS7_TrickCheck SetException Ex = SkaterBailed scr = NJ_TS7_Restart Group = NJ_TS7_TrickCheck Block ENDSCRIPT
SCRIPT NJ_TS7_TrickCheck IF Skater : IsLatestTrick KeyCombo = Air_CircleL Goto NJ_TS7_TrickHit ENDIF Goto NJ_TS7_Initialize ENDSCRIPT
SCRIPT NJ_TS7_TrickCheckFromManual IF Skater : IsLatestTrick KeyCombo = Air_CircleL Goto NJ_TS7_TrickHit ENDIF Goto NJ_TS7_InManual ENDSCRIPT
SCRIPT NJ_TS7_TrickHit printf "================================= Flip or grab received, waiting for revert" ClearExceptionGroup NJ_TS7_TrickCheck SetException Ex = SkaterExitCombo scr = NJ_TS7_Restart Group = NJ_TS7_TrickCheck SetException Ex = SkaterEnterRevert scr = NJ_TS7_InRevert Group = LeaveAlive SetException Ex = SkaterBailed scr = NJ_TS7_Restart Group = NJ_TS7_TrickCheck Block ENDSCRIPT
SCRIPT NJ_TS7_InRevert printf "================================= Reverted, waiting for landing" ClearExceptionGroup NJ_TS7_TrickCheck GoalManager_GetGoalParams name = NJ_Goal_Trickspot7 SetException Ex = SkaterLanded scr = NJ_TS7_Flagger Group = NJ_TS7_TrickCheck SetException Ex = SkaterBailed scr = NJ_TS7_Restart Group = NJ_TS7_TrickCheck SetException Ex = SkaterEnterManual scr = NJ_TS7_InManual Group = NJ_TS7_TrickCheck GoalManager_EditGoal name = NJ_Goal_Trickspot7 params = { MelonsReverted = ( <MelonsReverted> + 1 ) } Block ENDSCRIPT
SCRIPT NJ_TS7_InManual printf "================================= Reverted, waiting for landing" ClearExceptionGroup NJ_TS7_TrickCheck ClearExceptionGroup LeaveAlive GoalManager_GetGoalParams name = NJ_Goal_Trickspot7 SetException Ex = SkaterLanded scr = NJ_TS7_Flagger Group = NJ_TS7_TrickCheck SetException Ex = SkaterBailed scr = NJ_TS7_Restart Group = NJ_TS7_TrickCheck SetExceptionHandler Ex = SkaterTrickDisplayed scr = NJ_TS7_TrickCheckFromManual Group = NJ_TS7_TrickCheck Block ENDSCRIPT
SCRIPT NJ_TS7_Flagger ClearExceptionGroup NJ_TS7_TrickCheck ClearExceptionGroup LeaveAlive GoalManager_GetGoalParams name = NJ_Goal_Trickspot7 printf "======================================= Flags Set = %f" f = <MelonsReverted> printf "======================================= Flagger Reached" SWITCH <MelonsReverted> CASE 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_1 1 printf "================================= Flag1 set" Goto NJ_TS7_Initialize CASE 2 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_1 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_2 1 printf "================================= Flag2 set" CASE 3 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_1 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_2 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_3 1 printf "================================= Flag3 set" Goto NJ_TS7_Initialize CASE 4 printf "================================= Flag4 set" GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_1 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_2 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_3 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_4 1 DEFAULT printf "================================= More than 4 reverts, all flags set" GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_1 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_2 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_3 1 GoalManager_SetGoalFlag name = NJ_Goal_Trickspot7 got_4 1 ENDSWITCH Goto NJ_TS7_Initialize ENDSCRIPT
SCRIPT NJ_TS7_Restart ClearExceptionGroup NJ_TS7_TrickCheck create_panel_block id = Current_Goal_Death text = "Almost! Hit \\mk just as you land!" style = panel_message_death Goto NJ_TS7_Initialize ENDSCRIPT
SCRIPT NJ_Trickspot7_Deactivate KillSpawnedScript id = NJ_Trickspot7 kill prefix = "TRG_G_TS4_EricSkate" TRG_G_TS7_Pro : UnHide ClearExceptionGroup NJ_TS7_TrickCheck ENDSCRIPT
SCRIPT NJ_AddGoal_Counter AddGoal_Counter { record_type = score goal_text = "Grind the Bowl Lip X times" number = 2 time = 120 pro = "Skater2" full_name = "Buddy" goal_description = [ "Grind the Bowl Lip X times" ] view_goals_text = "Grind the Bowl Lip X times" use_hud_counter hud_counter_caption = "Lip Grinds" } ENDSCRIPT
SCRIPT NJ_AddGoal_MuskaDemoFlyers AddGoal_Counter { Version = 2 difficulty_level_params = [ { time = 90 } { time = 45 } { time = 20 } ] record_type = time Start_cam_anims = [ { virtual_cam targetId = TRG_G_Counter2_Pro targetOffset = VECTOR(1.89999997616, 62.90000152588, -0.10000000149) positionOffset = VECTOR(2.40000009537, 0.60000002384, 54.90000152588) frames = 160 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_Counter2_Camanim01 } { virtual_cam targetId = world targetOffset = VECTOR(-4892.50000000000, -2644.39990234375, -7367.79980468750) positionOffset = VECTOR(-2923.89990234375, 39.70000076294, 2062.30004882812) frames = 160 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_Counter2_Camanim02 } { virtual_cam targetId = TRG_G_Counter2_Pro targetOffset = VECTOR(1.89999997616, 62.90000152588, -0.10000000149) positionOffset = VECTOR(2.40000009537, 0.60000002384, 54.90000152588) frames = 160 skippable = 1 play_hold } ] goal_text = "Put up the Flyers" view_goals_text = "FLYERs FOR THE MUSKA DEMO" number = 8 geo_prefix = "TRG_G_Counter2_arrow" pro = "Shawn" full_name = "Local skater - Shawn" goal_description = Shawn_NJ_Goal_Counter2 use_hud_counter hud_counter_caption = "Flyers" goal_deactivate_script = NJ_Goal_Counter2_Deactivate intro_node = TRG_G_Counter2_IntroNode goal_start_script = NJ_Goal_Counter2_Start goal_intro_script = NJ_Goal_Counte2_Intro } ENDSCRIPT
SCRIPT NJ_Goal_Counter2_Start IF NOT IsAlive name = TRG_G_Counter2_Eric Create name = TRG_G_Counter2_Eric ENDIF IF IsAlive name = TRG_G_Counter2_Eric TRG_G_Counter2_Eric : Hide ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Counte2_Intro IF NOT InNetGame IF NOT IsAlive name = TRG_G_Counter2_Eric Create name = TRG_G_Counter2_Eric ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Counter2_Flyer Obj_SetException Ex = SkaterInRadius scr = NJ_Counter2_FlyerGot params = { <...> } Obj_SetInnerRadius 10 Obj_RotY speed = RANDOM(1, 1, 1, 1) RANDOMCASE 50 RANDOMCASE -150 RANDOMCASE 200 RANDOMCASE -250 RANDOMEND Obj_Hover Amp = RANDOM(1, 1, 1) RANDOMCASE 5 RANDOMCASE 10 RANDOMCASE 15 RANDOMEND Freq = RANDOM(1, 1, 1) RANDOMCASE 0.50000000000 RANDOMCASE 1 RANDOMCASE 2 RANDOMEND ENDSCRIPT
SCRIPT NJ_Counter2_FlyerGot GoalManager_GotCounterObject name = NJ_Goal_Counter2 Spawnscript NJ_SFX_PaperPost PlaySound goaldone Create name = <Flyername> Die ENDSCRIPT
SCRIPT NJ_Goal_Counter2_Deactivate kill prefix = "NJ_G_Flyers" IF IsAlive name = TRG_G_Counter2_Eric kill name = TRG_G_Counter2_Eric ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_PlaygroundDemo AddGoal_HighScore { difficulty_level_params = [ { score = 15000 goal_text = "Get 15,000 points" } { score = 20000 goal_text = "Get 20,000 points" } { score = 100000 goal_text = "Get 100,000 points" } ] Start_cam_anims = [ { virtual_cam targetId = TRG_G_hs_Pro targetOffset = VECTOR(-4.59999990463, 49.90000152588, 0.80000001192) positionOffset = VECTOR(15.10000038147, 8.39999961853, 89.50000000000) frames = 120 skippable = 1 play_hold walk_into_frame cam_anim_text = Jack_NJ_Goal_Highscore_Camanim01 } { anim = G_hs_cameraintro03 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Jack_NJ_Goal_Highscore_Camanim02_skater } { virtual_cam targetId = TRG_G_hs_Pro targetOffset = VECTOR(-4.59999990463, 49.90000152588, 0.80000001192) positionOffset = VECTOR(15.10000038147, 8.39999961853, 89.50000000000) frames = 120 skippable = 1 play_hold } ] geo_prefixes = [ "TRGP_G_HS_Score" "TRG_SFX_TrigBox_SchoolPoolCrowd" ] view_goals_text = "DEMO THE NEW PLAYGROUND SETUP " goal_description = Jack_NJ_Goal_Highscore pro = "Jack" full_name = "Jack" init_geo_prefix = "TRG_G_HS_Observer" goal_intro_script = NJ_Goal_HS_Intro goal_deactivate_script = NJ_Goal_HS_Deactivate goal_start_script = NJ_Goal_HS_Start } ENDSCRIPT
SCRIPT NJ_Goal_HS_Intro Create prefix = "Proset1_quarter" ENDSCRIPT
SCRIPT NJ_Goal_HS_Start Create prefix = "TRGP_G_HS_Score" ENDSCRIPT
SCRIPT NJ_Goal_HS_Deactivate kill prefix = "TRGP_G_HS_Score" GoalManager_GetCurrentChapterAndStage IF ( <currentchapter> < 1 ) kill prefix = "Proset1_quarter" ENDIF ENDSCRIPT
SCRIPT NJ_HighScore_EnterArea printf "================== entering scoring area" IF GoalManager_GoalIsActive name = NJ_Goal_HighScore Create_Panel_Message id = current_goal text = "Everyone\'s watching you!" style = panel_message_goal SetScoreAccumulation 1 ENDIF ENDSCRIPT
SCRIPT NJ_HighScore_ExitArea printf "==================== exiting scoring area" IF GoalManager_GoalIsActive name = NJ_Goal_HighScore Create_Panel_Message id = current_goal text = "Where are you going? Get back on the Proset!" style = goal_comp_out_of_bounds_text SetScoreAccumulation 0 freeze_score ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_RescueEric AddGoal_Race { record_type = time Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-4053.00000000000, -1423.19995117188, -1204.40002441406) positionOffset = VECTOR(-13933.59960937500, 74.69999694824, -843.29998779297) frames = 120 skippable = 1 play_hold } ] geo_prefix = "GEO_RACE_" geo_not_prefix = "NJ_G_NOT_" pro = "Shawn" full_name = "Shawn" dont_look_at_skater goal_flags = [ got_1 ] goal_description = Shawn_NJ_Goal_Race race_waypoints = [ { id = TRG_G_RACE_WinNode scr = nullscript flag = got_1 time = 120 } ] goal_intro_script = NJ_Goal_Race_Intro goal_start_script = NJ_Goal_Race_Start goal_deactivate_script = NJ_Goal_Race_Deactivate goal_text = "Save Eric!" view_goals_text = "Rescue Eric" unlimited_time = 1 child = NJ_Goal_Race7 } ENDSCRIPT
SCRIPT NJ_Goal_SUVSounds Obj_Playsound CarLoop Obj_AdjustSound CarLoop volumePercent = 200 volumeStep = 0.75000000000 pitchPercent = RANDOM_RANGE PAIR(83.00000000000, 87.00000000000) pitchStep = RANDOM_RANGE PAIR(0.60000002384, 0.89999997616) Dropoff = 300 ENDSCRIPT
SCRIPT NJ_Goal_SUVSoundsScreech RANDOM_NO_REPEAT(2, 2, 1) RANDOMCASE Obj_PlayStream NJ_SUVTire01 vol = 140 Dropoff = 200 RANDOMCASE Obj_PlayStream NJ_SUVTire02 vol = 140 Dropoff = 200 RANDOMCASE Obj_Playsound LA_Skid_11 Dropoff = 200 RANDOMEND ENDSCRIPT
SCRIPT NJ_Goal_Race_Intro Create prefix = "TRG_G_RACE_RaceNav" ENDSCRIPT
SCRIPT NJ_Goal_Race_Start Spawnscript NJ_Goal_Race_Start_Spawned id = NJ_Goal_Race_Start NJ_BridgeKiller NJ_Peds_Kill ENDSCRIPT
SCRIPT NJ_Goal_Race_Start_Spawned wait 10 frame printf " killing the race goal arrow............................" IF ObjectExists id = race_arrow DestroyScreenElement id = race_arrow ENDIF IF NOT IsAlive name = TRG_G_Race_Car02 Create name = TRG_G_Race_Car02 ENDIF Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = TRG_G_Race_Car02 model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDSCRIPT
SCRIPT NJ_Goal_Race_Deactivate KillSpawnedScript id = NJ_Goal_Race_Start IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF kill prefix = "NJ_G_NOT_" kill prefix = "TRG_G_RACE_WinNode" kill prefix = "TRG_G_Race_Car" Create prefix = "NJ_G_NOT_" kill prefix = "TRG_G_RACE_RaceNav" kill prefix = "NJ_Goal_SaveEric_Cheater" Spawnscript NJ_BridgeKiller ENDSCRIPT
SCRIPT NJ_Goal_Race_CarScript Obj_SetPathVelocity 60 fps Obj_SetPathAcceleration 95 fpsps Obj_SetPathDeceleration 95 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 Obj_FollowPathLinked Obj_SetPathTurnDist 8 feet Obj_Playsound CarLoop Obj_AdjustSound CarLoop volumePercent = 200 volumeStep = 0.75000000000 pitchPercent = RANDOM_RANGE PAIR(83.00000000000, 87.00000000000) pitchStep = RANDOM_RANGE PAIR(0.60000002384, 0.89999997616) Dropoff = 500 GoalManager_GetDifficultyLevel SWITCH <difficulty_level> CASE 0 DistClose = 30 DistNear = 90 DistFar = 160 SpeedClose = 120 SpeedNear = 80 SpeedFar = 50 CASE 1 DistClose = 30 DistNear = 90 DistFar = 160 SpeedClose = 120 SpeedNear = 80 SpeedFar = 50 CASE 2 DistClose = 30 DistNear = 90 DistFar = 160 SpeedClose = 120 SpeedNear = 80 SpeedFar = 50 ENDSWITCH wait 10 frames Create prefix = "NJ_Goal_SaveEric_Cheater" BEGIN IF Obj_ObjectInRadius radius = 15 type = Skater Obj_SetPathVelocity 200 fps Obj_AdjustSound CarLoop volumePercent = 200 volumeStep = 1 pitchPercent = RANDOM_RANGE PAIR(93.00000000000, 97.00000000000) pitchStep = RANDOM_RANGE PAIR(0.60000002384, 0.89999997616) ELSE IF Obj_ObjectInRadius radius = <DistClose> type = Skater Obj_SetPathVelocity <SpeedClose> fps Obj_AdjustSound CarLoop volumePercent = 200 volumeStep = 1 pitchPercent = RANDOM_RANGE PAIR(93.00000000000, 97.00000000000) pitchStep = RANDOM_RANGE PAIR(0.60000002384, 0.89999997616) ELSE IF Obj_ObjectInRadius radius = <DistNear> type = Skater Obj_SetPathVelocity <SpeedNear> fps Obj_AdjustSound CarLoop volumePercent = 200 volumeStep = 0.75000000000 pitchPercent = RANDOM_RANGE PAIR(83.00000000000, 87.00000000000) pitchStep = RANDOM_RANGE PAIR(0.60000002384, 0.89999997616) ELSE IF Obj_ObjectInRadius radius = <DistFar> type = Skater Obj_SetPathVelocity <SpeedFar> fps Obj_AdjustSound CarLoop volumePercent = 200 volumeStep = 0.50000000000 pitchPercent = RANDOM_RANGE PAIR(73.00000000000, 77.00000000000) pitchStep = RANDOM_RANGE PAIR(0.60000002384, 0.89999997616) ELSE printf "too far from SUV!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!" Obj_SetPathVelocity 40 fps Spawnscript NJ_Goal_Race_Failed wait 10 frames ENDIF ENDIF ENDIF ENDIF wait 2 frames REPEAT ENDSCRIPT
SCRIPT NJ_Goal_Race_Failed SK5_LoseCurrentGoal ENDSCRIPT
SCRIPT NJ_AddGoal_RescueEric2 AddGoal_Race { Version = 7 record_type = time unlimited_time = 1 intro_node = TRG_G_RACE7_IntroNode difficulty_level_params = [ { race_waypoints = [ { id = TRG_G_RACE7_WinNodeEasy scr = nullscript flag = got_1 } ] } { race_waypoints = [ { id = TRG_G_RACE7_WinNodeEasy scr = nullscript flag = got_1 } ] } { race_waypoints = [ { id = TRG_G_RACE7_WinNodeEasy scr = nullscript flag = got_1 } ] } ] Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(9760.20019531250, -499.39999389648, -951.40002441406) positionOffset = VECTOR(768.59997558594, 13.69999980927, 3399.10009765625) frames = 120 skippable = 1 play_hold cam_anim_text = StreetWarrior1_NJ_Goal_Race7_Camanim01 } { virtual_cam targetId = world targetOffset = VECTOR(8534.20019531250, -488.50000000000, 9248.70019531250) positionOffset = VECTOR(823.40002441406, 24.70000076294, 2898.69995117188) frames = 120 pre_anim_script = NJ_Goal_Race7_Intro2 skippable = 1 play_hold } ] pro = "StreetWarrior1" full_name = "Johnny Turbo" hide_goal_pro goal_flags = [ got_1 ] goal_description = StreetWarrior1_NJ_Goal_Race7 race_waypoints = [ { id = TRG_G_RACE7_WinNode scr = nullscript flag = got_1 time = 120 } ] control_type = RallyCar goal_text = "Chase them down!!" view_goals_text = "Rescue Eric" key_combo_text = "Car Controls: \\n\\b3 = Accelerate \\n\\b1 = Brake/Reverse \\n\\bf = Handbrake" goal_intro_script = NJ_Goal_Race7_Intro goal_start_script = NJ_Goal_Race7_Start goal_deactivate_script = NJ_Goal_Race7_Deactivate } ENDSCRIPT
SCRIPT NJ_Goal_Race7_Intro kill prefix = "TRG_G_RACE_WinNode" kill prefix = "TRG_Veh" Create prefix = "TRG_G_RACE7_RaceNav" Create prefix = "TRG_G_Race7_Car" Create prefix = "TRG_G_Race7_IntroCar" SpawnSound NJ_SFX_StreetWarriorBlockade NJ_UnlockTrainstation ENDSCRIPT
SCRIPT NJ_Goal_Race7_Intro2 kill prefix = "TRG_G_Race7_IntroCar" Create prefix = "TRG_G_Race7_Intro2Car" SpawnSound NJ_SFX_FlipBitch ENDSCRIPT
SCRIPT NJ_Goal_Race7_Start Spawnscript NJ_Goal_Race7_Start_Spawned Spawnscript NJ_UnlockTrainstation kill prefix = "Veh_PoliceCar_NJ_" kill prefix = "TRG_G_Race7_Intro2Car" kill prefix = "TRG_G_Race7_IntroCar" kill prefix = "TRG_G_Race7_Car" kill prefix = "NJ_G_NOT_" kill prefix = "TRGP_killskater_gap" NJ_DrivingSetupStart Create prefix = "TRG_G_Race7_DealerCar" Create name = TRGP_NJ_Race7_WinPlane IF ObjectExists id = race_arrow DestroyScreenElement id = race_arrow ENDIF IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Race7_Start_Spawned wait 100 frame IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF IF ObjectExists id = race_arrow DestroyScreenElement id = race_arrow ENDIF IF GoalManager_GoalIsActive name = NJ_Goal_Race7 Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = TRG_G_Race7_DealerCar model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Race7_Deactivate kill prefix = "NJ_Goal_SaveEric_Cheater" kill prefix = "TRG_G_Race7_DealerCar" IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF IF ObjectExists id = race_arrow DestroyScreenElement id = race_arrow ENDIF Create prefix = "TRGP_killskater_gap" kill prefix = "TRG_G_Race7_Car" kill prefix = "TRG_G_RACE7_RaceNav" NJ_DrivingSetupEnd NJ_BridgeKiller kill name = TRGP_NJ_Race7_WinPlane ENDSCRIPT
SCRIPT NJ_Goal_Race7_Outro IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Race7_Outro2 Create prefix = "TRG_G_RACE7_Outro_Eric" Playstream Sparrow_NJ_Goal_Null3_Camanim02_lip vol = 200 ENDSCRIPT
SCRIPT NJ_Goal_Race7_Car Obj_SetPathVelocity 60 fps Obj_SetPathAcceleration 750 fpsps Obj_SetPathDeceleration 175 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 Obj_FollowPathLinked ENDSCRIPT
SCRIPT NJ_AddGoal_SavedEric AddGoal_Null { Version = 3 Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-18246.09960937500, -3453.10009765625, 5439.10009765625) positionOffset = VECTOR(-13385.40039062500, 424.60000610352, -2392.69995117188) frames = 120 pre_anim_script = NJ_Goal_Race7_Outro0a speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" no_play_hold skippable = 0 } { virtual_cam targetId = world targetOffset = VECTOR(-21037.40039062500, -2183.00000000000, 29.00000000000) positionOffset = VECTOR(-11485.79980468750, 188.50000000000, -1755.80004882812) frames = 120 pre_anim_script = NJ_Goal_Race7_Outro0b speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Sparrow_NJ_Goal_Null3_Camanim01_skater play_hold skippable = 0 } { virtual_cam targetId = world targetOffset = VECTOR(-14432.20019531250, 2402.30004882812, 7192.89990234375) positionOffset = VECTOR(-11647.00000000000, 59.50000000000, -2124.39990234375) pre_anim_script = NJ_Goal_Race7_Outro2 frames = 140 cam_anim_speaker_name = "Eric Sparrow" cam_anim_text = Sparrow_NJ_Goal_Null3_Camanim02 no_play_hold } ] } ENDSCRIPT
SCRIPT NJ_Goal_Race7_Outro0a Create prefix = "TRG_G_RACE7_Outro0_" ENDSCRIPT
SCRIPT NJ_Goal_Race7_Outro0b GetCurrentSkaterProfileIndex GetSkaterProfileInfo player = <currentskaterprofileindex> IF ( <is_male> = 1 ) Playstream Sparrow_NJ_Goal_Null3_Camanim01_skater_lip vol = 200 ELSE Playstream Sparrow_NJ_Goal_Null3_Camanim01_skater_f_lip vol = 200 ENDIF kill prefix = "TRG_G_RACE7_Outro0_" Create prefix = "TRG_G_RACE7_Outro_Car" ENDSCRIPT
SCRIPT NJ_Goal_Race7_OutroCar1 kill prefix = "SaveEricFire" SpawnSound NJ_SFX_CarWreckIgnite Obj_SetPathVelocity 60 fps Obj_SetPathAcceleration 75 fpsps Obj_SetPathDeceleration 75 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 Obj_FollowPathLinked Obj_WaitMove Obj_RotX angle = 10 speed = 900 Obj_RotY angle = -30 speed = 190 Obj_MoveToRelPos VECTOR(-50.00000000000, 0.00000000000, 0.00000000000) time = 0.30000001192 Obj_WaitMove Obj_RotX angle = -10 speed = 30 Obj_MoveToRelPos VECTOR(-20.00000000000, 0.00000000000, 0.00000000000) time = 0.30000001192 Create prefix = "SaveEricFire" ENDSCRIPT
SCRIPT NJ_Goal_Race7_OutroEric SwitchOffAtomic ped_board Obj_SetPathVelocity 16 fps Obj_SetPathAcceleration 75 fpsps Obj_SetPathDeceleration 75 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 Obj_FollowPathLinked Obj_PlayAnim anim = ped_m_run cycle ENDSCRIPT
SCRIPT NJ_Goal_Race7_OutroCar2 wait 1.20000004768 second Obj_SetPathVelocity 12 fps Obj_SetPathAcceleration 75 fpsps Obj_SetPathDeceleration 75 fpsps Obj_PathHeading Off Obj_MoveToRelPos VECTOR(250.00000000000, 50.00000000000, 0.00000000000) time = 0.30000001192 Obj_RotZ angle = 90 speed = 190 Obj_RotX angle = 55 speed = 80 Obj_RotY angle = 35 speed = 80 Obj_WaitMove Obj_MoveToRelPos VECTOR(50.00000000000, 0.00000000000, 0.00000000000) time = 0.30000001192 Obj_WaitMove Obj_MoveToRelPos VECTOR(20.00000000000, 0.00000000000, 0.00000000000) time = 0.30000001192 Obj_WaitMove Obj_MoveToRelPos VECTOR(10.00000000000, 0.00000000000, 0.00000000000) time = 0.30000001192 ENDSCRIPT
SCRIPT NJ_Goal_Race7_Failed IF GoalManager_GoalExists name = NJ_Goal_Race7 IF GoalManager_GoalIsActive name = NJ_Goal_Race7 GoalManager_LoseGoal name = NJ_Goal_Race7 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Race_RadiusChecker ENDSCRIPT
SCRIPT NJ_Goal_Race7_Win printf "===================================== Winning goal from right win node" IF GoalManager_GoalIsActive name = NJ_Goal_Race7 SK5_WinCurrentGoal ENDIF ENDSCRIPT
SCRIPT NJ_Goal_SaveEric_Cheater IF GoalManager_GoalExists name = NJ_goal_race IF GoalManager_GoalIsActive name = NJ_goal_race SK5_LoseCurrentGoal ENDIF ENDIF IF GoalManager_GoalExists name = NJ_Goal_Race7 IF GoalManager_GoalIsActive name = NJ_Goal_Race7 SK5_LoseCurrentGoal ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Race_CarTrigger printf "QQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQ" IF GoalManager_GoalExists name = NJ_goal_race IF GoalManager_GoalIsActive name = NJ_goal_race IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF wait 10 frames SK5_WinCurrentGoal ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Race_GotThere Spawnscript NJ_Goal_Race_GotThere2 ENDSCRIPT
SCRIPT NJ_Goal_Race_GotThere2 GoalManager_WinGoal name = NJ_goal_race ENDSCRIPT
SCRIPT NJ_AddGoal_ChrisLine1of3 AddGoal_Race { Version = 3 difficulty_level_params = [ { race_waypoints = [ { id = G_RACE3_Piece01 scr = nullscript flag = got_1 time = 120 } { id = G_RACE3_Piece02 scr = nullscript flag = got_2 time = 0 } { id = G_RACE3_Piece03 scr = nullscript flag = got_3 time = 0 } { id = G_RACE3_Piece04 scr = nullscript flag = got_4 time = 0 } { id = G_RACE3_Piece05 scr = nullscript flag = got_5 time = 0 } { id = G_RACE3_Piece06 scr = nullscript flag = got_6 time = 0 } ] goal_text = "DO CHRIS\' BEST LINES" } { race_waypoints = [ { id = G_RACE3_Piece01 scr = nullscript flag = got_1 time = 30 } { id = G_RACE3_Piece02 scr = nullscript flag = got_2 time = 0 } { id = G_RACE3_Piece03 scr = nullscript flag = got_3 time = 0 } { id = G_RACE3_Piece04 scr = nullscript flag = got_4 time = 0 } { id = G_RACE3_Piece05 scr = nullscript flag = got_5 time = 0 } { id = G_RACE3_Piece06 scr = nullscript flag = got_6 time = 0 } ] goal_text = "DO CHRIS\' BEST LINES" } { race_waypoints = [ { id = G_RACE3_Piece01 scr = nullscript flag = got_1 time = 15 } { id = G_RACE3_Piece02 scr = nullscript flag = got_2 time = 0 } { id = G_RACE3_Piece03 scr = nullscript flag = got_3 time = 0 } { id = G_RACE3_Piece04 scr = nullscript flag = got_4 time = 0 } { id = G_RACE3_Piece05 scr = nullscript flag = got_5 time = 0 } { id = G_RACE3_Piece06 scr = nullscript flag = got_6 time = 0 } ] goal_text = "Do Chris\' best lines in one combo!" require_combo } ] retry_stage record_type = time number = 3 Start_cam_anims = [ { virtual_cam targetId = TRG_G_race3_Pro targetOffset = VECTOR(28.70000076294, 47.50000000000, 14.39999961853) positionOffset = VECTOR(-52.40000152588, 10.80000019073, 104.00000000000) frames = 120 cam_anim_text = Chris_NJ_Goal_Race3_Camanim01 walk_into_frame skippable = 1 } { virtual_cam targetId = TRG_G_race3_Pro targetOffset = VECTOR(-9.80000019073, 50.20000076294, 36.00000000000) positionOffset = VECTOR(-71.69999694824, 6.90000009537, -19.50000000000) frames = 120 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Chris_NJ_Goal_Race3_Camanim02_skater } { virtual_cam targetId = TRG_G_race3_Pro targetOffset = VECTOR(28.70000076294, 47.50000000000, 14.39999961853) positionOffset = VECTOR(-52.40000152588, 10.80000019073, 104.00000000000) frames = 120 skippable = 1 } ] intro_node = TRG_G_RACE3_introNode pro = "Chris" full_name = "Chris" goal_flags = [ got_1 got_2 got_3 got_4 got_5 got_6 ] goal_description = Chris_NJ_Goal_Race3 view_goals_text = "DO CHRIS\' BEST LINES" goal_start_script = NJ_Goal_Race3_Start goal_deactivate_script = NJ_Goal_Race3_Deactivate child = NJ_Goal_Race4 } ENDSCRIPT
SCRIPT NJ_Race3_GoalActive flag = got_1 IF GoalManager_GoalExists name = NJ_goal_race3 IF GoalManager_GoalIsActive name = NJ_goal_race3 GoalManager_SetGoalFlag name = NJ_goal_race3 <flag> 1 KillSpawnedScript id = <flashscriptid> SetObjectColor_CurrentTOD name = <ObjSet> GoalManager_NextRaceWaypoint name = NJ_goal_race3 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Race_KillFlagged ENDSCRIPT
SCRIPT NJ_Goal_Race3_Start Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE3_Piece01 } id = FlashingScript01 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE3_Piece02 } id = FlashingScript02 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE3_Piece03 } id = FlashingScript03 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE3_Piece04 } id = FlashingScript04 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE3_Piece05 } id = FlashingScript05 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE3_Piece06 } id = FlashingScript06 ENDSCRIPT
SCRIPT NJ_Race3_YellowFlash piece = G_RACE3_Piece01 BEGIN SetObjectColor name = <piece> color = ( 255 + ( 255 * 256 ) + ( 120 * 65536 ) ) wait 8 frames SetObjectColor name = <piece> color = ( 254 + ( 163 * 256 ) + ( 90 * 65536 ) ) wait 8 frames REPEAT ENDSCRIPT
SCRIPT NJ_Goal_Race3_Deactivate KillSpawnedScript id = FlashingScript01 KillSpawnedScript id = FlashingScript02 KillSpawnedScript id = FlashingScript03 KillSpawnedScript id = FlashingScript04 KillSpawnedScript id = FlashingScript05 KillSpawnedScript id = FlashingScript06 SetObjectColor_CurrentTOD prefix = G_RACE3_Piece0 ENDSCRIPT
SCRIPT NJ_Goal_Race3_GotThere Spawnscript NJ_Goal_Race_GotThere2 ENDSCRIPT
SCRIPT NJ_Goal_Race3_GotThere2 GoalManager_WinGoal name = NJ_goal_race ENDSCRIPT
SCRIPT NJ_AddGoal_ChrisLine2of3 AddGoal_Race { Version = 4 difficulty_level_params = [ { race_waypoints = [ { id = G_RACE4_Piece01 scr = nullscript flag = got_1 time = 90 } { id = G_RACE4_Piece02 scr = nullscript flag = got_2 time = 0 } { id = G_RACE4_Piece03 scr = nullscript flag = got_3 time = 0 } { id = G_RACE4_Piece04 scr = nullscript flag = got_4 time = 0 } { id = G_RACE4_Piece05 scr = nullscript flag = got_5 time = 0 } { id = G_RACE4_Piece06 scr = nullscript flag = got_6 time = 0 } ] } { race_waypoints = [ { id = G_RACE4_Piece01 scr = nullscript flag = got_1 time = 45 } { id = G_RACE4_Piece02 scr = nullscript flag = got_2 time = 0 } { id = G_RACE4_Piece03 scr = nullscript flag = got_3 time = 0 } { id = G_RACE4_Piece04 scr = nullscript flag = got_4 time = 0 } { id = G_RACE4_Piece05 scr = nullscript flag = got_5 time = 0 } { id = G_RACE4_Piece06 scr = nullscript flag = got_6 time = 0 } ] } { race_waypoints = [ { id = G_RACE4_Piece01 scr = nullscript flag = got_1 time = 25 } { id = G_RACE4_Piece02 scr = nullscript flag = got_2 time = 0 } { id = G_RACE4_Piece03 scr = nullscript flag = got_3 time = 0 } { id = G_RACE4_Piece04 scr = nullscript flag = got_4 time = 0 } { id = G_RACE4_Piece05 scr = nullscript flag = got_5 time = 0 } { id = G_RACE4_Piece06 scr = nullscript flag = got_6 time = 0 } ] require_combo } ] record_type = time number = 3 init_geo_prefix = "TRG_G_RACE4_Observer" pro = "Chris" full_name = "Chris" goal_flags = [ got_1 got_2 got_3 got_4 got_5 got_6 ] goal_description = Chris_NJ_Goal_Race4 goal_text = "Chris\' crazy line 2/2" view_goals_text = "DO CHRIS\' BEST LINES" goal_start_script = NJ_Goal_Race4_Start goal_deactivate_script = NJ_Goal_Race4_Deactivate } ENDSCRIPT
SCRIPT NJ_Race4_Create_Next ENDSCRIPT
SCRIPT NJ_Race4_GoalActive flag = got_1 IF GoalManager_GoalExists name = NJ_Goal_Race4 IF GoalManager_GoalIsActive name = NJ_Goal_Race4 GoalManager_SetGoalFlag name = NJ_Goal_Race4 <flag> 1 KillSpawnedScript id = <flashscriptid> SetObjectColor_CurrentTOD name = <ObjSet> GoalManager_NextRaceWaypoint name = NJ_Goal_Race4 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Race4_Start Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE4_Piece01 } id = FlashingScript01 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE4_Piece02 } id = FlashingScript02 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE4_Piece03 } id = FlashingScript03 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE4_Piece04 } id = FlashingScript04 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE4_Piece05 } id = FlashingScript05 Spawnscript NJ_Race3_YellowFlash params = { piece = G_RACE4_Piece06 } id = FlashingScript06 ENDSCRIPT
SCRIPT NJ_Goal_Race4_Deactivate KillSpawnedScript id = FlashingScript01 KillSpawnedScript id = FlashingScript02 KillSpawnedScript id = FlashingScript03 KillSpawnedScript id = FlashingScript04 KillSpawnedScript id = FlashingScript05 KillSpawnedScript id = FlashingScript06 SetObjectColor_CurrentTOD prefix = G_RACE4_Piece0 ENDSCRIPT
SCRIPT NJ_Goal_Race4_GotThere Spawnscript NJ_Goal_Race_GotThere2 ENDSCRIPT
SCRIPT NJ_Goal_Race4_GotThere2 GoalManager_WinGoal name = NJ_goal_race ENDSCRIPT
SCRIPT NJ_AddGoal_AfterStolen AddGoal_Null { Version = 2 Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-1649.30004882812, 919.40002441406, 12719.59960937500) positionOffset = VECTOR(1066.80004882812, -27.79999923706, 3141.69995117188) frames = 120 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Sparrow_NJ_Goal_Null2_CamAnim01_skater } { virtual_cam targetId = world targetOffset = VECTOR(-1649.30004882812, 919.40002441406, 12719.59960937500) positionOffset = VECTOR(1066.80004882812, -27.79999923706, 3141.69995117188) frames = 120 skippable = 1 play_hold cam_anim_speaker_name = "Eric" cam_anim_text = Sparrow_NJ_Goal_Null2_CamAnim02 } { virtual_cam targetId = world targetOffset = VECTOR(3944.39990234375, -37.50000000000, 13212.79980468750) positionOffset = VECTOR(1083.19995117188, 55.79999923706, 3630.69995117188) frames = 120 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Sparrow_NJ_Goal_Null2_CamAnim03_skater } { virtual_cam targetId = world targetOffset = VECTOR(3944.39990234375, -37.50000000000, 13212.79980468750) positionOffset = VECTOR(1083.19995117188, 55.79999923706, 3630.69995117188) frames = 120 skippable = 1 cam_anim_speaker_name = "Eric" cam_anim_text = Sparrow_NJ_Goal_Null2_CamAnim04 cam_anim_speaker_name = "Eric" } { virtual_cam targetId = world targetOffset = VECTOR(-1649.30004882812, 919.40002441406, 12719.59960937500) positionOffset = VECTOR(1066.80004882812, -27.79999923706, 3141.69995117188) frames = 40 skippable = 0 play_hold pre_anim_script = NJ_BurnTheDealers cam_anim_text = Sparrow_NJ_Goal_Null2 cam_anim_speaker_name = "Eric" } ] pro = "Sparrow" trigger_obj_id = TRG_G_Null2_Pro } ENDSCRIPT
SCRIPT NJ_BurnTheDealers kill prefix = "fire" kill prefix = "TRG_SFX_TrigBox_CarFire01" TRG_G_Null2_Pro : Obj_MoveToRelPos VECTOR(0.00000000000, 500.00000000000, 0.00000000000) time = 0.00999999978 Spawnscript NJ_BurnTheDealers_Spawned ENDSCRIPT
SCRIPT NJ_BurnTheDealers_Spawned SpawnSound NJ_SFX_CarIgnite Create prefix = "fire" Create prefix = "TRG_SFX_TrigBox_CarFire01" ENDSCRIPT
SCRIPT NJ_AddGoal_StolenGear AddGoal_Collect { control_type = WalkOnly create_collect_arrows record_type = time difficulty_level_params = [ { unlimited_time = 1 } { time = 80 } { time = 45 } ] career_only goal_flags = [ got_1 ] goal_collect_objects = [ { id = GO_G_COLLECT_StolenItem01 scr = NJ_Goal_Collect_GotStolenItem flag = got_1 } ] Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(3761.39990234375, -1552.30004882812, -710.79998779297) positionOffset = VECTOR(-5428.50000000000, 87.59999847412, 2876.10009765625) frames = 120 walk_into_frame skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Shawn_NJ_Goal_Collect_CamAnim01_skater } { virtual_cam targetId = world targetOffset = VECTOR(-12621.50000000000, -1499.50000000000, 9571.79980468750) positionOffset = VECTOR(-5374.10009765625, 88.80000305176, 2866.89990234375) frames = 120 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_Collect_CamAnim02 cam_anim_speaker_name = "Shawn" speaker_obj_id = TRG_G_COLLECT_Pro } { virtual_cam targetId = world targetOffset = VECTOR(2634.00000000000, -1045.30004882812, -3058.60009765625) positionOffset = VECTOR(-5351.20019531250, 81.59999847412, 2855.19995117188) frames = 120 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_text = Shawn_NJ_Goal_Collect_CamAnim03_skater cam_anim_speaker_name = "You" } { virtual_cam targetId = world targetOffset = VECTOR(5731.29980468750, -3184.80004882812, 11759.09960937500) positionOffset = VECTOR(1006.40002441406, 104.59999847412, 3582.80004882812) frames = 120 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_Collect_CamAnim04 cam_anim_speaker_name = "Shawn" speaker_obj_id = TRG_G_COLLECT_Pro } { virtual_cam targetId = world targetOffset = VECTOR(7942.10009765625, -773.09997558594, 5200.50000000000) positionOffset = VECTOR(-1797.69995117188, 103.50000000000, 3111.19995117188) frames = 120 skippable = 1 play_hold } { virtual_cam targetId = world targetOffset = VECTOR(-13772.79980468750, -1843.00000000000, 7893.89990234375) positionOffset = VECTOR(-5353.20019531250, 85.40000152588, 2853.80004882812) frames = 120 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_Collect_CamAnim06 cam_anim_speaker_name = "Shawn" speaker_obj_id = TRG_G_COLLECT_Pro } { virtual_cam targetId = world targetOffset = VECTOR(-12621.50000000000, -1499.50000000000, 9571.79980468750) positionOffset = VECTOR(-5374.10009765625, 88.80000305176, 2866.89990234375) frames = 120 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_Collect_CamAnim07 cam_anim_speaker_name = "Shawn" speaker_obj_id = TRG_G_COLLECT_Pro } { virtual_cam targetId = world targetOffset = VECTOR(4247.20019531250, -1546.90002441406, 1123.00000000000) positionOffset = VECTOR(-5463.20019531250, 93.09999847412, 2864.00000000000) frames = 120 skippable = 1 play_hold cam_anim_speaker_name = "You" } ] pro = "Shawn" full_name = "Shawn" speaker_name = "skater" goal_description = Shawn_NJ_Goal_Collect_skater collect_type = "Stolen Items" use_hud_counter goal_text = "Go Above or Around the dealers and get the stolen items back!" view_goals_text = "GET THE STOLEN ITEMS BACK FROM THE DEALERS" hud_counter_caption = "Stolen Items\\nRetrieved" goal_intro_script = NJ_Goal_Collect_Intro goal_start_script = NJ_Goal_Collect_Start goal_deactivate_script = NJ_Goal_Collect_Deactivate goal_success_script = NJ_Goal_Collect_Success intro_node = TRG_G_COLLECT_IntroNode } ENDSCRIPT
SCRIPT NJ_Goal_Collect_Intro kill prefix = "TRG_Vehicle" GoalManager_GetCurrentChapterAndStage IF NOT ( ( <currentchapter> = 0 ) & ( <currentstage> = 0 ) ) kill prefix = "TRG_G_Collect5_Pro" Create prefix = "TRG_G_Collect5_Pro" Spawnscript NJ_SFX_CollectGoalEricControl id = GoalEricControl ENDIF IF ( <currentchapter> > 0 ) Create prefix = "Proset1_quarter" ENDIF kill name = FO_Flies_01 pulse_blur start = 200 speed = 1 Create prefix = "GO_G_COLLECT_StolenItem" Create prefix = "TRG_G_COLLECT_Dealer" Spawnscript NJ_SFX_StartScaryMusic id = ScaryMusicStart SWITCH <difficulty_level> CASE 0 kill name = TRG_G_COLLECT_Dealer02 kill name = TRG_G_COLLECT_Dealer15 kill name = TRG_G_COLLECT_Dealer16 kill name = TRG_G_COLLECT_Dealer28 ENDSWITCH NJ_FlyChecker ENDSCRIPT
SCRIPT NJ_SFX_CollectGoalEricControl TRG_G_COLLECT5_PRO : Obj_MoveToNode name = TRG_G_COLLECT_Pro TRG_G_COLLECT5_PRO : Obj_MoveToRelPos VECTOR(8.00000000000, 0.00000000000, 30.00000000000) time = 0.00999999978 TRG_G_COLLECT5_PRO : Ped_InitAI Stand ENDSCRIPT
SCRIPT NJ_Goal_Collect_Start NJ_Peds_Kill kill name = FO_Flies_01 Playstream Shawn_NJ_Goal_Collect_midgoal Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = GO_G_COLLECT_StolenItem01 model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDSCRIPT
SCRIPT NJ_Goal_Collect_Deactivate IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF GoalManager_GetCurrentChapterAndStage IF NOT ( ( <currentchapter> = 0 ) & ( <currentstage> = 0 ) ) kill prefix = "TRG_G_Collect5_Pro" ENDIF kill prefix = "GO_G_COLLECT_StolenItem" kill prefix = "TRG_G_COLLECT_Dealer" SkipMusicTrack KillSpawnedScript id = ScaryMusicStart KillSpawnedScript id = GoalEricControl NJ_SFX_StopScaryMusic NJ_FlyChecker ENDSCRIPT
SCRIPT NJ_Goal_Collect_Success ENDSCRIPT
SCRIPT NJ_Goal_Collect_GotStolenItem GoalManager_SetGoalFlag name = <goal_id> <flag> 1 GoalManager_GetGoalParams name = <goal_id> IF NOT GoalManager_AllFlagsSet name = <goal_id> FormatText TextName = collect_text "%c of %n %t" c = <num_flags_set> t = <collect_type> n = <num_flags> Create_Panel_Message text = <collect_text> style = goal_collect_text ENDIF printf "got a stolen item done!" PlaySound HitMetalCan Die ENDSCRIPT
SCRIPT NJ_AddGoal_BumBoxCollect AddGoal_Collect { Version = 2 record_type = time create_collect_arrows intro_node = TRG_G_Collect2_IntroNode difficulty_level_params = [ { goal_flags = [ got_1 got_2 ] goal_collect_objects = [ { id = GO_G_BUMCOLLECT_01 scr = NJ_Goal_Collect_ObjectHIT flag = got_1 } { id = GO_G_BUMCOLLECT_02 scr = NJ_Goal_Collect_ObjectHIT flag = got_2 } ] unlimited_time = 1 } { goal_flags = [ got_1 got_2 got_3 ] goal_collect_objects = [ { id = GO_G_BUMCOLLECT_01 scr = NJ_Goal_Collect_ObjectHIT flag = got_1 } { id = GO_G_BUMCOLLECT_02 scr = NJ_Goal_Collect_ObjectHIT flag = got_2 } { id = GO_G_BUMCOLLECT_03 scr = NJ_Goal_Collect_ObjectHIT flag = got_3 } ] time = 60 } { goal_flags = [ got_1 got_2 got_3 got_4 got_5 ] goal_collect_objects = [ { id = GO_G_BUMCOLLECT_01 scr = NJ_Goal_Collect_ObjectHIT flag = got_1 } { id = GO_G_BUMCOLLECT_02 scr = NJ_Goal_Collect_ObjectHIT flag = got_2 } { id = GO_G_BUMCOLLECT_03 scr = NJ_Goal_Collect_ObjectHIT flag = got_3 } { id = GO_G_BUMCOLLECT_04 scr = NJ_Goal_Collect_ObjectHIT flag = got_4 } { id = GO_G_BUMCOLLECT_05 scr = NJ_Goal_Collect_ObjectHIT flag = got_5 } ] time = 45 } ] Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-21857.80078125000, -1689.40002441406, -2232.80004882812) positionOffset = VECTOR(-11980.40039062500, -148.30000305176, -2517.69995117188) frames = 120 skippable = 1 play_hold cam_anim_text = Ollie_NJ_Goal_Collect2_Camanim01 } { virtual_cam targetId = world targetOffset = VECTOR(-16842.09960937500, -1088.50000000000, 6127.20019531250) positionOffset = VECTOR(-11972.40039062500, -155.50000000000, -2557.10009765625) frames = 120 skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Ollie_NJ_Goal_Collect2_Camanim02_skater } { virtual_cam targetId = world targetOffset = VECTOR(-21857.80078125000, -1689.40002441406, -2232.80004882812) positionOffset = VECTOR(-11980.40039062500, -148.30000305176, -2517.69995117188) frames = 120 skippable = 1 play_hold } ] pro = "Ollie" full_name = "Ollie the Bum" goal_description = Ollie_NJ_Goal_Collect2 goal_text = "Recover all the house pieces in one continuous combo" view_goals_text = "CATCH OLLIE\'S HOUSE" collect_type = "House Pieces" goal_intro_script = NJ_Goal_Collect2_Intro goal_start_script = NJ_Goal_Collect2_Start goal_deactivate_script = NJ_Goal_Collect2_Deactivate use_hud_counter hud_counter_caption = "Rooms\\nRecovered" } ENDSCRIPT
SCRIPT NJ_Goal_Collect2_Intro NJ_Peds_Kill GoalManager_GetDifficultyLevel SWITCH <difficulty_level> CASE 0 Create name = "GO_G_BUMCOLLECT_01" Create name = "GO_G_BUMCOLLECT_02" CASE 1 Create name = "GO_G_BUMCOLLECT_01" Create name = "GO_G_BUMCOLLECT_02" Create name = "GO_G_BUMCOLLECT_03" CASE 2 Create name = "GO_G_BUMCOLLECT_01" Create name = "GO_G_BUMCOLLECT_02" Create name = "GO_G_BUMCOLLECT_03" Create name = "GO_G_BUMCOLLECT_04" Create name = "GO_G_BUMCOLLECT_05" DEFAULT Create prefix = "GO_G_BUMCOLLECT" ENDSWITCH kill prefix = "TRG_Vehicle" ENDSCRIPT
SCRIPT NJ_Goal_Collect2_Start GoalManager_GetDifficultyLevel Spawnscript NJ_Collect2_YellowFlash params = { piece = GO_G_BUMCOLLECT_01 } id = Collect2FlashingScript01 Spawnscript NJ_Collect2_YellowFlash params = { piece = GO_G_BUMCOLLECT_02 } id = Collect2FlashingScript02 IF ( <difficulty_level> = 1 ) Spawnscript NJ_Collect2_YellowFlash params = { piece = GO_G_BUMCOLLECT_03 } id = Collect2FlashingScript03 ENDIF IF ( <difficulty_level> = 2 ) Spawnscript NJ_Collect2_YellowFlash params = { piece = GO_G_BUMCOLLECT_04 } id = Collect2FlashingScript04 Spawnscript NJ_Collect2_YellowFlash params = { piece = GO_G_BUMCOLLECT_05 } id = Collect2FlashingScript05 ENDIF Spawnscript NJ_Goal_Collect2_Begin id = Collect2Begin ENDSCRIPT
SCRIPT NJ_Collect2_YellowFlash piece = GO_G_BUMCOLLECT_01 BEGIN SetObjectColor name = <piece> color = ( 255 + ( 255 * 256 ) + ( 120 * 65536 ) ) wait 8 frames SetObjectColor name = <piece> color = ( 254 + ( 163 * 256 ) + ( 90 * 65536 ) ) wait 8 frames REPEAT ENDSCRIPT
SCRIPT NJ_Goal_Collect2_Begin ClearExceptionGroup NJ_BumCollect WaitForEvent type = SkaterEnterCombo SetException Ex = GotObject scr = NJ_Goal_Collect2_Collecting Group = NJ_BumCollect SetException Ex = SkaterExitCombo scr = NJ_Goal_Collect2_Begin Group = NJ_BumCollect Block ENDSCRIPT
SCRIPT NJ_Goal_Collect2_Collecting PrintStruct <...> GoalManager_SetGoalFlag name = NJ_Goal_Collect2 <flag> 1 Spawnscript NJ_SFX_CollectCardboardBox <Object> : Die ClearExceptionGroup NJ_BumCollect SetException Ex = GotObject scr = NJ_Goal_Collect2_Collecting Group = NJ_BumCollect SetException Ex = SkaterExitCombo scr = NJ_Goal_Collect2_Restart Group = NJ_BumCollect Block ENDSCRIPT
SCRIPT NJ_Goal_Collect2_Deactivate NJ_Peds_Kill NJ_Peds_Create Create prefix = "TRG_Vehicle" kill prefix = "GO_G_BUMCOLLECT_" KillSpawnedScript id = Collect2Begin KillSpawnedScript name = NJ_Goal_Collect2_Restart KillSpawnedScript name = NJ_Goal_Collect2_Collecting KillSpawnedScript name = NJ_Goal_Collect2_Begin KillSpawnedScript name = SK5_LoseCurrentGoal KillSpawnedScript name = SK5_LoseCurrentGoal_Spawned ENDSCRIPT
SCRIPT NJ_Goal_Collect2_Restart ClearExceptionGroup NJ_BumCollect wait 0.50000000000 seconds SK5_LoseCurrentGoal ENDSCRIPT
SCRIPT NJ_Goal_Collect2_MoveBox wait 10 frames IF GoalManager_GoalIsActive name = NJ_Goal_Collect2 GoalManager_GetDifficultyLevel SWITCH <difficulty_level> CASE 0 <Obj> : Obj_MoveToNode name = <Node1> speed = 5000 CASE 1 <Obj> : Obj_MoveToNode name = <Node1> speed = 5000 CASE 2 BEGIN IF IsAlive name = <Obj> RANDOM(1, 1, 1) RANDOMCASE <Obj> : Obj_MoveToNode name = <Node1> speed = 5 RANDOMCASE <Obj> : Obj_MoveToNode name = <Node2> speed = 5 RANDOMCASE <Obj> : Obj_MoveToNode name = <Node3> speed = 5 RANDOMEND <Obj> : Obj_RotX speed = 140 <Obj> : Obj_RotY speed = 300 <Obj> : Obj_RotZ speed = 50 wait 1 second ELSE BREAK ENDIF REPEAT ENDSWITCH ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Collect_ObjectHIT IF GoalManager_GoalIsActive name = NJ_Goal_Collect2 Obj_GetId BroadcastEvent type = GotObject Data = { Object = <ObjId> flag = <flag> } ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_Collect3 AddGoal_Collect3 { record_type = time win_wait_time = 60 career_only goal_text = "Collect the items in one combo" view_goals_text = "Collect the items in one combo" goal_flags = [ got_1 got_2 got_3 got_4 got_5 ] goal_collect_objects = [ { id = GO_G_COLLECT_ComboItem01 scr = NJ_Goal_Collect_GotComboItem flag = got_1 } { id = GO_G_COLLECT_ComboItem02 scr = NJ_Goal_Collect_GotComboItem flag = got_2 } { id = GO_G_COLLECT_ComboItem03 scr = NJ_Goal_Collect_GotComboItem flag = got_3 } { id = GO_G_COLLECT_ComboItem04 scr = NJ_Goal_Collect_GotComboItem flag = got_4 } { id = GO_G_COLLECT_ComboItem05 scr = NJ_Goal_Collect_GotComboItem flag = got_5 } ] pro = "skater1" full_name = "Local Skater" goal_description = [ "Collect all the items in one combo" ] collect_type = "Combo Items" goal_intro_script = NJ_Goal_Collect3_Intro goal_start_script = NJ_Goal_Collect3_Start goal_deactivate_script = NJ_Goal_Collect_Deactivate use_hud_counter hud_counter_caption = "Stolen Items\\nRetrieved" } ENDSCRIPT
SCRIPT NJ_Goal_Collect3_Intro NJ_Peds_Kill kill prefix = "TRG_Vehicle" Create prefix = "GO_G_COLLECT_StolenItem" Create prefix = "TRG_G_COLLECT_Dealer" ENDSCRIPT
SCRIPT NJ_Goal_Collect3_Start NJ_Peds_Kill ENDSCRIPT
SCRIPT NJ_Goal_Collect3_Deactivate kill prefix = "GO_G_COLLECT_StolenItem" kill prefix = "TRG_G_COLLECT_Dealer" NJ_Peds_Create Create prefix = "TRG_Vehicle" ENDSCRIPT
SCRIPT NJ_Goal_Collect_GotComboItem GoalManager_SetGoalFlag name = <goal_id> <flag> 1 GoalManager_GetGoalParams name = <goal_id> IF NOT GoalManager_AllFlagsSet name = <goal_id> FormatText TextName = collect_text "%c of %n %t" c = <num_flags_set> t = <collect_type> n = <num_flags> Create_Panel_Message text = <collect_text> style = goal_collect_text ENDIF PlaySound HitMetalCan Die ENDSCRIPT
SCRIPT NJ_Goal_Gaps_KillLeft IF GoalManager_GoalIsActive name = NJ_Goal_Gaps create_panel_block id = current_goal text = "Too far to the left!" style = panel_message_death GoalManager_LoseGoal name = NJ_Goal_Gaps ELSE SK3_Killskater_Finish Nodename = TRG_Restart_BeforeBridge01 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps_KillRight IF GoalManager_GoalIsActive name = NJ_Goal_Gaps create_panel_block id = current_goal text = "Too far to the Right!" style = panel_message_death GoalManager_LoseGoal name = NJ_Goal_Gaps ELSE SK3_Killskater_Finish Nodename = TRG_Restart_BeforeBridge01 ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_ClearTheBridge AddGoal_Gaps { time = 30 record_type = score start_skater_standing start_cam_anim = G_GAP_CameraStart goal_flags = [ got_1 ] geo_prefix = "GEO_GAPS_" goal_deactivate_script = NJ_Goal_Gaps_Deactivate intro_node = TRG_G_GAP_IntroNode full_name = "Johnny Turbo" pro = "StreetWarrior1" goal_description = StreetWarrior1_NJ_Goal_Gaps goal_text = "Hold \\b7 to skitch cars!" view_goals_text = "Clear the Bridge" goal_intro_script = NJ_Goal_Gaps_Intro goal_start_script = NJ_Goal_Gaps_Start goal_fail_script = NJ_Goal_Gaps_Fail2 } ENDSCRIPT
SCRIPT NJ_Goal_Gaps_Intro Spawnscript NJ_BridgeKiller ENDSCRIPT
SCRIPT NJ_BridgeKiller IF IsCareerMode GoalManager_GetCurrentChapterAndStage IF ( ( GoalManager_HasWonGoal name = NJ_Goal_Gaps ) | ( <currentchapter> > 2 ) ) IF IsAlive name = TRGP_killskater_gap kill prefix = "TRGP_killskater_gap" printf "================================== Bridge is open" ENDIF IF IsAlive name = Veh_PoliceCar_NJ_02 kill prefix = "Veh_PoliceCar_NJ_" ENDIF IF IsAlive name = NJ_G_NOT_BridgeQP_01 kill prefix = "NJ_G_NOT_BridgeQP" ENDIF ELSE IF NOT IsAlive name = TRGP_killskater_gap Create name = TRGP_killskater_gap printf "================================== Bridge is closed" ENDIF IF NOT IsAlive name = TRGP_killskater_gap01 Create name = TRGP_killskater_gap01 ENDIF IF NOT IsAlive name = TRGP_killskater_gap02 Create name = TRGP_killskater_gap02 ENDIF IF NOT IsAlive name = TRGP_killskater_gap03 Create name = TRGP_killskater_gap03 ENDIF IF NOT IsAlive name = Veh_PoliceCar_NJ_01 Create name = Veh_PoliceCar_NJ_01 ENDIF IF NOT IsAlive name = Veh_PoliceCar_NJ_02 Create name = Veh_PoliceCar_NJ_02 ENDIF IF NOT IsAlive name = NJ_G_NOT_BridgeQP_01 Create name = NJ_G_NOT_BridgeQP_01 ENDIF IF NOT IsAlive name = NJ_G_NOT_BridgeQP_02 Create name = NJ_G_NOT_BridgeQP_02 ENDIF IF NOT IsAlive name = NJ_G_NOT_BridgeQP_05 Create name = NJ_G_NOT_BridgeQP_05 ENDIF IF NOT IsAlive name = NJ_G_NOT_BridgeQP_06 Create name = NJ_G_NOT_BridgeQP_06 ENDIF IF GoalManager_GoalIsActive name = NJ_goal_race kill prefix = "TRGP_killskater_gap" kill prefix = "Veh_PoliceCar_NJ_" kill prefix = "NJ_G_NOT_BridgeQP" ENDIF ENDIF ELSE kill prefix = "TRGP_killskater_gap" kill prefix = "Veh_PoliceCar_NJ_" kill prefix = "NJ_G_NOT_BridgeQP" ENDIF IF GoalManager_GoalIsActive name = NJ_Goal_Gaps IF NOT IsAlive name = TRGP_killskater_gap Create name = TRGP_killskater_gap printf "================================== Bridge is closed" ENDIF IF NOT IsAlive name = TRGP_killskater_gap01 Create name = TRGP_killskater_gap01 ENDIF IF NOT IsAlive name = TRGP_killskater_gap02 Create name = TRGP_killskater_gap02 ENDIF IF NOT IsAlive name = TRGP_killskater_gap03 Create name = TRGP_killskater_gap03 ENDIF IF NOT IsAlive name = Veh_PoliceCar_NJ_01 Create name = Veh_PoliceCar_NJ_01 ENDIF IF NOT IsAlive name = Veh_PoliceCar_NJ_02 Create name = Veh_PoliceCar_NJ_02 ENDIF IF NOT IsAlive name = NJ_G_NOT_BridgeQP_01 Create name = NJ_G_NOT_BridgeQP_01 ENDIF IF NOT IsAlive name = NJ_G_NOT_BridgeQP_02 Create name = NJ_G_NOT_BridgeQP_02 ENDIF IF NOT IsAlive name = NJ_G_NOT_BridgeQP_05 Create name = NJ_G_NOT_BridgeQP_05 ENDIF IF NOT IsAlive name = NJ_G_NOT_BridgeQP_06 Create name = NJ_G_NOT_BridgeQP_06 ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Gaps_YellowFlash piece = GEO_GAPS_Kicker01 BEGIN SetObjectColor name = <piece> color = ( 255 + ( 255 * 256 ) + ( 120 * 65536 ) ) wait 8 frames SetObjectColor name = <piece> color = ( 254 + ( 163 * 256 ) + ( 90 * 65536 ) ) wait 8 frames REPEAT ENDSCRIPT
SCRIPT NJ_Goal_Gaps_Start Spawnscript NJ_Gaps_SkitchCheck Spawnscript NJ_Gaps_YellowFlash params = { piece = GEO_GAPS_Kicker01 } id = BridgeFlashingScript01 NJ_Peds_Kill kill prefix = "TRG_Veh" IF IsAlive name = TRG_Car_NotDrivable kill name = TRG_Car_NotDrivable ENDIF IF IsAlive name = TRG_Car_Drivable01 kill name = TRG_Car_Drivable01 ENDIF kill prefix = "NJ_G_NOT_Divider" Create prefix = "TRG_G_GAPS_Veh" Create name = "TRGP_GAPS_hint" kill prefix = "TRGP_killskater_gap" Create name = "TRGP_killskater_gap01" Create name = "TRGP_killskater_gap02" Create name = "TRGP_killskater_gap03" ENDSCRIPT
SCRIPT NJ_Goal_Gaps_Deactivate kill prefix = "TRG_G_GAPS_Veh" kill name = "TRGP_GAPS_hint" NJ_Peds_Create kill name = "TRGP_killskater_gap01" kill name = "TRGP_killskater_gap02" kill name = "TRGP_killskater_gap03" Create prefix = "NJ_G_NOT_Divider" SetObjectColor_CurrentTOD name = GEO_GAPS_Kicker01 KillSpawnedScript name = NJ_Gaps_YellowFlash Spawnscript NJ_BridgeKiller ClearExceptionGroup NJ_Gaps_Skitch ENDSCRIPT
SCRIPT NJ_Goal_Gaps_Fail2 Skater : KillSkater RestartWalking Node = TRG_G_Gap_RestartNode ENDSCRIPT
SCRIPT NJ_Gaps_SkitchCheck printf "==================================== Skitching exception set" SetException Ex = SkaterEnterSkitch scr = NJ_Gaps_InSkitch Group = NJ_Gaps_Skitch Block ENDSCRIPT
SCRIPT NJ_Gaps_InSkitch ClearExceptionGroup NJ_Gaps_Skitch printf "==================================== Skater entered Skitch, creating text" create_panel_block id = current_goal text = "Don\'t let go till I tell ya!  \\nAnd hit \\be and \\bf if you wanna switch sides!" style = panel_message_goal ENDSCRIPT
SCRIPT NJ_Goal_Gaps_Fail IF GoalManager_GoalIsActive name = NJ_Goal_Gaps IF NOT IsAlive Create prefix = "TRGP_killskater_gap" ENDIF GoalManager_LoseGoal name = NJ_Goal_Gaps ELSE SK3_Killskater_Finish Nodename = TRG_Restart_BeforeBridge01 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps_GapStart StartGap GapID = NJ_Gap_BridgeClear flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Goal_Gaps_GapEnd EndGap GapID = NJ_Gap_BridgeClear text = "Cleared the Bridge" score = 500 GapScript = NJ_Goal_Gaps_GapDone ENDSCRIPT
SCRIPT NJ_Goal_Gaps_hint IF Skater : Skitching create_panel_block id = current_goal text = "TAP DOWN (\\b4) TO RELEASE!" style = panel_message_goal ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps_hint2 IF Skater : Skitching create_panel_block id = current_goal text = "Get ready..." style = panel_message_goal ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps_hint3 IF Skater : Skitching create_panel_block id = current_goal text = "...steady..." style = panel_message_goal ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps_GapDone IF GoalManager_GoalExists name = NJ_Goal_Gaps IF GoalManager_GoalIsActive name = NJ_Goal_Gaps IF GoalManager_SetGoalFlag name = NJ_Goal_Gaps got_1 1 printf "got gap 1 - really" kill prefix = "TRGP_killskater_gap" ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps_VehScript Obj_SetPathVelocity 160 fps Obj_SetPathAcceleration 15 fpsps Obj_SetPathDeceleration 15 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 Obj_Playsound CarLoop Obj_AdjustSound CarLoop volumePercent = 225 volumeStep = 0.75000000000 pitchPercent = RANDOM_RANGE PAIR(70.00000000000, 80.00000000000) pitchStep = RANDOM_RANGE PAIR(0.40000000596, 0.60000002384) Dropoff = 500 BEGIN wait 1 frame IF Skater : Skitching Obj_AdjustSound CarLoop volumePercent = 225 volumeStep = 0.75000000000 pitchPercent = RANDOM_RANGE PAIR(80.00000000000, 90.00000000000) pitchStep = RANDOM_RANGE PAIR(0.60000002384, 0.80000001192) Obj_FollowPathLinked BREAK ENDIF REPEAT wait 0.50000000000 second Obj_Playsound LA_Skid_11 wait 5 second Obj_AdjustSound CarLoop volumePercent = 250 volumeStep = 0.94999998808 pitchPercent = RANDOM_RANGE PAIR(90.00000000000, 100.00000000000) pitchStep = RANDOM_RANGE PAIR(0.80000001192, 1.00000000000) wait 5.09999990463 seconds IF Skater : Skitching Playstream StreetWarrior1_NJ_Goal_Gaps_Let_Go vol = 400 ENDIF BEGIN wait 0.10000000149 seconds REPEAT 20 ENDSCRIPT
SCRIPT NJ_AddGoal_WalkCharles AddGoal_Gaps { Version = 4 intro_node = TRG_G_GAP4_IntroNode record_type = time start_skater_standing Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(5835.60009765625, -3376.00000000000, -4532.60009765625) positionOffset = VECTOR(209.50000000000, 95.69999694824, 2970.80004882812) frames = 300 speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = StreetWarrior2_NJ_Goal_Gaps4_Camanim01_skater skippable = 1 } { virtual_cam targetId = TRG_G_GAP4_Pro targetOffset = VECTOR(19.60000038147, 43.20000076294, 2.09999990463) positionOffset = VECTOR(-10.30000019073, 1.70000004768, 96.19999694824) frames = 300 skippable = 1 } ] goal_text = "Walk Charles" view_goals_text = "Walk Charles" goal_flags = [ got_1 ] geo_prefix = "GEO_GAPS4_" goal_start_script = NJ_Goal_Gaps4_Start goal_intro_script = NJ_Goal_Gaps4_Intro goal_deactivate_script = NJ_Goal_Gaps4_Deactivate full_name = "Jason Turbo" pro = "StreetWarrior2" time = 180 goal_description = StreetWarrior2_NJ_Goal_Gaps4 dont_show_goal_text } ENDSCRIPT
SCRIPT NJ_Goal_Gaps4_Intro IF NOT IsAlive name = GO_G_SittingDog Create name = GO_G_SittingDog ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps4_DogChecker GoalManager_GetCurrentChapterAndStage IF ( ( <currentchapter> = 0 ) & ( <currentstage> = 1 ) ) IF NOT GoalManager_HasWonGoal name = NJ_Goal_Gaps4 IF NOT IsAlive name = GO_G_SittingDog Create name = GO_G_SittingDog ENDIF ELSE IF IsAlive name = GO_G_SittingDog kill name = GO_G_SittingDog ENDIF ENDIF ELSE IF IsAlive name = GO_G_SittingDog kill name = GO_G_SittingDog ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Gaps4_Start IF IsAlive name = GO_G_SittingDog kill name = GO_G_SittingDog ENDIF printf "================================= Setting skater to OnGroundAi" NJ_Peds_Kill NJ_Cars_Kill kill prefix = "GO_G_Skitch" Create prefix = "GO_G_Skitch" Create name = IC_CharlesCollision create_panel_block id = current_goal text = "\\n Skitch Charles\' Leash\\nHold up (\\b7) behind him to grab it!" style = panel_message_goal ENDSCRIPT
SCRIPT NJ_Goal_Gaps4_Deactivate kill_panel_message_if_it_exists id = current_goal kill prefix = "GO_G_Skitch" NJ_Peds_Create NJ_Cars_Create Skater : EndGap GapID = NJ_Gap4_SkitchCharles KillSpawnedScript id = NJ_SFX_SkitchDog01 KillSpawnedScript id = NJ_SFX_DogLetGo01 kill name = IC_CharlesCollision NJ_Goal_Gaps4_DogChecker IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF ENDSCRIPT
SCRIPT Panel_NJ_DogSkitch time = 1500 SetProps just = [ left bottom ] rgba = [ 128 128 120 108 ] DoMorph time = 0 pos = PAIR(345.00000000000, 75.00000000000) scale = 1.20000004768 alpha = 255 ENDSCRIPT
SCRIPT NJ_Goal_Gaps4_DogMove wait 1 frame Obj_PlayAnim anim = BarkIdle cycle GoalManager_GetDifficultyLevel SWITCH <difficulty_level> CASE 0 DogSkitchTime = 11 CASE 1 DogSkitchTime = 21 CASE 2 DogSkitchTime = 31 ENDSWITCH Obj_FollowPath name = GO_G_SkitchDog_Waypoint_07 Obj_SetPathVelocity 0 fps Obj_SetPathAcceleration 20 fpsps Obj_SetPathDeceleration 30 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 Obj_SetPathTurnDist 20 feet BEGIN BEGIN IF Skater : Skitching create_panel_block id = current_goal text = "Got Him!!" style = panel_message_goal IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF BREAK ENDIF wait 1 second REPEAT Obj_SetPathVelocity 80 fps Obj_PlayAnim anim = Run cycle printf "spawning the sounds1!!!!" KillSpawnedScript id = NJ_SFX_DogLetGo01 SpawnSound NJ_SFX_SkitchDog01 id = NJ_SFX_SkitchDog01 BEGIN DogSkitchTime = ( <DogSkitchTime> - 1 ) IF ( <DogSkitchTime> < 1 ) Skater : GetGap text = "You earned that $5!" score = 500 GapScript = NJ_Goal_Gaps4_GapDone ENDIF FormatText TextName = DogSkitchTimeLeft "%c seconds left" c = <DogSkitchTime> create_panel_block id = current_goal text = <DogSkitchTimeLeft> style = Panel_NJ_DogSkitch wait 1 second IF ( <DogSkitchTime> < 11 ) PlaySound TimeoutA pitch = 110 ENDIF IF NOT Skater : Skitching create_panel_block id = current_goal text = "CHARLES IS LOOSE! Catch him, quick!" style = panel_message_goal Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = GO_G_SkitchDog model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } BREAK ENDIF REPEAT Obj_SetPathVelocity 15 fps printf "spawning the sounds1!!!!" Obj_PlayAnim anim = Walk cycle wait 1 frame KillSpawnedScript id = NJ_SFX_SkitchDog01 SpawnSound NJ_SFX_DogLetGo01 id = NJ_SFX_DogLetGo01 REPEAT ENDSCRIPT
SCRIPT NJ_Goal_Gaps4_LockSkitchNode Obj_LockToObject objectname = GO_G_SkitchDog VECTOR(0.00000000000, 0.00000000000, -40.00000000000) ENDSCRIPT
SCRIPT NJ_Goal_Gaps4_LockIC Obj_LockToObject objectname = GO_G_SkitchDog VECTOR(0.00000000000, 0.00000000000, 0.00000000000) ENDSCRIPT
SCRIPT NJ_Goal_Gaps4_GapDone IF GoalManager_GoalExists name = NJ_Goal_Gaps4 IF GoalManager_GoalIsActive name = NJ_Goal_Gaps4 IF GoalManager_SetGoalFlag name = NJ_Goal_Gaps4 got_1 1 ENDIF ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_BricksFallingOver PlayMovingObjectAnim name = BrickWall NJ_SFX_Brickfall ENDSCRIPT
SCRIPT NJ_SFX_Test printf "test sound playing" BEGIN Obj_Playsound goaldone wait 3 seconds REPEAT ENDSCRIPT
SCRIPT NJ_BreakWoodenFence ShatterAndDie name = * area = 1000 variance = 4 vel_x = 30 vel_y = 30 vel_z = 30 spread = 1 ENDSCRIPT
SCRIPT NJ_TrainTest Obj_MoveToNode name = TRG_TrainTest_00 BEGIN printf "----- Repeating Traintest Obj_Move" Obj_MoveToNode name = TRG_TrainTest_01 speed = 60 Obj_WaitMove Obj_MoveToNode name = TRG_TrainTest_00 REPEAT 10 Obj_WaitMove printf "----- Killing Train (UserSelectL to restart)" Die ENDSCRIPT
SCRIPT NJ_TrainTestLoop Obj_MoveToNode name = TRG_TrainTest_00 BEGIN BEGIN printf "----- Repeating Traintest Obj_Move" Obj_MoveToNode name = TRG_TrainTest_02 speed = 60 Obj_WaitMove Obj_MoveToNode name = TRG_TrainTest_03 REPEAT 10 Obj_WaitMove wait 30 seconds printf "----- Waited 30 seconds, restarting Train loop" REPEAT ENDSCRIPT
SCRIPT NJ_AddGoal_StreetWarriorRace AddGoal_Race { difficulty_level_params = [ { time = 120 } { time = 80 } { time = 50 } ] Version = 6 Start_cam_anims = [ { anim = G_race6_cameraintro01 no_play_hold skippable = 1 } { virtual_cam targetId = TRG_G_Race6_Pro targetOffset = VECTOR(0.10000000149, 63.40000152588, -0.00000000000) positionOffset = VECTOR(11.19999980927, 2.20000004768, 41.29999923706) frames = 240 skippable = 1 play_hold cam_anim_text = StreetWarrior1_NJ_Goal_Race6_camanim02 } { virtual_cam targetId = TRG_G_Race6_Pro targetOffset = VECTOR(-43.20000076294, 53.40000152588, 18.50000000000) positionOffset = VECTOR(-35.09999847412, 17.29999923706, -82.19999694824) frames = 240 skippable = 1 play_hold cam_anim_text = StreetWarrior1_NJ_Goal_Race6_camanim03 } { virtual_cam targetId = TRG_G_Race6_Pro targetOffset = VECTOR(15.30000019073, 58.20000076294, 42.40000152588) positionOffset = VECTOR(-91.59999847412, 15.60000038147, 33.00000000000) frames = 240 skippable = 1 } ] record_type = time control_type = RallyCar intro_node = TRG_G_Race6_IntroNode goal_text = "Cruise the cones" view_goals_text = "Cruise the cones" key_combo_text = "Car Controls: \\n\\b3 = Accelerate \\n\\b1 = Brake/Reverse \\n\\bf = Handbrake" pro = "StreetWarrior1" full_name = "Johnny Turbo" goal_description = StreetWarrior1_NJ_Goal_Race6 goal_flags = [ got_1 got_2 got_3 got_4 got_5 got_6 got_7 got_8 got_9 got_10 got_11 got_12 got_13 got_14 got_15 got_16 got_17 got_18 got_19 ] race_waypoints = [ { id = TRG_G_Race6_RaceNav01 scr = nullscript flag = got_1 time = 80 } { id = TRG_G_Race6_RaceNav02 scr = nullscript flag = got_2 time = 0 } { id = TRG_G_Race6_RaceNav03 scr = nullscript flag = got_3 time = 0 } { id = TRG_G_Race6_RaceNav04 scr = nullscript flag = got_4 time = 0 } { id = TRG_G_Race6_RaceNav05 scr = nullscript flag = got_5 time = 0 } { id = TRG_G_Race6_RaceNav06 scr = nullscript flag = got_6 time = 0 } { id = TRG_G_Race6_RaceNav07 scr = nullscript flag = got_7 time = 0 } { id = TRG_G_Race6_RaceNav08 scr = nullscript flag = got_8 time = 0 } { id = TRG_G_Race6_RaceNav09 scr = nullscript flag = got_9 time = 0 } { id = TRG_G_Race6_RaceNav10 scr = nullscript flag = got_10 time = 0 } { id = TRG_G_Race6_RaceNav11 scr = nullscript flag = got_11 time = 0 } { id = TRG_G_Race6_RaceNav12 scr = nullscript flag = got_12 time = 0 } { id = TRG_G_Race6_RaceNav13 scr = nullscript flag = got_13 time = 0 } { id = TRG_G_Race6_RaceNav14 scr = nullscript flag = got_14 time = 0 } { id = TRG_G_Race6_RaceNav15 scr = nullscript flag = got_15 time = 0 } { id = TRG_G_Race6_RaceNav16 scr = nullscript flag = got_16 time = 0 } { id = TRG_G_Race6_RaceNav17 scr = nullscript flag = got_17 time = 0 } { id = TRG_G_Race6_RaceNav18 scr = nullscript flag = got_18 time = 0 } { id = TRG_G_Race6_RaceNav19 scr = nullscript flag = got_19 time = 0 } ] goal_intro_script = NJ_Goal_Race6_Intro intro_node = TRG_G_Race6_IntroNode goal_start_script = NJ_Goal_Race6_Start goal_deactivate_script = NJ_Goal_Race6_Deactivate goal_outro_script = NJ_Goal_Race6_Outro success_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-14387.40039062500, -634.29998779297, -1808.40002441406) positionOffset = VECTOR(-4845.89990234375, 85.40000152588, 1098.30004882812) frames = 360 skippable = 1 no_play_hold cam_anim_text = StreetWarrior1_NJ_Goal_Race6_Success } ] } ENDSCRIPT
SCRIPT NJ_Race6_CreateFluff Create prefix = "Race6_" Create prefix = "TRG_SFX_TrigBox_IdleHotRod" Create prefix = "Burnout" IF NOT IsAlive name = TRG_Car_NotDrivable Create name = TRG_Car_NotDrivable ENDIF ENDSCRIPT
NJ_Drunkwalk = [ { anims = [ Ped_Drunk_Walk ] } ] SCRIPT NJ_Race6_KillFluff kill prefix = "Race6_" kill prefix = "TRG_SFX_TrigBox_IdleHotRod" kill prefix = "Burnout" ENDSCRIPT
SCRIPT NJ_Goal_Race6_Conesetup Create prefix = "LO_Race6hidden" kill prefix = "LO_Race6cone" kill prefix = "TRGP_G_coneson" ENDSCRIPT
SCRIPT NJ_Goal_Race6_Intro kill prefix = "TRG_G_Race6_Racenav" Create prefix = "TRG_G_Race6_Racenav" ENDSCRIPT
SCRIPT NJ_Goal_Race6_Start IF IsAlive name = TRG_Car_NotDrivable TRG_Car_NotDrivable : Hide ENDIF IF IsAlive name = TRG_Car_Drivable01 TRG_Car_Drivable01 : Hide ENDIF kill prefix = "Race6_" kill prefix = "TRG_SFX_TrigBox_IdleHotRod" kill prefix = "Burnout" NJ_DrivingSetupStart kill prefix = "NJ_Alleyway_Bottle" kill prefix = "LO_NewCone" Create prefix = "LO_Race6Cone" Create prefix = "TRGP_G_coneson" ENDSCRIPT
SCRIPT NJ_Goal_Race6_Deactivate kill prefix = "TRG_G_Race6_Racenav" IF IsAlive name = TRG_Car_NotDrivable TRG_Car_NotDrivable : UnHide Create prefix = "Race6_" Create prefix = "TRG_SFX_TrigBox_IdleHotRod" Create prefix = "Burnout" ENDIF IF IsAlive name = TRG_Car_Drivable01 TRG_Car_Drivable01 : UnHide ENDIF NJ_DrivingSetupEnd kill prefix = "LO_Race6Cone" kill prefix = "LO_Race6hiddenCone" kill prefix = "TRGP_G_coneson" kill prefix = "NJ_Alleyway_Bottle" Create prefix = "LO_NewCone" ENDSCRIPT
SCRIPT NJ_Goal_Race6_Outro printf "=========================== Outro Fired." IF IsAlive name = TRG_Car_NotDrivable kill name = TRG_Car_NotDrivable ENDIF printf "=========================== Burnout" IF IsAlive name = Burnout_Smoke25 kill prefix = "Burnout" ENDIF printf "=========================== After Burnout" Spawnscript NJ_Car_Drivable ENDSCRIPT
SCRIPT NJ_Goal_Race6_GotThere NJ_DrivingSetupEnd GoalManager_WinGoal name = NJ_Goal_Race6 kill prefix = "LO_Race6Cone" kill prefix = "LO_Race6hiddenCone" kill prefix = "TRGP_G_coneson" Create prefix = "LO_NewCone" ENDSCRIPT
SCRIPT NJ_DrivingSetupStart IF IsAlive name = TRG_Chpt3_Veh_DrugDealer Create name = TRG_Chpt3_Veh_DrugDealer_IC ENDIF Create name = IC_CarTime NJ_Peds_Kill kill prefix = G_RACE3_Piece kill name = GEO_Chrisline_Race3_04 kill name = NJ_Alleyway01 kill name = FO_Flies_01 kill name = TRG_SFX_TrigBox_Day_DumpsterFlies01 kill prefix = "hedge1side" kill prefix = "Horse" kill prefix = "LO_FenceGate0" kill prefix = "NJ_G_NOT_Divider" kill prefix = "NJ_Houses_North_17" kill prefix = "PlayGroundRail_N" kill prefix = "NJ_Small_PG_Tetherballs" kill prefix = "NJ_Small_PG_TetherPoleTops" kill prefix = "NJ_Medium_Playground_06" kill prefix = "NJ_Medium_Playground_10" kill prefix = "NJ_Medium_Playground_08" kill prefix = "NJ_Medium_Playground_11" kill prefix = "NJ_Medium_Playground_12" kill prefix = "NJ_Medium_Playground_22" kill prefix = "NJ_Medium_Playground_27" kill prefix = "NJ_Medium_Playground_28" kill prefix = "NJ_Small_North_10" kill prefix = "NJ_Small_PG_North05" kill prefix = "NJ_Small_PG_North06" kill prefix = "NJ_Small_PG_North07" kill prefix = "NJ_Small_PG_North09" kill prefix = "NJ_Small_PG_North20" kill prefix = "NJ_Small_PG_South01" kill prefix = "NJ_Small_PG_South02" kill prefix = "NJ_Small_PG_South13" kill prefix = "NJ_Small_PG_South14" kill prefix = "NJ_Small_South_08" kill prefix = "NJE_apm_G_school" kill prefix = "NJ_AlleywayQP" IF NOT InSplitScreenGame kill prefix = "Occlusion_77" ENDIF kill prefix = "ts_hedge03" kill prefix = "ts_ivyWeed" kill prefix = "TRGP_LO_Gate" kill prefix = "TRGP_LO_PG" kill prefix = "TRG_Veh_Car_" kill prefix = "NJ_TrainStation_Interior_01" Create prefix = "G_RACE3_Piece05" Create prefix = "GEO_RACE" ENDSCRIPT
SCRIPT NJ_DrivingSetupEnd kill prefix = "LO_FenceGate0" Create prefix = "LO_FenceGate0" kill name = TRG_Chpt3_Veh_DrugDealer_IC kill name = IC_CarTime NJ_Peds_Create kill prefix = "GEO_RACE" Create prefix = G_RACE3_Piece Create name = GEO_Chrisline_Race3_04 Create name = NJ_Alleyway01 Create name = FO_Flies_01 Create name = TRG_SFX_TrigBox_Day_DumpsterFlies01 Create prefix = "hedge1side" Create prefix = "Horse" Create prefix = "NJ_G_NOT_Divider" Create prefix = "NJ_Houses_North_17" Create prefix = "PlayGroundRail_N" Create prefix = "NJ_Small_PG_Tetherballs" Create prefix = "NJ_Small_PG_TetherPoleTops" Create prefix = "NJ_Medium_Playground_06" Create prefix = "NJ_Medium_Playground_10" Create prefix = "NJ_Medium_Playground_08" Create prefix = "NJ_Medium_Playground_11" Create prefix = "NJ_Medium_Playground_12" Create prefix = "NJ_Medium_Playground_22" Create prefix = "NJ_Medium_Playground_27" Create prefix = "NJ_Medium_Playground_28" Create prefix = "NJ_Small_North_10" Create prefix = "NJ_Small_PG_North05" Create prefix = "NJ_Small_PG_North06" Create prefix = "NJ_Small_PG_North07" Create prefix = "NJ_Small_PG_North09" Create prefix = "NJ_Small_PG_North20" Create prefix = "NJ_Small_PG_South01" Create prefix = "NJ_Small_PG_South02" Create prefix = "NJ_Small_PG_South13" Create prefix = "NJ_Small_PG_South14" Create prefix = "NJ_Small_South_08" Create prefix = "NJE_apm_G_school" Create prefix = "NJ_AlleywayQP" IF NOT InSplitScreenGame Create prefix = "Occlusion_77" ENDIF Create prefix = "ts_hedge03" Create prefix = "ts_ivyWeed" Create prefix = "TRGP_LO_Gate" Create prefix = "TRGP_LO_PG" Create prefix = "TRG_Veh_Car_" Create prefix = "NJ_TrainStation_Interior_01" ENDSCRIPT
SCRIPT NJ_AddGoal_Gaps3 AddGoal_Gaps3 { pro = "drunk" full_name = "Ollie" time = 60 view_goals_text = "Joy Riding" goal_flags = [ got_1 ] goal_description = [ "Hey I was just watching your car for you... Hey can i get a ride?" ] goal_text = "Joy Riding" goal_start_script = NJ_Goal_Gaps3_Start goal_deactivate_script = NJ_Goal_Gaps3_Deactivate goal_fail_script = NJ_Goal_Gaps3_fail goal_expire_script = NJ_Goal_Gaps3_fail intro_node = TRG_G_Gap3_IntroNode } ENDSCRIPT
SCRIPT NJ_Goal_Gaps3_Start NJ_DrivingSetupStart ENDSCRIPT
SCRIPT NJ_Goal_Gaps3_Deactivate printf "goal shoulda finished" NJ_DrivingSetupEnd ENDSCRIPT
SCRIPT NJ_Goal_Gaps3_fail printf "goal shoulda failed" NJ_DrivingSetupEnd ENDSCRIPT
SCRIPT NJ_AddGoal_TombCollect AddGoal_Collect { Version = 4 difficulty_level_params = [ { unlimited_time = 1 } { time = 120 } { time = 45 } ] record_type = time career_only start_skater_standing Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(3143.19995117188, -3343.00000000000, 7028.00000000000) positionOffset = VECTOR(-3951.60009765625, 108.69999694824, 883.09997558594) frames = 180 walk_into_frame skippable = 1 play_hold speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Sparrow_NJ_Goal_Collect4_Camanim01_skater } { virtual_cam targetId = world targetOffset = VECTOR(-4960.60009765625, -748.70001220703, -8954.90039062500) positionOffset = VECTOR(-3850.80004882812, 86.59999847412, 948.40002441406) frames = 180 skippable = 1 play_hold cam_anim_text = Sparrow_NJ_Goal_Collect4_Camanim02 } { virtual_cam targetId = world targetOffset = VECTOR(-6534.00000000000, -426.60000610352, -8636.00000000000) positionOffset = VECTOR(-3859.30004882812, 81.00000000000, 986.59997558594) frames = 180 skippable = 1 play_hold cam_anim_text = Sparrow_NJ_Goal_Collect4_Camanim03 } { anim = G_COLLECT4_CameraStart_03 skippable = 1 } ] pro = "Sparrow" full_name = "Eric Sparrow" goal_flags = [ got_1 got_2 got_3 got_4 got_5 got_6 ] goal_collect_objects = [ { id = GO_G_COLLECT4_Item01 scr = NJ_Goal_Collect4_GotComboItem flag = got_1 } { id = GO_G_COLLECT4_Item02 scr = NJ_Goal_Collect4_GotComboItem flag = got_2 } { id = GO_G_COLLECT4_Item03 scr = NJ_Goal_Collect4_GotComboItem flag = got_3 } { id = GO_G_COLLECT4_Item04 scr = NJ_Goal_Collect4_GotComboItem flag = got_4 } { id = GO_G_COLLECT4_Item05 scr = NJ_Goal_Collect4_GotComboItem flag = got_5 } { id = GO_G_COLLECT4_Item06 scr = NJ_Goal_Collect4_GotComboItem flag = got_6 } ] goal_description = Sparrow_NJ_Goal_Collect4 intro_node = TRG_G_Collect4_IntroNode collect_type = "Junk" goal_text = "Press \\b3 to jump and press \\bf to grab." view_goals_text = "Collect the Scrap" goal_success_script = NJ_Goal_Collect4_success goal_intro_script = NJ_Goal_Collect4_Intro goal_start_script = NJ_Goal_Collect4_Start goal_deactivate_script = NJ_Goal_Collect4_Deactivate use_hud_counter hud_counter_caption = "Trash\\nCollected" child = NJ_Goal_Gaps retry_stage } ENDSCRIPT
SCRIPT NJ_Goal_Collect4_Intro Create prefix = "GO_G_COLLECT4_Item" ENDSCRIPT
SCRIPT NJ_Goal_Collect4_Start Spawnscript NJ_Goal_Collect4_Hints id = NJ_Goal_Collect4_Hints ENDSCRIPT
SCRIPT NJ_Goal_Collect4_Hints GoalManager_GetNumberCollected name = NJ_Goal_Collect4 IF number_collected = 0 Create3dArrowPointer { id = DesignerCreated_3DArrowPointer name = GO_G_COLLECT4_Item01 model = "HUD_arrow" pos = PAIR(320.00000000000, 70.00000000000) scale = 0.02500000037 Tilt = 7 } ENDIF wait 10 frames IF IsAlive name = GO_G_COLLECT4_Item06 GO_G_COLLECT4_Item06 : Obj_SetInnerRadius 9 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Collect4_Deactivate kill prefix = "GO_G_COLLECT4_Item" KillSpawnedScript id = NJ_Goal_Collect4_Hints IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF ENDSCRIPT
SCRIPT NJ_Goal_Collect4_success kill prefix = "GO_G_COLLECT4_Item" kill prefix = "GO_G_COLLECT4_Item" pulse_blur start = 200 speed = 1 ENDSCRIPT
SCRIPT NJ_Goal_Collect4_GotComboItem IF ObjectExists id = DesignerCreated_3DArrowPointer DestroyScreenElement id = DesignerCreated_3DArrowPointer ENDIF GoalManager_SetGoalFlag name = <goal_id> <flag> 1 GoalManager_GetGoalParams name = <goal_id> IF NOT GoalManager_AllFlagsSet name = <goal_id> Spawnscript NJ_SFX_TrashCollect FormatText TextName = collect_text "%c of %n %t" c = <num_flags_set> t = <collect_type> n = <num_flags> Create_Panel_Message text = <collect_text> style = goal_collect_text ENDIF Die ENDSCRIPT
SCRIPT NJ_AddGoal_PorkAttack AddGoal_Counter { Version = 3 record_type = time goal_text = "Grind the circle to tire out Security Stew" difficulty_level_params = [ { number = 2 unlimited_time = 1 goal_text = "Make Stew chase you 2 times around the circle!" } { number = 3 goal_text = "Make Stew chase you 3 times around the circle!" time = 25 } { number = 5 goal_text = "Make Stew chase you 5 times around the circle!" time = 40 } ] pro = "Stew" full_name = "Security Stew" intro_node = TRG_G_counter3_intronode Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-19405.50000000000, -2035.59997558594, -1319.69995117188) positionOffset = VECTOR(-9641.90039062500, 84.69999694824, -1743.80004882812) frames = 200 skippable = 1 play_hold cam_anim_text = Stew_NJ_Goal_Counter3_Camanim01 } { virtual_cam targetId = world targetOffset = VECTOR(-942.29998779297, -1928.69995117188, 2611.80004882812) positionOffset = VECTOR(-9699.70019531250, 84.09999847412, -1776.30004882812) frames = 200 skippable = 1 play_hold cam_anim_text = Stew_NJ_Goal_Counter3_Camanim02_Sparrow speaker_obj_id = TRG_G_counter3_Eric speaker_name = "Sparrow" cam_anim_speaker_name = "Eric" } { virtual_cam targetId = world targetOffset = VECTOR(-19485.69921875000, -2149.19995117188, -1139.00000000000) positionOffset = VECTOR(-9755.20019531250, 78.90000152588, -1729.59997558594) frames = 200 skippable = 1 play_hold cam_anim_text = Stew_NJ_Goal_Counter3_Camanim03 } { virtual_cam targetId = world targetOffset = VECTOR(83.50000000000, -1913.00000000000, -1939.00000000000) positionOffset = VECTOR(-9713.09960937500, 81.09999847412, -1719.09997558594) frames = 200 skippable = 1 play_hold cam_anim_text = Stew_NJ_Goal_Counter3_Camanim04_skater speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" } { virtual_cam targetId = world targetOffset = VECTOR(-19485.69921875000, -2149.19995117188, -1139.00000000000) positionOffset = VECTOR(-9755.20019531250, 78.90000152588, -1729.59997558594) frames = 200 skippable = 1 } ] goal_description = Stew_NJ_Goal_Counter3 use_hud_counter hud_counter_caption = "Grinds around the circle" view_goals_text = "Get access to the Train Station" goal_intro_script = NJ_Goal_Counter3_Intro goal_start_script = NJ_Goal_counter3_guardchasestart goal_deactivate_script = nj_goal_counter3_deactivate goal_fail_script = NJ_Goal_counter3_fail goal_success_script = NJ_Goal_counter3_success success_cam_anims = [ { anim = g_counter3_camerakhan skippable = 1 pre_anim_script = NJ_Goal_counter3_outro cam_anim_text = "Hyurk!!!" no_play_hold } ] } ENDSCRIPT
SCRIPT NJ_Counter3_YellowFlash piece = NJ_W_Street_06 BEGIN SetObjectColor name = <piece> color = ( 255 + ( 255 * 256 ) + ( 120 * 65536 ) ) wait 8 frames SetObjectColor name = <piece> color = ( 254 + ( 163 * 256 ) + ( 90 * 65536 ) ) wait 8 frames REPEAT ENDSCRIPT
SCRIPT NJ_Goal_counter3_guardchasestart TRG_G_counter3_pro : Obj_Invisible Create prefix = "TRG_Ped_Collect3_guardchase" Spawnscript NJ_Counter3_YellowFlash params = { piece = NJ_W_Street_06 } id = StewFlashingScript01 ENDSCRIPT
SCRIPT NJ_Goal_Counter3_Intro Create name = TRG_G_counter3_Eric ENDSCRIPT
SCRIPT NJ_Goal_counter3_guardchase_follow runnode = TRG_Ped_collect3_waypoint01 Skater : Obj_GetSpeed GuardSpeed = ( <speed> - 5 ) TRG_Ped_Collect3_guardchase : Obj_MoveToNode name = <runnode> speed = <GuardSpeed> TRG_Ped_Collect3_guardchase : Obj_LookAtObject type = Skater time = 0.05000000075 TRG_Ped_Collect3_guardchase : Obj_CycleAnim anim = Run ENDSCRIPT
SCRIPT NJ_Goal_counter3_lapcounter EndGap GapID = NJ_Gap_Roundabout text = "Get around to it" score = 100 GapScript = NJ_goal_counter3_score StartGap GapID = NJ_Gap_Roundabout flags = [ cancel_ground ] ENDSCRIPT
SCRIPT NJ_goal_counter3_score IF GoalManager_GoalIsActive name = NJ_goal_counter3 GoalManager_GotCounterObject name = NJ_goal_counter3 ENDIF ENDSCRIPT
SCRIPT NJ_Goal_counter3_outro kill prefix = "TRG_Ped_Collect3" Create prefix = "TRG_Ped_Collect3_guarddie" Spawnscript NJ_PorkText Spawnscript NJ_UnlockTrainstation ENDSCRIPT
SCRIPT NJ_PorkText wait 2 seconds create_panel_block id = current_goal text = "Porrrrrrrrrk!!" style = panel_message_death ENDSCRIPT
SCRIPT nj_goal_collect3_guarddie Obj_PlayAnim anim = manualback speed = 0.21999999881 ENDSCRIPT
SCRIPT nj_goal_counter3_deactivate PlaySkaterCamAnim Skater = 0 stop KillSpawnedScript id = counter3_Camera TRG_G_counter3_pro : Obj_visible kill prefix = "TRG_Ped_Collect3_guardchase" kill name = TRG_G_counter3_Eric KillSpawnedScript name = NJ_Counter3_YellowFlash SetObjectColor_CurrentTOD name = NJ_W_Street_06 ENDSCRIPT
SCRIPT NJ_Goal_counter3_success kill prefix = "TRG_Ped_Collect3_guard" ENDSCRIPT
SCRIPT NJ_Goal_counter3_fail kill prefix = "TRG_Ped_Collect3_guard" ENDSCRIPT
SCRIPT NJ_Addgoal_BratImpress AddGoal_GenericScore { Version = 2 view_goals_text = "Impress the Bratty Kid" difficulty_level_params = [ { goal_text = "Get 5,000 points    Don\'t touch the street" score = 5000 } { goal_text = "Get 25,000 points    Don\'t touch the street" score = 25000 } { goal_text = "Get 140,000 points    Don\'t touch the street" score = 140000 } ] Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-21351.30078125000, -719.90002441406, 92.59999847412) positionOffset = VECTOR(-11485.50000000000, 73.59999847412, -1336.50000000000) frames = 120 skippable = 1 play_hold } ] pro = "bRaT" full_name = "Brat" goal_description = Brat_NJ_Goal_GenericScore2 kill_radius = 200 goal_start_script = NJ_highscore2_start goal_deactivate_script = NJ_highscore2_deactivate goal_success_script = NJ_highscore2_success intro_node = TRG_G_GS2_IntroNode start_skater_standing } ENDSCRIPT
SCRIPT BratRespawn wait 0.69999998808 seconds RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = Lava text = "No Fair!" style = panel_message_death RANDOMCASE create_panel_block id = Lava text = "Where you goin mister?" style = panel_message_death RANDOMCASE create_panel_block id = Lava text = "That\'s lava too, Duh" style = panel_message_death RANDOMEND Skater : KillSkater Node = TRG_G_GS2_RestartNode ENDSCRIPT
SCRIPT RestartTextKill wait 1.50000000000 seconds KillSpawnedScript RestartTextKill ENDSCRIPT
SCRIPT NJ_highscore2_StreetLavain printf "==================================== Lava In" GoalManager_GetGoalParams name = NJ_Goal_GenericScore2 IF SkaterCurrentScorePotGreaterThan 0 wait 0.10000000149 seconds ELSE wait 0.50000000000 seconds ENDIF Create_Panel_Message text = "You fell in the lah-va! Nyah nyah!" style = panel_message_death SpawnSound NJ_SFX_PipeIgnite Skater : MakeSkaterBail score = 0 SetScoreAccumulation 0 freeze_score Skater : KillSkater Node = TRG_G_GS2_RestartNode Spawnscript NJ_highscore2_StreetLavaout ENDSCRIPT
SCRIPT NJ_highscore2_StreetLavaout printf "==================================== Lava Out" KillSpawnedScript name = NJ_highscore2_StreetLavain RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = Lava text = "\\n\\nYowch!" style = panel_message_death RANDOMCASE create_panel_block id = Lava text = "\\n\\nOoh!" style = panel_message_death RANDOMCASE create_panel_block id = Lava text = "\\n\\nHibachi!" style = panel_message_death RANDOMEND SetScoreAccumulation 1 ENDSCRIPT
SCRIPT NJ_Highscore2_Scoreable KillSpawnedScript name = NJ_highscore2_StreetLavain SetScoreAccumulation 1 ENDSCRIPT
SCRIPT NJ_highscore2_start Create prefix = "trgp_g_HighScore2" IF NOT IsAlive name = TRGP_BratRespawner Create name = TRGP_BratRespawner ENDIF ENDSCRIPT
SCRIPT NJ_highscore2_deactivate kill prefix = "trgp_g_HighScore2" Spawnscript NJ_UnlockTrainstation IF IsAlive name = TRGP_BratRespawner kill name = TRGP_BratRespawner ENDIF KillSpawnedScript name = NJ_highscore2_StreetLavain KillSpawnedScript name = BratRespawn ENDSCRIPT
SCRIPT NJ_highscore2_success ENDSCRIPT
SCRIPT NJ_UnlockTrainstation IF IsCareerMode IF GoalManager_HasWonGoal name = NJ_goal_counter3 Create prefix = "TRGP_LO_TrainDoor" Create prefix = "TRG_StationRail_" kill prefix = "TRGP_EnterStation" kill prefix = "IC_StationBlock" ELSE kill prefix = "TRGP_LO_TrainDoor" kill prefix = "TRG_StationRail_" Create prefix = "TRGP_EnterStation" Create prefix = "IC_StationBlock" IF GoalManager_GoalIsActive name = NJ_Goal_Race7 Create prefix = "TRGP_LO_TrainDoor" kill prefix = "TRGP_EnterStation" kill prefix = "IC_StationBlock" ENDIF ENDIF ELSE Create prefix = "TRGP_LO_TrainDoor" Create prefix = "TRG_StationRail_" kill prefix = "TRGP_EnterStation" kill prefix = "IC_StationBlock" ENDIF ENDSCRIPT
SCRIPT NJ_Fluff_BirdFly Obj_ClearExceptions Obj_PlayAnim anim = Fly cycle RANDOM(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_01 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_03 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_05 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_07 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_09 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_11 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_13 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_15 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_17 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_19 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_21 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_23 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_25 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_27 RANDOMEND BEGIN RANDOM(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1) RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_02 speed = 50 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_04 speed = 60 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_06 speed = 40 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_08 speed = 55 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_10 speed = 45 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_12 speed = 50 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_14 speed = 65 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_16 speed = 50 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_18 speed = 60 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_20 speed = 40 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_22 speed = 55 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_24 speed = 45 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_26 speed = 50 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdFly_28 speed = 65 RANDOMEND Obj_WaitMove REPEAT ENDSCRIPT
SCRIPT NJ_Fluff_BirdPath Obj_ClearExceptions Obj_FollowPath name = <Path> Obj_SetPathVelocity 60 fps Obj_PlayAnim anim = Fly cycle ENDSCRIPT
SCRIPT NJ_Fluff_Bird_Idle wait 1 frame Obj_ClearExceptions Obj_SetInnerRadius 25 Obj_SetException Ex = SkaterInRadius scr = NJ_Fluff_Bird_FlyAway params = <...> Obj_PlayAnim anim = Peck cycle ENDSCRIPT
SCRIPT NJ_Fluff_Bird_FlyAway Obj_ClearExceptions Obj_SetOuterRadius 300 Obj_SetException Ex = SkaterOutOfRadius scr = NJ_Fluff_Bird_Land params = <...> wait 1 frame RANDOM(1, 1, 1, 1, 1) RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdScatterTo_01 speed = 25 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdScatterTo_02 speed = 25 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdScatterTo_03 speed = 25 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdScatterTo_04 speed = 25 RANDOMCASE Obj_MoveToNode name = TRG_Fluff_BirdScatterTo_05 speed = 25 RANDOMEND Obj_WaitMove Obj_PlayAnim anim = Fly cycle wait 1 frame ENDSCRIPT
SCRIPT NJ_Fluff_Bird_Land wait 1 frame Obj_ClearExceptions Obj_MoveToNode name = <ReturnNode> speed = 20 Obj_WaitMove wait 1 frame GotoPreserveParams NJ_Fluff_Bird_Idle Obj_PlayAnim anim = FlyToIdle cycle ENDSCRIPT
SCRIPT NJ_Fluff_Chopper BEGIN Obj_ClearExceptions wait 1 frame Obj_MoveToNode name = TRG_Fluff_Chopper_01 speed = 30 Obj_LookAtNode name = TRG_Fluff_Chopper_01 time = 1 wait 1 frame Obj_WaitMove wait 5 seconds Obj_RotX angle = 30 speed = 30 Obj_LookAtNode name = TRG_Fluff_Chopper_02 time = 1 Obj_MoveToNode name = TRG_Fluff_Chopper_02 speed = 30 Obj_WaitMove RANDOM(1, 1, 1) RANDOMCASE wait 5 seconds RANDOMCASE wait 10 seconds RANDOMCASE wait 15 seconds RANDOMEND wait 1 frame Obj_WaitMove Obj_RotX angle = 30 speed = 30 Obj_LookAtNode name = TRG_Fluff_Chopper_02 time = 1 Obj_MoveToNode name = TRG_Fluff_Chopper_02 speed = 30 Obj_WaitMove RANDOM(1, 1, 1) RANDOMCASE wait 5 seconds RANDOMCASE wait 10 seconds RANDOMCASE wait 15 seconds RANDOMEND Obj_LookAtNode name = TRG_Fluff_Chopper_03 time = 1 Obj_MoveToNode name = TRG_Fluff_Chopper_03 speed = 30 Obj_WaitMove RANDOM(1, 1, 1) RANDOMCASE wait 5 seconds RANDOMCASE wait 10 seconds RANDOMCASE wait 15 seconds RANDOMEND Obj_LookAtNode name = TRG_Fluff_Chopper_04 time = 1 Obj_MoveToNode name = TRG_Fluff_Chopper_04 speed = 30 Obj_WaitMove RANDOM(1, 1, 1) RANDOMCASE wait 5 seconds RANDOMCASE wait 10 seconds RANDOMCASE wait 15 seconds RANDOMEND Obj_LookAtNode name = TRG_Fluff_Chopper_05 time = 1 Obj_MoveToNode name = TRG_Fluff_Chopper_05 speed = 30 Obj_WaitMove RANDOM(1, 1, 1) RANDOMCASE wait 5 seconds RANDOMCASE wait 10 seconds RANDOMCASE wait 15 seconds RANDOMEND Obj_LookAtNode name = TRG_Fluff_Chopper_06 time = 1 Obj_MoveToNode name = TRG_Fluff_Chopper_06 speed = 30 Obj_WaitMove RANDOM(1, 1, 1) RANDOMCASE wait 5 seconds RANDOMCASE wait 10 seconds RANDOMCASE wait 15 seconds RANDOMEND REPEAT ENDSCRIPT
SCRIPT NJ_Fluff_ChopperRotors Obj_ClearExceptions wait 2 frames Obj_LockToObject objectname = LO_Fluff_Chopper VECTOR(0.00000000000, 0.00000000000, 0.00000000000) NoRotation Obj_RotY speed = 1872 ENDSCRIPT
SCRIPT ClearGapsFoo ENDSCRIPT
SCRIPT Null ENDSCRIPT
SCRIPT NJ_Gap_Rail2Rail01 printf "Rail2Rail01" EndGap GapID = NJ_Gap_Rail2Rail01 text = "Rail2Rail" score = 25 StartGap GapID = NJ_Gap_Rail2Rail02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_Rail2Rail02 EndGap GapID = NJ_Gap_Rail2Rail02 text = "Rail2Rail" score = 25 StartGap GapID = NJ_Gap_Rail2Rail01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_Rail2Rail03 printf "Rail2Rail03" EndGap GapID = NJ_Gap_Rail2Rail03 text = "Rail2Rail" score = 25 StartGap GapID = NJ_Gap_Rail2Rail04 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_Rail2Rail04 EndGap GapID = NJ_Gap_Rail2Rail04 text = "Rail2Rail" score = 25 StartGap GapID = NJ_Gap_Rail2Rail03 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_Rail2Rail05 printf "Rail2Rail04" EndGap GapID = NJ_Gap_Rail2Rail03 text = "Rail2Rail" score = 25 StartGap GapID = NJ_Gap_Rail2Rail04 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_Rail2Rail06 EndGap GapID = NJ_Gap_Rail2Rail04 text = "Rail2Rail" score = 25 StartGap GapID = NJ_Gap_Rail2Rail03 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_PipeGrind printf "start for pipe grind" IF FirstTimeOnThisRail StartGap GapID = NJ_Gap_PipeGrind flags = [ cancel_ground ] EndGap GapID = NJ_Gap_PipeGrind text = "On the Pipe Again" score = 15 ENDIF ENDSCRIPT
SCRIPT NJ_Gap_UpToWiresStart ENDSCRIPT
SCRIPT NJ_Gap_UpToWiresEnd printf "landed on highwire for gap" IF FirstTimeOnThisRail StartGap GapID = NJ_Gap_UpToWires flags = [ cancel_ground ] EndGap GapID = NJ_Gap_UpToWires text = "On the High Wire" score = 25 ENDIF ENDSCRIPT
SCRIPT NJ_Gap_UpToHouseLip printf "looking for House lip or spine gap" StartGap GapID = NJ_Gap_UpToHouseLipLow flags = [ cancel_ground require_lip ] StartGap GapID = NJ_Gap_UpToHouseLipHigh flags = [ cancel_ground require_lip ] StartGap GapID = NJ_Gap_HouseSpineUp flags = [ cancel_ground PURE_AIR ] EndGap GapID = NJ_Gap_HouseSpineDown text = "Spining DOWN the House" score = 100 ENDSCRIPT
SCRIPT NJ_Gap_HouseLipLow printf "landed on low lip for gap" wait 1 frame EndGap GapID = NJ_Gap_UpToHouseLipLow text = "Low House Lip" score = 25 ENDSCRIPT
SCRIPT NJ_Gap_HouseLipHigh printf "landed on high lip for gap" wait 1 frame EndGap GapID = NJ_Gap_UpToHouseLipHigh text = "High House Lip" score = 50 ENDSCRIPT
SCRIPT NJ_Gap_HouseTop printf "landed on house spine01" StartGap GapID = NJ_Gap_HouseSpineDown flags = [ PURE_AIR cancel_ground ] EndGap GapID = NJ_Gap_HouseSpineUp text = "Raised the Roof" score = 250 StartGap GapID = NJ_Gap_HouseTransfer01 flags = PURE_AIR EndGap GapID = NJ_Gap_HouseTransfer02 text = "Transferring the House" score = 200 ENDSCRIPT
SCRIPT NJ_Gap_HouseTop2 printf "landed on house2" StartGap GapID = NJ_Gap_HouseTransfer02 flags = PURE_AIR EndGap GapID = NJ_Gap_HouseTransfer01 text = "Transferring the House" score = 200 ENDSCRIPT
SCRIPT NJ_Gap_HouseLowShuffle01 printf "HouseLowShuffle" EndGap GapID = NJ_Gap_HouseLowShuffle01 text = "Low House Shuffle" score = 50 StartGap GapID = NJ_Gap_HouseLowShuffle02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_HouseLowShuffle02 printf "HouseLowShuffle" EndGap GapID = NJ_Gap_HouseLowShuffle02 text = "Low House Shuffle" score = 50 StartGap GapID = NJ_Gap_HouseLowShuffle01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_UpToGutterStart ENDSCRIPT
SCRIPT NJ_Gap_UpToGutterEnd printf "landed on Gutter for gap" IF FirstTimeOnThisRail StartGap GapID = NJ_Gap_UpToGutter flags = [ cancel_ground ] EndGap GapID = NJ_Gap_UpToGutter text = "On the Gutter" score = 50 ENDIF ENDSCRIPT
SCRIPT NJ_Gap_NeedleVert printf "NJ_Gap_NeedleVert" IF Triggertype [ TRIGGER_LAND_ON TRIGGER_SKATE_ONTO ] printf "NJ_Gap_NeedleVert On" EndGap GapID = NJ_Gap_NeedleVert text = "Threadin the needle!" score = 100 ELSE printf "NJ_Gap_NeedleVert Off" StartGap GapID = NJ_Gap_NeedleVert flags = PURE_AIR ENDIF ENDSCRIPT
SCRIPT NJ_Gap_SewerSpine01 printf "NJ_Gap_SewerSpine01" EndGap GapID = NJ_Gap_SewerSpine01 text = "Spine over Sewer" score = 50 StartGap GapID = NJ_Gap_SewerSpine02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_SewerSpine02 printf "NJ_Gap_SewerSpine02" EndGap GapID = NJ_Gap_SewerSpine02 text = "Spine over Sewer" score = 50 StartGap GapID = NJ_Gap_SewerSpine01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_SewerVert01 printf "NJ_Gap_SewerVert01" EndGap GapID = NJ_Gap_SewerVert01 text = "Vert over Sewer" score = 50 StartGap GapID = NJ_Gap_SewerVert02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_SewerVert02 printf "NJ_Gap_SewerVert02" EndGap GapID = NJ_Gap_SewerVert02 text = "Vert over Sewer" score = 50 StartGap GapID = NJ_Gap_SewerVert01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_SewerGrind01 printf "NJ_Gap_SewerGrind01" EndGap GapID = NJ_Gap_SewerGrind01 text = "Grind Hop over Sewer" score = 50 StartGap GapID = NJ_Gap_SewerGrind02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_SewerGrind02 printf "NJ_Gap_SewerGrind02" EndGap GapID = NJ_Gap_SewerGrind02 text = "Grind Hop over Sewer" score = 50 StartGap GapID = NJ_Gap_SewerGrind01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_UpToTombCraneStart printf "going up to crane" StartGap GapID = NJ_Gap_UpToTombCrane flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_UpToTombCraneEnd printf "up on crane" EndGap GapID = NJ_Gap_UpToTombCrane text = "TOMBSTONE" score = 50 ENDSCRIPT
SCRIPT NJ_Gap_Barrier01 printf "NJ_Gap_Barrier01" EndGap GapID = NJ_Gap_Barrier01 text = "Barrier" score = 50 StartGap GapID = NJ_Gap_Barrier02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_Barrier02 printf "NJ_Gap_Barrier02" EndGap GapID = NJ_Gap_Barrier02 text = "Barrier" score = 50 StartGap GapID = NJ_Gap_Barrier01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_PlaygroundSpine01 printf "PlaygroundSpine" EndGap GapID = NJ_Gap_PlaygroundSpine01 text = "Playground Spine" score = 50 StartGap GapID = NJ_Gap_PlaygroundSpine02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_PlaygroundSpine02 printf "PlaygroundSpine" EndGap GapID = NJ_Gap_PlaygroundSpine02 text = "Playground Spine" score = 50 StartGap GapID = NJ_Gap_PlaygroundSpine01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_ClinicHop01 printf "Clinic hop" EndGap GapID = NJ_Gap_ClinicHop01 text = "Clinic Hop" score = 50 StartGap GapID = NJ_Gap_ClinicHop02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_ClinicHop02 printf "Clinic hop" EndGap GapID = NJ_Gap_ClinicHop02 text = "Clinic Hop" score = 50 StartGap GapID = NJ_Gap_ClinicHop01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_Arson01 printf "Arson Investigation" StartGap GapID = NJ_Gap_Arson flags = [ cancel_ground require_lip ] ENDSCRIPT
SCRIPT NJ_Gap_Arson02 printf "Investigation Closed" wait 1 frame EndGap GapID = NJ_Gap_Arson text = "Arson Investigation" score = 150 ENDSCRIPT
SCRIPT NJ_Gap_RidinHighStart StartGap GapID = <ID1> flags = [ cancel_ground PURE_AIR ] ENDSCRIPT
SCRIPT NJ_Gap_RidinHighEnd EndGap GapID = <ID1> text = "Ridin\' High on the Hog" score = 150 ENDSCRIPT
SCRIPT NJ_Gap_BridgeQPa StartGap GapID = NJ_Gap_BridgeQPa_01 flags = PURE_AIR NJ_Gap_BridgeQPEnd GapID = NJ_Gap_BridgeQPb_02 ENDSCRIPT
SCRIPT NJ_Gap_BridgeTopOver EndGap GapID = NJ_Gap_BridgeQPa_01 continue = { GapID = NJ_Gap_BridgeQPa_02 flags = [ PURE_AIR ] } EndGap GapID = NJ_Gap_BridgeQPb_01 continue = { GapID = NJ_Gap_BridgeQPb_02 flags = [ PURE_AIR ] } ENDSCRIPT
SCRIPT NJ_Gap_BridgeQPb NJ_Gap_BridgeQPEnd GapID = NJ_Gap_BridgeQPa_02 StartGap GapID = NJ_Gap_BridgeQPb_01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_BridgeQPEnd ENDSCRIPT
SCRIPT NJ_Gap_KurtShuffle01 EndGap GapID = NJ_Gap_KurtShuffle01 text = "Tight Bridge Hop" score = 25 StartGap GapID = NJ_Gap_KurtShuffle02 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_KurtShuffle02 EndGap GapID = NJ_Gap_KurtShuffle02 text = "Tight Bridge Hop" score = 25 StartGap GapID = NJ_Gap_KurtShuffle01 flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_TrilevelStart StartGap GapID = <id> flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_TrilevelEnd EndGap GapID = <id> text = "Tri-level Transfer" score = 50 ENDSCRIPT
SCRIPT NJ_Gap_CrookedFactoryStart StartGap GapID = <id> flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_CrookedFactoryEnd EndGap GapID = <id> text = "Crooked Factory Spine" score = 150 ENDSCRIPT
SCRIPT NJ_Gap_UpToFactoryLip StartGap GapID = NJ_Gap_UpToFactoryLip flags = [ cancel_ground require_lip ] ENDSCRIPT
SCRIPT NJ_Gap_FactoryLip wait 1 frame EndGap GapID = NJ_Gap_UpToFactoryLip text = "Hidden Factory Lip" score = 25 ENDSCRIPT
SCRIPT NJ_Gap_UpToFactoryRailLip StartGap GapID = NJ_Gap_UpToFactoryLip flags = [ cancel_ground require_lip ] ENDSCRIPT
SCRIPT NJ_Gap_FactoryRailLip wait 1 frame EndGap GapID = NJ_Gap_UpToFactoryLip text = "Factory Rail Lip" score = 25 ENDSCRIPT
SCRIPT NJ_Gap_HospitalLipUP StartGap GapID = NJ_Gap_HospitalLipUP flags = [ cancel_ground require_lip ] ENDSCRIPT
SCRIPT NJ_Gap_HospitalLip wait 1 frame EndGap GapID = NJ_Gap_HospitalLipUP text = "Hospital Lip" score = 25 ENDSCRIPT
SCRIPT NJ_Gap_HotfootStart StartGap GapID = <id> flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_HotfootEnd EndGap GapID = <id> text = "Hotfoot!" score = 25 ENDSCRIPT
SCRIPT NJ_Gap_PipeStart StartGap GapID = NJ_Gap_Pipe flags = [ cancel_ground ] ENDSCRIPT
SCRIPT NJ_Gap_PipeEnd EndGap GapID = NJ_Gap_Pipe text = "Hittin the Pipe" score = 300 ENDSCRIPT
SCRIPT NJ_Gap_BenchHopStart StartGap GapID = <id> flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_BenchHopEnd EndGap GapID = <id> text = "Bench Hop" score = 50 ENDSCRIPT
SCRIPT NJ_Gap_TrainTransferStart StartGap GapID = <id> flags = PURE_AIR ENDSCRIPT
SCRIPT NJ_Gap_TrainTransferEnd SWITCH <id> CASE Gap1a EndGap GapID = <id> text = "Train Transfer 1 of 4" score = 150 CASE Gap1b EndGap GapID = <id> text = "Train Transfer 1 of 4" score = 150 CASE Gap1c EndGap GapID = <id> text = "Train Transfer 2 of 4" score = 150 CASE Gap1d EndGap GapID = <id> text = "Train Transfer 2 of 4" score = 150 CASE Gap2a EndGap GapID = <id> text = "Train Transfer 3 of 4" score = 150 CASE Gap2b EndGap GapID = <id> text = "Train Transfer 3 of 4" score = 150 CASE Gap2c EndGap GapID = <id> text = "Train Transfer 4 of 4" score = 150 CASE Gap2d EndGap GapID = <id> text = "Train Transfer 4 of 4" score = 150 ENDSWITCH ENDSCRIPT
SCRIPT NJ_AC_Unit_Lip IF FirstTimeOnThisRail StartGap GapID = NJ_Gap_ACUnitLip flags = [ cancel_ground require_lip ] wait 1 frame EndGap GapID = NJ_Gap_ACUnitLip text = "Conditioned Response" score = 150 printf "onto ACUNIT lip gap" kill prefix = "PRTCL_ACUNIT_Steam" Create prefix = "PRTCL_ACUNIT_Steam" SpawnSound NJ_SFX_AC_Unit_Overheat ELSE printf "off of ACUNIT lip gap" wait 2 seconds kill prefix = "PRTCL_ACUNIT_Steam" ENDIF ENDSCRIPT
SCRIPT NJ_Crackhead_Walking_Temp Obj_PlayAnim anim = Ped_Crackhead_Walk cycle BEGIN Obj_MoveToNode name = TRG_Ped_waypoint24 time = 20 Obj_LookAtNode name = TRG_Ped_waypoint24 time = 1 Obj_WaitMove Obj_MoveToNode name = TRG_Ped_waypoint36 time = 20 Obj_LookAtNode name = TRG_Ped_waypoint36 time = 1 Obj_WaitMove REPEAT ENDSCRIPT
SCRIPT NJ_Crackhead_Standing_Temp BEGIN Obj_PlayAnim anim = RANDOM(1, 1, 1) RANDOMCASE Ped_Crackhead_Scratch RANDOMCASE Ped_Crackhead_Rocking RANDOMCASE Ped_Crackhead_LookAround RANDOMEND Obj_WaitAnimFinished REPEAT ENDSCRIPT
SCRIPT NJ_DealerAnimations BEGIN Obj_PlayAnim anim = RANDOM(1, 1, 1) RANDOMCASE Ped_Dealer_LookAround RANDOMCASE Ped_Dealer_SellingBig RANDOMCASE Ped_Dealer_Angry RANDOMEND Obj_WaitAnimFinished IF GoalManager_GoalExists name = NJ_Goal_Collect IF GoalManager_GoalIsActive name = NJ_Goal_Collect ENDIF ENDIF IF GotParam Talker IF Obj_ObjectInRadius radius = 100 type = Skater RANDOM(1, 1, 1, 1) RANDOMCASE RANDOMCASE RANDOMCASE RANDOMCASE RANDOMEND ENDIF ENDIF REPEAT ENDSCRIPT
SCRIPT NJ_Dealer_Detect wait 1 second ViewRadius = 60 BEGIN IF GoalManager_GoalExists name = NJ_Goal_Collect IF GoalManager_GoalIsActive name = NJ_Goal_Collect GetawayTime = 2 create_panel_block id = current_goal text = "" style = goal_comp_out_of_bounds_text BEGIN IF Obj_ObjectInRadius radius = <ViewRadius> type = Skater Skater : Obj_GetId GetBonePosition id = <ObjId> bone = pelvis IF ( <y> < 140 ) BREAK ENDIF ENDIF wait 0.50000000000 seconds REPEAT Create_Panel_Message text = "THEY SPOTTED YOU! Run for it!!" style = panel_message_goal id = current_goal wait 1 second BEGIN GetawayTime = ( <GetawayTime> - 1 ) IF ( <GetawayTime> < 1 ) Spawnscript NJ_Dealer_Standing_SpotSkater ENDIF wait 1 second IF NOT Obj_ObjectInRadius radius = <ViewRadius> type = Skater BREAK ENDIF REPEAT Create_Panel_Message text = "Whew, that was close..." style = panel_message_goal id = current_goal wait 1 second ENDIF ENDIF REPEAT ENDSCRIPT
SCRIPT NJ_Dealer_Standing_SpotSkater Spawnscript NJ_Dealer_Standing_FailGoal ENDSCRIPT
SCRIPT NJ_Dealer_Standing_FailGoal GoalManager_LoseGoal name = NJ_Goal_Collect ENDSCRIPT
SCRIPT NJ_Tombstone_Standing_Temp BEGIN Obj_PlayAnim anim = RANDOM(1, 1, 1, 1, 1) RANDOMCASE Ped_Tombstone_Chisel1 RANDOMCASE Ped_Tombstone_Chisel2 RANDOMCASE Ped_Tombstone_Chisel3 RANDOMCASE Ped_Tombstone_Inspect RANDOMCASE Ped_Tombstone_WipeBrow RANDOMEND Obj_WaitAnimFinished REPEAT ENDSCRIPT
SCRIPT NJ_Drunk_Walking_Temp BEGIN Obj_MoveToNode name = TRG_Ped_waypoint53 time = 20 Obj_LookAtNode name = TRG_Ped_waypoint53 time = 1 Obj_PlayAnim anim = Ped_Drunk_Walk cycle Obj_WaitMove Obj_SetAnimCycleMode Off Obj_PlayAnim anim = Ped_Drunk_WalkToIdle Obj_WaitAnimFinished Obj_PlayAnim anim = Ped_Drunk_Idle Obj_WaitAnimFinished Obj_PlayAnim anim = Ped_Drunk_WalkFromIdle Obj_MoveToNode name = TRG_Ped_waypoint52 time = 20 Obj_LookAtNode name = TRG_Ped_waypoint52 time = 1 Obj_PlayAnim anim = Ped_Drunk_Walk cycle Obj_WaitMove Obj_SetAnimCycleMode Off Obj_PlayAnim anim = Ped_Drunk_WalkToIdle Obj_WaitAnimFinished Obj_PlayAnim anim = Ped_Drunk_Idle Obj_WaitAnimFinished Obj_PlayAnim anim = Ped_Drunk_WalkFromIdle REPEAT ENDSCRIPT
SCRIPT NJ_Security_Standing_Temp BEGIN Obj_PlayAnim anim = RANDOM(1, 1, 1, 1, 1, 1, 1, 1) RANDOMCASE Ped_Security_Picknose RANDOMCASE Ped_Security_Quickdraw RANDOMCASE Ped_Security_Pants RANDOMCASE Ped_Security_PantsBack RANDOMCASE Ped_Security_LookIdle RANDOMCASE Ped_Security_LookIdle RANDOMCASE Ped_Security_LookIdle RANDOMCASE Ped_Security_LookIdle RANDOMEND Obj_WaitAnimFinished REPEAT ENDSCRIPT
SCRIPT NJ_Cash_Temp Obj_SetException Ex = SkaterInRadius scr = NJ_Cash_Temp_Die Obj_SetInnerRadius 6 Obj_RotY speed = RANDOM(1, 1, 1, 1) RANDOMCASE 50 RANDOMCASE -150 RANDOMCASE 200 RANDOMCASE -250 RANDOMEND Obj_Hover Amp = RANDOM(1, 1, 1) RANDOMCASE 5 RANDOMCASE 10 RANDOMCASE 15 RANDOMEND Freq = RANDOM(1, 1, 1) RANDOMCASE 0.50000000000 RANDOMCASE 1 RANDOMCASE 2 RANDOMEND ENDSCRIPT
SCRIPT NJ_Cash_Temp_Die PlaySound Cash vol = 200 Die ENDSCRIPT
SCRIPT NJ_SwingDoor door1 = LO_HouseGates01 angle1 = 0 swingtime = 0.10000000149 IF NOT GotParam noSound IF GotParam chainlinkgate SpawnSound NJ_SFX_OpenChainLinkGate ELSE IF GotParam woodgate SpawnSound NJ_SFX_OpenWoodGate ELSE IF GotParam metalgate SpawnSound NJ_SFX_OpenMetalGate ELSE IF GotParam glassdoor SpawnSound NJ_SFX_OpenGlassDoor ENDIF ENDIF ENDIF ENDIF ENDIF <door1> : Obj_Rotate absolute = ( VECTOR(0.00000000000, 0.00000000000, 0.00000000000) + <angle1> * VECTOR(0.00000000000, 1.00000000000, 0.00000000000) + VECTOR(0.00000000000, 0.00000000000, 0.00000000000) ) time = <swingtime> ENDSCRIPT
SCRIPT NJ_SwingDoor01 door1 = LO_FenceGate03 door2 = LO_FenceGate04 angle1 = 0 angle2 = 0 swingtime = 0.10000000149 <door1> : Obj_Rotate absolute = ( VECTOR(0.00000000000, 0.00000000000, 0.00000000000) + <angle1> * VECTOR(0.00000000000, 1.00000000000, 0.00000000000) + VECTOR(0.00000000000, 0.00000000000, 0.00000000000) ) time = <swingtime> ENDSCRIPT
SCRIPT NJ_SwingDoor02 door1 = LO_FenceGate05 door2 = LO_FenceGate06 angle1 = 0 angle2 = 0 swingtime = 0.10000000149 <door1> : Obj_Rotate absolute = ( VECTOR(0.00000000000, 0.00000000000, 0.00000000000) + <angle1> * VECTOR(0.00000000000, 1.00000000000, 0.00000000000) + VECTOR(0.00000000000, 0.00000000000, 0.00000000000) ) time = <swingtime> ENDSCRIPT
SCRIPT NJ_signfall signname = LO_forlease02 angle1 = 0 fallspeed = 0.10000000149 <signname> : Obj_RotZ angle = <angle1> speed = <fallspeed> ENDSCRIPT
SCRIPT NJ_signfallx signname = LO_forlease02 angle1 = 0 fallspeed = 0.10000000149 <signname> : Obj_RotX angle = <angle1> speed = <fallspeed> ENDSCRIPT
SCRIPT NJ_Create_Kill IF NOT InSplitScreenGame IF GotParam REVERSE set1 = "qszx" set2 = "qszx" set3 = "qszx" set4 = "qszx" set5 = "qszx" set6 = "qszx" set7 = "qszx" set8 = "qszx" set9 = "qszx" set0 = "qszx" IF GotParam set1 NJ_Create_Kill_Action set = <set1> REVERSE ENDIF IF GotParam set2 NJ_Create_Kill_Action set = <set2> REVERSE ENDIF IF GotParam set3 NJ_Create_Kill_Action set = <set3> REVERSE ENDIF IF GotParam set4 NJ_Create_Kill_Action set = <set4> REVERSE ENDIF IF GotParam set5 NJ_Create_Kill_Action set = <set5> REVERSE ENDIF IF GotParam set6 NJ_Create_Kill_Action set = <set6> REVERSE ENDIF IF GotParam set7 NJ_Create_Kill_Action set = <set7> REVERSE ENDIF IF GotParam set8 NJ_Create_Kill_Action set = <set8> REVERSE ENDIF IF GotParam set9 NJ_Create_Kill_Action set = <set9> REVERSE ENDIF IF GotParam set0 NJ_Create_Kill_Action set = <set0> REVERSE ENDIF ELSE IF GotParam set1 NJ_Create_Kill_Action set = <set1> ENDIF IF GotParam set2 NJ_Create_Kill_Action set = <set2> ENDIF IF GotParam set3 NJ_Create_Kill_Action set = <set3> ENDIF IF GotParam set4 NJ_Create_Kill_Action set = <set4> ENDIF IF GotParam set5 NJ_Create_Kill_Action set = <set5> ENDIF IF GotParam set6 NJ_Create_Kill_Action set = <set6> ENDIF IF GotParam set7 NJ_Create_Kill_Action set = <set7> ENDIF IF GotParam set8 NJ_Create_Kill_Action set = <set8> ENDIF IF GotParam set9 NJ_Create_Kill_Action set = <set9> ENDIF IF GotParam set0 NJ_Create_Kill_Action set = <set0> ENDIF ENDIF ELSE ENDIF ENDSCRIPT
SCRIPT NJ_Create_Kill_Action IF GotParam REVERSE IF Inside kill prefix = <set> ELSE kill prefix = <set> Create prefix = <set> ENDIF ELSE IF Inside kill prefix = <set> Create prefix = <set> ELSE kill prefix = <set> ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Occlusion_West01 NJ_Create_Kill set1 = "Occlusion_big_c" ENDSCRIPT
SCRIPT NJ_Occlusion_West02 NJ_Create_Kill set1 = "OccluderWest_02" ENDSCRIPT
SCRIPT NJ_Occlusion_West03 NJ_Create_Kill set1 = "OccluderWest_03" ENDSCRIPT
SCRIPT NJ_Occlusion_West04 NJ_Create_Kill set1 = "Occlusion_big_d" ENDSCRIPT
SCRIPT NJ_Occlusion_West05 NJ_Create_Kill set1 = "Occlusion_big_e" ENDSCRIPT
SCRIPT NJ_Occlusion_East01 NJ_Create_Kill set1 = "Occlusion_big_c" ENDSCRIPT
SCRIPT NJ_Occlusion_East02 NJ_Create_Kill set1 = "Occlusion_big_b" ENDSCRIPT
SCRIPT NJ_Vis IF GotParam REVERSE IF GotParam set1 NJ_VisAction set = <set1> REVERSE ENDIF IF GotParam set2 NJ_VisAction set = <set2> REVERSE ENDIF IF GotParam set3 NJ_VisAction set = <set3> REVERSE ENDIF IF GotParam set4 NJ_VisAction set = <set4> REVERSE ENDIF IF GotParam set5 NJ_VisAction set = <set5> REVERSE ENDIF IF GotParam set6 NJ_VisAction set = <set6> REVERSE ENDIF IF GotParam set7 NJ_VisAction set = <set7> REVERSE ENDIF IF GotParam set8 NJ_VisAction set = <set8> REVERSE ENDIF IF GotParam set9 NJ_VisAction set = <set9> REVERSE ENDIF IF GotParam set0 NJ_VisAction set = <set0> REVERSE ENDIF ELSE IF GotParam set1 NJ_VisAction set = <set1> ENDIF IF GotParam set2 NJ_VisAction set = <set2> ENDIF IF GotParam set3 NJ_VisAction set = <set3> ENDIF IF GotParam set4 NJ_VisAction set = <set4> ENDIF IF GotParam set5 NJ_VisAction set = <set5> ENDIF IF GotParam set6 NJ_VisAction set = <set6> ENDIF IF GotParam set7 NJ_VisAction set = <set7> ENDIF IF GotParam set8 NJ_VisAction set = <set8> ENDIF IF GotParam set9 NJ_VisAction set = <set9> ENDIF IF GotParam set0 NJ_VisAction set = <set0> ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_VisAction IF GotParam REVERSE IF Inside InVisible prefix = <set> ELSE Visible prefix = <set> ENDIF ELSE IF Inside Visible prefix = <set> ELSE InVisible prefix = <set> ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Vis_East01 NJ_Vis REVERSE set1 = "NJ_TrainStation_Lower" set2 = "NJ_TrainStation_Interior_" set3 = "factory_07" set4 = "factory16" set5 = "FireFactory03" ENDSCRIPT
SCRIPT NJ_Vis_East02 NJ_Vis REVERSE set1 = "NJ_Periph_North" set2 = "NJ_NewHospitalLow_" set3 = "NJ_FactoriesLow_" set4 = "NJ_W_Tele" set5 = "NJ_W_Street" set6 = "TRG_G_RACE5_Piece03" ENDSCRIPT
SCRIPT NJ_Vis_West01 NJ_Vis REVERSE set1 = "NJ_TelePole_East" set2 = "NJ_Periph_East" set3 = "NJ_Alleyway" set4 = "NJ_Floors_MidEast" ENDSCRIPT
SCRIPT NJ_Vis_West02 NJ_Vis REVERSE set1 = "NJ_Floors_FarEast" ENDSCRIPT
SCRIPT NJ_Vis_NorthHouses NJ_Vis REVERSE set1 = "NJ_Houses_North_" ENDSCRIPT
SCRIPT NJ_Vis_PlaygroundPool NJ_Vis REVERSE set1 = "NJ_Floors_FarEast" set2 = "NJ_Floors_MidEast" ENDSCRIPT
SCRIPT NJ_Vis_PlaygroundMedium NJ_Vis set1 = "NJ_Medium_Playground_" ENDSCRIPT
SCRIPT NJ_Vis_PlaygroundNorth ENDSCRIPT
SCRIPT NJ_Vis_PlaygroundSouth ENDSCRIPT
SCRIPT NJ_Vis_Small_NorthWest NJ_Vis set1 = "NJ_Small_NorthWest" ENDSCRIPT
SCRIPT NJ_Vis_Small_North NJ_Vis set1 = "NJ_Small_North_" ENDSCRIPT
SCRIPT NJ_Vis_Small_NorthEast NJ_Vis set1 = "NJ_Small_NorthEast" ENDSCRIPT
SCRIPT NJ_Vis_Small_West NJ_Vis set1 = "NJ_Small_West" ENDSCRIPT
SCRIPT NJ_Vis_Small_Middle NJ_Vis set = "NJ_Small_Middle" ENDSCRIPT
SCRIPT NJ_Vis_Small_East NJ_Vis set1 = "NJ_Small_East" ENDSCRIPT
SCRIPT NJ_Vis_Small_SouthWest NJ_Vis set1 = "NJ_Small_SouthWest" ENDSCRIPT
SCRIPT NJ_Vis_Small_South NJ_Vis set1 = "NJ_Small_South_" ENDSCRIPT
SCRIPT NJ_Vis_Small_SouthEast NJ_Vis set1 = "NJ_Small_SouthEast" ENDSCRIPT
SCRIPT NJ_Vis_Small_PlaygroundNorth NJ_Vis set1 = "NJ_Small_PG_North" ENDSCRIPT
SCRIPT NJ_Vis_Small_PlaygroundSouth NJ_Vis set1 = "NJ_Small_PG_South" ENDSCRIPT
SCRIPT NJ_Vis_House_Row1_South NJ_Vis set1 = "NJ_House_Row1_South" ENDSCRIPT
SCRIPT NJ_Vis_House_Row2_North NJ_Vis set1 = "NJ_House_Row2_North" ENDSCRIPT
SCRIPT NJ_Vis_House_Row2_South NJ_Vis set1 = "NJ_House_Row2_South" ENDSCRIPT
SCRIPT NJ_Vis_House_Row3_North NJ_Vis set1 = "NJ_House_Row3_North" ENDSCRIPT
SCRIPT NJ_Vis_House_Row3_South NJ_Vis set1 = "NJ_House_Row3_South" ENDSCRIPT
SCRIPT NJ_Vis_House_Row4_North NJ_Vis set1 = "NJ_House_Row4_North" ENDSCRIPT
SCRIPT NJ_Vis_House_Sch_North ENDSCRIPT
SCRIPT NJ_Vis_House_Shp_South NJ_Vis set1 = "NJ_House_Shop_South" ENDSCRIPT
SCRIPT NJ_Vis_House_Column01_East NJ_Vis set1 = "NJ_House_Column1_East" ENDSCRIPT
SCRIPT NJ_Vis_House_Column01_West NJ_Vis set1 = "NJ_House_Column1_West" ENDSCRIPT
SCRIPT NJ_Vis_House_Column02_East NJ_Vis set1 = "NJ_House_Column2_East" ENDSCRIPT
SCRIPT NJ_Vis_House_Column02_West NJ_Vis set1 = "NJ_House_Column2_West" ENDSCRIPT
SCRIPT NJ_Vis_House_Column03_East NJ_Vis set1 = "NJ_House_Column3_East" ENDSCRIPT
SCRIPT NJ_Vis_House_Column03_West ENDSCRIPT
SCRIPT NJ_Vis_House_Column04_East NJ_Vis set1 = "NJ_House_Column4_East" ENDSCRIPT
SCRIPT NJ_Vis_House_Column04_West NJ_Vis set1 = "NJ_House_Column4_West" ENDSCRIPT
SCRIPT NJ_Gaps2_Gunfire wait 2 seconds BEGIN Skater : Obj_GetId GetBonePosition id = <ObjId> bone = pelvis Obj_MoveToPos ( <x> * VECTOR(1.00000000000, 0.00000000000, 0.00000000000) + <y> * VECTOR(0.00000000000, 1.00000000000, 0.00000000000) + <z> * VECTOR(0.00000000000, 0.00000000000, 1.00000000000) ) RANDOM(1, 1, 1, 1, 1) RANDOMCASE RANDOMCASE RANDOMCASE RANDOMCASE RANDOMCASE PlaySound HitMetalCan pitch = RANDOM(1, 1, 1, 1, 1) RANDOMCASE 70 RANDOMCASE 80 RANDOMCASE 90 RANDOMCASE 100 RANDOMCASE 110 RANDOMEND vol = RANDOM(1, 1, 1, 1, 1) RANDOMCASE 10 RANDOMCASE 30 RANDOMCASE 50 RANDOMCASE 70 RANDOMCASE 90 RANDOMEND RANDOMEND IF Skater : IsInBail BREAK ENDIF IF SkaterSpeedLessThan 10 BREAK ENDIF wait 5 frames Obj_MoveToPos VECTOR(0.00000000000, 0.00000000000, 0.00000000000) Obj_RotY speed = 5000 angle = RANDOM(1, 1, 1, 1, 1, 1, 1) RANDOMCASE 0 RANDOMCASE 30 RANDOMCASE 60 RANDOMCASE 90 RANDOMCASE 120 RANDOMCASE 150 RANDOMCASE 180 RANDOMEND wait RANDOM(1, 1, 1, 1, 1, 1) RANDOMCASE 15 RANDOMCASE 20 RANDOMCASE 35 RANDOMCASE 40 RANDOMCASE 60 RANDOMCASE 90 RANDOMEND frames REPEAT Spawnscript NJ_Goal_Failed goal = NJ_Goal_Race2 kill prefix = "TRG_G_RACE2_RaceNav" ENDSCRIPT
SCRIPT NJ_Goal_Failed goal = NJ_goal_race IF GoalManager_GoalExists name = <goal> IF GoalManager_GoalIsActive name = <goal> GoalManager_LoseGoal name = <goal> ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_Free_Memory kill prefix = "TRG_Veh" NJ_Peds_Kill NJ_Kill_Fluff ENDSCRIPT
SCRIPT NJ_Fill_Memory NJ_Peds_Create NJ_Create_Fluff Create prefix = "TRG_Veh" ENDSCRIPT
SCRIPT NJ_Peds_Create Create prefix = "TRG_Ped_Walking" Create prefix = "TRG_Ped_Skater" Create prefix = "TRG_Ped_Dealer" Create prefix = "TRG_Ped_Crackhead" Create prefix = "TRG_Ped_Drunk" Create prefix = "TRG_Ped_StreetWarrior" Create prefix = "TRG_Ped_Special" Create prefix = "TRG_Ped_Neighbor" ENDSCRIPT
SCRIPT NJ_Peds_Kill kill prefix = "TRG_Ped_Walking" kill prefix = "TRG_Ped_Skater" kill prefix = "TRG_Ped_Dealer" kill prefix = "TRG_Ped_Crackhead" kill prefix = "TRG_Ped_Drunk" kill prefix = "TRG_Ped_StreetWarrior" kill prefix = "TRG_Ped_Special" kill prefix = "TRG_Ped_Neighbor" ENDSCRIPT
SCRIPT NJ_Cars_Kill kill prefix = "TRG_Veh" ENDSCRIPT
SCRIPT NJ_Cars_Create Create prefix = "TRG_Veh" ENDSCRIPT
SCRIPT NJ_Kill_Fluff kill prefix = "TRG_LO_Fluff" ENDSCRIPT
SCRIPT NJ_Create_Fluff Create prefix = "TRG_LO_Fluff_Chopper" Create prefix = "TRG_LO_Fluff_Bird_" ENDSCRIPT
SCRIPT NJ_Tree BEGIN wait 10 frames Obj_ApplyScaling x = 1.10000002384 wait 10 frames Obj_ApplyScaling x = 1.00000000000 REPEAT ENDSCRIPT
SCRIPT NJ_Leaves BEGIN wait RANDOM(1, 1, 1, 1) RANDOMCASE 1 RANDOMCASE 2 RANDOMCASE 3 RANDOMCASE 4 RANDOMEND seconds BEGIN RANDOM(1, 1, 1, 1, 1) RANDOMCASE Obj_MoveToRelPos VECTOR(-100.00000000000, 5.00000000000, 0.00000000000) time = 0.60000002384 RANDOMCASE Obj_MoveToRelPos VECTOR(-100.00000000000, 5.00000000000, 0.00000000000) time = 0.50000000000 RANDOMCASE Obj_MoveToRelPos VECTOR(-100.00000000000, 5.00000000000, 0.00000000000) time = 0.40000000596 RANDOMCASE Obj_MoveToRelPos VECTOR(-100.00000000000, 5.00000000000, 0.00000000000) time = 0.30000001192 RANDOMCASE Obj_MoveToRelPos VECTOR(-100.00000000000, 5.00000000000, 0.00000000000) time = 0.20000000298 RANDOMEND RANDOM(1, 1, 1) RANDOMCASE Obj_RotX angle = 10 speed = 20 RANDOMCASE Obj_RotY angle = 10 speed = 20 RANDOMCASE Obj_RotZ angle = 10 speed = 20 RANDOMEND Obj_WaitMove REPEAT 40 Obj_MoveToNode name = LO_Leaves orient REPEAT ENDSCRIPT
SCRIPT NJ_Leaves2 BEGIN wait RANDOM(1, 1, 1, 1) RANDOMCASE 1 RANDOMCASE 2 RANDOMCASE 3 RANDOMCASE 4 RANDOMEND seconds BEGIN RANDOM(1, 1, 1, 1, 1) RANDOMCASE Obj_MoveToRelPos VECTOR(0.00000000000, 0.00000000000, 100.00000000000) time = 0.60000002384 RANDOMCASE Obj_MoveToRelPos VECTOR(0.00000000000, 0.00000000000, 100.00000000000) time = 0.50000000000 RANDOMCASE Obj_MoveToRelPos VECTOR(0.00000000000, 0.00000000000, 100.00000000000) time = 0.40000000596 RANDOMCASE Obj_MoveToRelPos VECTOR(0.00000000000, 0.00000000000, 100.00000000000) time = 0.30000001192 RANDOMCASE Obj_MoveToRelPos VECTOR(0.00000000000, 0.00000000000, 100.00000000000) time = 0.20000000298 RANDOMEND RANDOM(1, 1, 1) RANDOMCASE Obj_RotX angle = 10 speed = 20 RANDOMCASE Obj_RotY angle = 10 speed = 20 RANDOMCASE Obj_RotZ angle = 10 speed = 20 RANDOMEND Obj_WaitMove REPEAT 40 Obj_MoveToNode name = LO_Leaves32 orient REPEAT ENDSCRIPT
SCRIPT NJ_LeavesPile Skater : Obj_GetSpeed IF SkaterSpeedGreaterthan 400 IF NOT IsAlive name = <Leaf1> Create name = <Leaf1> Spawnscript NJ_LeavesSpawnedScript params = { <...> Leaf = <Leaf1> Path = <Path1> } ENDIF IF NOT IsAlive name = <Leaf2> Create name = <Leaf2> Spawnscript NJ_LeavesSpawnedScript params = { <...> Leaf = <Leaf2> Path = <Path2> } ENDIF IF NOT IsAlive name = <Leaf3> Create name = <Leaf3> Spawnscript NJ_LeavesSpawnedScript params = { <...> Leaf = <Leaf3> Path = <Path1> } ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_LeavesSpawnedScript <Leaf> : NJ_LO_Leaf Path = <Path> ENDSCRIPT
SCRIPT NJ_LO_Leaf Obj_FollowPath name = <Path> Obj_PathHeading Off Obj_SetPathVelocity 30 fps Obj_SetPathAcceleration 700 fpsps Obj_SetPathDeceleration 30 fpsps RANDOM(1, 1, 1, 1, 1, 1, 1, 1, 1) RANDOMCASE Obj_RotX speed = 150 RANDOMCASE Obj_RotY speed = 300 RANDOMCASE Obj_RotZ speed = 50 RANDOMCASE Obj_RotX speed = -150 RANDOMCASE Obj_RotY speed = -300 RANDOMCASE Obj_RotZ speed = -50 RANDOMCASE Obj_RotX speed = -120 RANDOMCASE Obj_RotY speed = -400 RANDOMCASE Obj_RotZ speed = 150 RANDOMEND wait 0.20000000298 seconds Obj_SetPathVelocity 10 fps Obj_WaitMove Die ENDSCRIPT
SCRIPT NJ_Skater_Spectator Obj_ClearExceptions Obj_SetException Ex = SkaterInRadius scr = NJ_Skater_SpectatorFall Obj_SetInnerRadius 3 BEGIN RANDOM(1, 1, 1, 1, 1, 1, 1, 1, 1) RANDOMCASE Obj_PlayAnim anim = Ped_M_Cheering random_speed_low = 0.75000000000 random_speed_high = 1.25000000000 RANDOMCASE Obj_PlayAnim anim = Ped_M_Clap RANDOMCASE Obj_PlayAnim anim = Ped_M_CheerIdle1 random_speed_low = 0.75000000000 random_speed_high = 1.25000000000 RANDOMCASE Obj_PlayAnim anim = Ped_M_CheerIdle2 random_speed_low = 0.75000000000 random_speed_high = 1.25000000000 RANDOMCASE Obj_PlayAnim anim = Ped_M_CheerIdle3 random_speed_low = 0.75000000000 random_speed_high = 1.25000000000 RANDOMCASE Obj_PlayAnim anim = Ped_M_CheerIdle4 random_speed_low = 0.75000000000 random_speed_high = 1.25000000000 RANDOMCASE Obj_PlayAnim anim = Ped_M_CheerIdle5 random_speed_low = 0.75000000000 random_speed_high = 1.25000000000 RANDOMCASE Obj_PlayAnim anim = Ped_M_CheerIdle6 random_speed_low = 0.75000000000 random_speed_high = 1.25000000000 RANDOMCASE Obj_PlayAnim anim = Ped_M_CheerIdleFlip random_speed_low = 0.75000000000 random_speed_high = 1.25000000000 flip RANDOMEND Obj_LookAtObject type = Skater time = 0.30000001192 Obj_WaitAnimFinished REPEAT ENDSCRIPT
SCRIPT NJ_Skater_SpectatorFall Obj_ClearExceptions Obj_PlayAnim anim = Ped_M_FalldownA Obj_SetException Ex = SkaterOutOfRadius scr = NJ_Skater_SpectatorGetUp Obj_SetOuterRadius 20 ENDSCRIPT
SCRIPT NJ_Skater_SpectatorGetUp Obj_ClearExceptions Obj_PlayAnim anim = Ped_M_GetUpA Obj_WaitAnimFinished Goto NJ_Skater_Spectator ENDSCRIPT
SCRIPT NJ_StreetWarrior_CarIdle Obj_AllowSkitching Off wait 10 frames BEGIN Obj_RotZ angle = 0.50999999046 speed = 2000 wait 3 frames Obj_RotZ angle = -0.50999999046 speed = 2000 wait 3 frames REPEAT ENDSCRIPT
SCRIPT NJ_AddGoal_HelpEricAtStart2 AddGoal_Gaps { difficulty_level_params = [ { unlimited_time = 1 } { time = 60 } { time = 45 } ] Version = 5 intro_node = Trg_G_gap5_intronode Start_cam_anims = [ { virtual_cam targetId = TRG_G_gap5_Pro targetOffset = VECTOR(13.80000019073, 49.29999923706, 28.39999961853) positionOffset = VECTOR(-101.80000305176, 0.60000002384, 49.59999847412) frames = 2060 skippable = 1 play_hold cam_anim_text = Sparrow_NJ_Goal_Gaps5_CamAnim01 } { virtual_cam targetId = TRG_G_gap5_Pro targetOffset = VECTOR(-13.50000000000, 47.70000076294, 32.40000152588) positionOffset = VECTOR(-77.80000305176, 0.00000000000, -32.40000152588) frames = 2080 skippable = 1 play_hold cam_anim_text = Sparrow_NJ_Goal_Gaps5_CamAnim02 } { virtual_cam targetId = TRG_G_Gaps5_Dummy02 targetOffset = VECTOR(-13.50000000000, 67.69999694824, 32.40000152588) positionOffset = VECTOR(-127.80000305176, 30.00000000000, 70.40000152588) frames = 200 skippable = 1 } ] pro = "Sparrow" full_name = "Eric Sparrow" view_goals_text = "Help Eric" goal_text = "Help Eric" goal_flags = [ got_1 got_2 got_3 ] goal_description = Sparrow_NJ_Goal_Gaps5 goal_intro_script = NJ_Goal_Gap5_Intro goal_start_script = NJ_Goal_Gap5_Start goal_deactivate_script = NJ_Goal_Gap5_Deactivate goal_success_Outro = NJ_Goal_Gap5_Outro dont_show_goal_text } ENDSCRIPT
SCRIPT NJ_Goal_Gap5_Intro kill prefix = "TRG_Veh" Create prefix = "TRG_G_Gaps5_Dummy" Create prefix = "G_Gaps5_Bar" Create prefix = "G_Gaps5_Coll" ENDSCRIPT
SCRIPT NJ_Goal_Gap5_Start Spawnscript NJ_Gaps5_YellowFlash params = { piece = G_Gaps5_Bar05 } id = Gaps5FlashingScript01 Spawnscript NJ_Gaps5_YellowFlash params = { piece = G_Gaps5_Bar09 } id = Gaps5FlashingScript02 Spawnscript NJ_Gaps5_YellowFlash params = { piece = G_Gaps5_Divider2_06 } id = Gaps5FlashingScript03 Spawnscript NJ_Gaps5_YellowFlash params = { piece = G_Gaps5_Divider_05 } id = Gaps5FlashingScript04 KillSpawnedScript id = NJ_LollapaloozaGoal1 KillSpawnedScript id = NJ_LollapaloozaGoal2 Spawnscript NJ_Goal_Gap5_Stage0 id = NJ_LollapaloozaGoal1 Spawnscript NJ_LollapaloozaGoal2 id = NJ_LollapaloozaGoal2 ENDSCRIPT
SCRIPT NJ_Gaps5_YellowFlash piece = G_Gaps5_Bar05 BEGIN SetObjectColor name = <piece> color = ( 255 + ( 255 * 256 ) + ( 120 * 65536 ) ) wait 8 frames SetObjectColor name = <piece> color = ( 254 + ( 163 * 256 ) + ( 90 * 65536 ) ) wait 8 frames REPEAT ENDSCRIPT
SCRIPT NJ_Goal_Gap5_Deactivate SetObjectColor_CurrentTOD prefix = G_Gaps5 kill prefix = "G_Gaps5_Bar" kill prefix = "G_Gaps5_Coll" kill prefix = "TRGP_G_Gaps5_Car" kill prefix = "TRG_G_Gaps5_Railnode" kill prefix = "G_Gaps5_divider" kill prefix = "TRG_G_Gaps5_Dummy" kill prefix = "TRGP_G_Gaps5_CavemanTrigger01" Skater : EndGap GapID = NJ_Gap5_car1 Skater : EndGap GapID = NJ_Gap5_car2 Skater : EndGap GapID = NJ_Gap5_caveman Skater : EndGap GapID = NJ_Gap5_combo KillSpawnedScript id = NJ_LollapaloozaGoal1 KillSpawnedScript id = NJ_LollapaloozaGoal2 KillSpawnedScript id = Gaps5FlashingScript01 KillSpawnedScript id = Gaps5FlashingScript02 KillSpawnedScript id = Gaps5FlashingScript03 KillSpawnedScript id = Gaps5FlashingScript04 Create prefix = "TRG_Veh" ENDSCRIPT
SCRIPT NJ_Goal_Gap5_Outro ENDSCRIPT
SCRIPT NJ_LollapaloozaGoal2 wait 60 frames create_panel_block id = current_goal text = "Run and Jump over each barrier\\n(Tap \\mm to get\\non or off the board)" style = panel_message_goal ENDSCRIPT
SCRIPT NJ_Goal_Gap5_Stage0 printf "NJ_Goal_Gap5_Stage0" Goto NJ_Goal_Gap5_Stage1 ENDSCRIPT
SCRIPT NJ_Goal_Gap5_Stage1 printf "NJ_Goal_Gap5_Stage1" kill prefix = "TRGP_G_Gaps5_Car" Skater : EndGap GapID = NJ_Gap5_car1 Skater : EndGap GapID = NJ_Gap5_car2 ClearExceptionGroup IntraStageGroup SetExceptionHandler Ex = SkaterEnterWalking scr = NJ_Goal_Gap5_Stage2 Group = IntraStageGroup SetExceptionHandler Ex = StageComplete scr = NJ_Goal_Gap5_StageB0 Group = StageCompleteGroup Block ENDSCRIPT
SCRIPT NJ_Goal_Gap5_Stage2 printf "NJ_Goal_Gap5_Stage2" Create prefix = "TRGP_G_Gaps5_Combo01" Create prefix = "TRGP_G_Gaps5_Car" create_panel_block id = current_goal text = "Now Run and Jump (\\b3) over each barrier" style = panel_message_goal ClearExceptionGroup IntraStageGroup SetExceptionHandler Ex = SkaterExitWalking scr = NJ_Goal_Gap5_Stage1 Group = IntraStageGroup Block ENDSCRIPT
SCRIPT NJ_Gaps5_Car01 StartGap GapID = NJ_Gap5_car1 ENDSCRIPT
SCRIPT NJ_Gaps5_Car01b EndGap GapID = NJ_Gap5_car1 GapScript = NJ_Goal_gap5_1 ENDSCRIPT
SCRIPT NJ_Gaps5_Car02 StartGap GapID = NJ_Gap5_car2 ENDSCRIPT
SCRIPT NJ_Gaps5_Car02b EndGap GapID = NJ_Gap5_car2 GapScript = NJ_Goal_gap5_1 ENDSCRIPT
SCRIPT NJ_Gaps5_CarEnd EndGap GapID = NJ_Gap5_car1 EndGap GapID = NJ_Gap5_car2 ENDSCRIPT
SCRIPT NJ_Goal_gap5_1 printf "got the NJ_Goal_gap5_1!!!!!!!!!!!!!!!!!!!!!!!!!" BroadcastEvent type = StageComplete create_panel_block id = current_goal text = "Good Job!" style = panel_message_goal ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageB0 printf "NJ_Goal_Gap5_StageB0" ClearExceptionGroup IntraStageGroup ClearExceptionGroup StageCompleteGroup GoalManager_PauseGoal name = NJ_Goal_Gaps5 wait 1 second kill prefix = "G_Gaps5_Bar" kill prefix = "G_Gaps5_Coll" kill prefix = "TRGP_G_Gaps5_Car" IF GoalManager_SetGoalFlag name = NJ_Goal_Gaps5 got_1 1 Create prefix = "TRG_G_Gaps5_Railnode0" Create prefix = "G_Gaps5_divider_" Skater : KillSkater RestartWalking Node = TRG_G_GAP5_RestartNode01 Skater : PausePhysics Skater : Hide create_panel_block id = current_goal text = "Now jump up while running and then grind (\\b0) the barrier" style = panel_message_goal PlaySkaterCamAnim Skater = 0 { virtual_cam targetId = TRG_G_Gaps5_Dummy targetOffset = VECTOR(-13.50000000000, 67.69999694824, 32.40000152588) positionOffset = VECTOR(-127.80000305176, 30.00000000000, 70.40000152588) frames = 240 skippable = 1 } NJ_WaitForMovie GoalManager_UnPauseGoal name = NJ_Goal_Gaps5 Skater : UnPausePhysics Skater : UnHide ENDIF Goto NJ_Goal_Gap5_StageB1 ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageB1 printf "NJ_Goal_Gap5_StageB1" create_panel_block id = current_goal text = "Jump and grind (\\b0) the barrier" style = panel_message_goal Skater : EndGap GapID = NJ_Gap5_caveman ClearExceptionGroup IntraStageGroup SetExceptionHandler Ex = SkaterExitWalking scr = NJ_Goal_Gap5_StageB2 Group = IntraStageGroup SetExceptionHandler Ex = StageComplete scr = NJ_Goal_Gap5_StageC0 Group = StageCompleteGroup Block ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageB2 printf "NJ_Goal_Gap5_StageB2" create_panel_block id = current_goal text = "Go back to walking\\n(\\mm)" style = panel_message_goal Skater : StartGap GapID = NJ_Gap5_caveman flags = [ cancel_ground ] ClearExceptionGroup IntraStageGroup SetExceptionHandler Ex = SkaterEnterWalking scr = NJ_Goal_Gap5_StageB1 Group = IntraStageGroup Block ENDSCRIPT
SCRIPT NJ_Gaps5_Caveman01 ENDSCRIPT
SCRIPT NJ_Gaps5_Caveman02 EndGap GapID = NJ_Gap5_caveman GapScript = NJ_Goal_gap5_2 ENDSCRIPT
SCRIPT NJ_Goal_gap5_2 printf "got the NJ_Goal_gap5_2!!!!!!!!!!!!!!!!!!!!!!!!!" BroadcastEvent type = StageComplete ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageCF1 ClearExceptionGroup IntraStageGroup Skater : EndGap GapID = NJ_Gap5_combo kill prefix = "TRGP_G_Gaps5_Combo01" create_panel_block id = current_goal text = "Your Walking Combo Ended!" style = panel_message_goal wait 1 second Skater : KillSkater RestartWalking Node = TRG_G_GAP5_RestartNode02 create_panel_block id = current_goal text = "-Grind the barrier\\n-jump off into a run and jump over the second barrier\\n-then jump into a grind on the next barrier\\n-all in the same combo!" style = panel_message_goal Skater : PausePhysics wait 1 second Skater : UnPausePhysics Goto NJ_Goal_Gap5_StageC1 ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageC0 printf "entering NJ_Goal_Gap5_StageC0" ClearExceptionGroup StageComplete ClearExceptionGroup IntraStageGroup Skater : EndGap GapID = NJ_Gap5_caveman GoalManager_GetDifficultyLevel wait 1 frame create_panel_block id = current_goal text = "Great!" style = panel_message_goal GoalManager_PauseGoal name = NJ_Goal_Gaps5 wait 1.70000004768 second IF NOT ( <difficulty_level> = 2 ) SK5_WinCurrentGoal Goto nullscript ENDIF IF GoalManager_SetGoalFlag name = NJ_Goal_Gaps5 got_2 1 Create prefix = "TRG_G_Gaps5_Railnode2" Create prefix = "G_Gaps5_divider2_" Create prefix = "G_Gaps5_Bar05" Create prefix = "G_Gaps5_Coll07" Create prefix = "TRGP_G_Gaps5_Combo" Skater : KillSkater RestartWalking Node = TRG_G_GAP5_RestartNode02 PauseSkaters create_panel_block id = current_goal text = "Here\'s a way to score some big points...\\nGrind the first barrier..." style = panel_message_goal PlaySkaterCamAnim Skater = 0 { virtual_cam targetId = TRG_G_Gaps5_Dummy targetOffset = VECTOR(-13.50000000000, 67.69999694824, 32.40000152588) positionOffset = VECTOR(-127.80000305176, 30.00000000000, 70.40000152588) frames = 220 skippable = 1 play_hold } NJ_WaitForMovie create_panel_block id = current_goal text = "...then jump off into a run and jump over the second barrier..." style = panel_message_goal PlaySkaterCamAnim Skater = 0 { virtual_cam targetId = TRG_G_Gaps5_Dummy02 targetOffset = VECTOR(-13.50000000000, 67.69999694824, 32.40000152588) positionOffset = VECTOR(-67.80000305176, 30.00000000000, 100.40000152588) frames = 210 skippable = 1 play_hold } NJ_WaitForMovie create_panel_block id = current_goal text = "...then jump into a grind on the next barrier - all in the same combo!" style = panel_message_goal PlaySkaterCamAnim Skater = 0 { virtual_cam targetId = TRG_G_Gaps5_Dummy01 targetOffset = VECTOR(-13.50000000000, 67.69999694824, 32.40000152588) positionOffset = VECTOR(67.80000305176, 30.00000000000, 40.40000152588) frames = 210 skippable = 1 play_hold } NJ_WaitForMovie create_panel_block id = current_goal text = "-Grind the barrier\\n-jump off into a run and jump over the next barrier\\n-then jump into a grind on the next barrier\\n-all in the same combo!" style = panel_message_goal GoalManager_UnPauseGoal name = NJ_Goal_Gaps5 UnPauseSkaters wait 10 frames ENDIF Goto NJ_Goal_Gap5_StageC1 ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageC1 printf "entering NJ_Goal_Gap5_StageC1" ClearExceptionGroup IntraStageGroup SetExceptionHandler Ex = BarrierGrindGapComplete scr = NJ_Goal_Gap5_StageC2 Group = IntraStageGroup Block ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageC2 create_panel_block id = current_goal text = "Now Jump into a Run!" style = panel_message_goal printf "entering NJ_Goal_Gap5_StageC2" ClearExceptionGroup IntraStageGroup SetExceptionHandler Ex = SkaterEnterWalking scr = NJ_Goal_Gap5_StageC3 Group = IntraStageGroup SetExceptionHandler Ex = SkaterExitCombo scr = NJ_Goal_Gap5_StageCF1 Group = IntraStageGroup Block ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageC3 create_panel_block id = current_goal text = "Clear the Barrier!" style = panel_message_goal Create prefix = "TRGP_G_Gaps5_Combo01" ClearExceptionGroup IntraStageGroup SetExceptionHandler Ex = ClearedTheCar scr = NJ_Goal_Gap5_StageC4 Group = IntraStageGroup SetExceptionHandler Ex = SkaterExitCombo scr = NJ_Goal_Gap5_StageCF1 Group = IntraStageGroup Block ENDSCRIPT
SCRIPT NJ_Goal_Gap5_StageC4 create_panel_block id = current_goal text = "Now Grind the last barrier!" style = panel_message_goal kill prefix = "TRGP_G_Gaps5_Combo01" Skater : StartGap GapID = NJ_Gap5_combo ClearExceptionGroup IntraStageGroup SetExceptionHandler Ex = SkaterExitCombo scr = NJ_Goal_Gap5_StageCF1 Group = IntraStageGroup Block ENDSCRIPT
SCRIPT NJ_Gaps5_Grind01 IF Triggertype [ TRIGGER_LAND_ON TRIGGER_SKATE_ONTO ] BroadcastEvent type = BarrierGrindGapComplete ENDIF ENDSCRIPT
SCRIPT NJ_Gaps5_Combo01 StartGap GapID = NJ_Gap5_car2 BroadcastEvent type = ClearedTheCar ENDSCRIPT
SCRIPT NJ_Gaps5_Grind02 EndGap GapID = NJ_Gap5_combo GapScript = NJ_Goal_gap5_3 ENDSCRIPT
SCRIPT NJ_Goal_gap5_3 printf "got the third flag" create_panel_block id = current_goal text = "Way to Go!" style = panel_message_goal wait 1 second IF GoalManager_SetGoalFlag name = NJ_Goal_Gaps5 got_3 1 ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_PaloozaGoal2 AddGoal_GenericScore { Version = 3 intro_node = Trg_G_GS3_intronode Start_cam_anims = [ { virtual_cam targetId = TRG_G_GS3_Pro targetOffset = VECTOR(4.69999980927, 62.29999923706, 0.30000001192) positionOffset = VECTOR(-2.70000004768, 3.50000000000, 42.70000076294) frames = 360 skippable = 1 } ] goal_text = "Score as many points as you can" view_goals_text = "Score as many points as you can" score = 99999999 pro = "Sparrow" full_name = "Eric" goal_description = [ "Welcome to Lollapalooza!\\n" "Let\'s see you rack up as many points as you can... " "And by the way - if you use our new Run-out or Caveman (\\bg or left thumbstick click)" " - I\'ll drop you a cool 2500 points for each one! " ] active = nullscript expire = nj_goal_gs3_expire } ENDSCRIPT
SCRIPT NJ_AddGoal_Null4 AddGoal_Null { Version = 4 Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(2402.30004882812, -1225.19995117188, 981.59997558594) positionOffset = VECTOR(-7488.29980468750, 120.40000152588, 360.00000000000) frames = 120 skippable = 1 cam_anim_text = police_nj_Goal_Null4 } ] pro = "police" full_name = "Local Police" trigger_obj_id = TRG_Ped_Tombstoneguy } ENDSCRIPT
SCRIPT NJ_Goal_Null4_Car Obj_SetPathVelocity 60 fps Obj_SetPathAcceleration 750 fpsps Obj_SetPathDeceleration 175 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 wait 1.50000000000 seconds Obj_FollowPathLinked ENDSCRIPT
SCRIPT NJ_AddGoal_Null5 AddGoal_Null { Version = 5 Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(6703.79980468750, -1733.69995117188, -210.30000305176) positionOffset = VECTOR(-2914.89990234375, 28.29999923706, 1880.80004882812) frames = 360 skippable = 1 no_play_hold cam_anim_text = Sparrow_NJ_Goal_Null5 speaker_name = "Eric Sparrow" speaker_obj_id = TRG_G_Counter2_Eric intro_node = TRG_G_Null5_Intronode pre_anim_script = NJ_Goal_Null5_Respotter } ] trigger_obj_id = TRG_G_Counter2_Eric pro = "sparrow" full_name = "Eric Sparrow" } ENDSCRIPT
SCRIPT NJ_Goal_Null5_Respotter Skater : Obj_MoveToNode NoReset orient name = TRG_G_Null5_Intronode ENDSCRIPT
SCRIPT nj_goal_gs3_expire Spawnscript nj_goal_gs3_expire2 ENDSCRIPT
SCRIPT nj_goal_gs3_expire2 wait 1 frame PauseSkaters Skater : GetTotalScore FormatText TextName = score_text "Your total score was %i" i = <TotalScore> create_speech_box { text = <score_text> pad_choose_script = nj_goal_gs3_speech_box_continue pause_input pause_input_time = 5000 style = lola_speech_box_style } ENDSCRIPT
SCRIPT nj_goal_gs3_speech_box_continue speech_box_exit UnPauseSkaters ENDSCRIPT
SCRIPT lola_speech_box_style RunScriptOnScreenElement id = <speech_text> hide_speech_text params = <...> DoMorph time = 0 scale = PAIR(0.00000000000, 0.00000000000) alpha = 0 wait 4 frame DoMorph time = 0.20000000298 scale = PAIR(1.50000000000, 1.50000000000) alpha = 1 pos = PAIR(320.00000000000, -80.00000000000) RunScriptOnScreenElement id = <speech_text> lola_speech_box_style_scale_text params = <...> ENDSCRIPT
SCRIPT lola_speech_box_style_scale_text anchor_id = <anchor_id> wait 0.07999999821 second DoMorph time = 0 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0.89999997616 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0.10000000149 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0.80000001192 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0.30000001192 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0.69999998808 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0.50000000000 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 1 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0.80000001192 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 1 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 0.89999997616 DoMorph time = 0.05000000075 scale = PAIR(1.00000000000, 1.00000000000) alpha = 1 FireEvent type = focus target = <anchor_id> ENDSCRIPT
SCRIPT NJ_Gap_BailIfTrainLocked printf "============== Checking if Train Station open, bailing if not (prevents flow break)" IF FirstTimeOnThisRail IF IsAlive name = IC_StationBlock Skater : MakeSkaterBail ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_WaitForMovie BEGIN IF SkaterCamAnimFinished Skater = 0 BREAK ENDIF wait 1 frame REPEAT ENDSCRIPT
SCRIPT NJ_GasLeakFire fire = "PRTCL_SewerFire1" GetSkaterState IF ( <state> = skater_OnRail ) SpawnSound NJ_SFX_PipeIgnite kill prefix = <fire> Create prefix = <fire> wait 1 second kill prefix = <fire> ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_Whup_Eric AddGoal_Counter { Version = 5 hide_goal_pro intro_node = TRG_G_Counter5_IntroNode retry_stage difficulty_level_params = [ { number = 41 time = 240 } { number = 41 time = 120 } { number = 41 time = 90 } ] record_type = time win_wait_time = 60 career_only Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(6459.89990234375, -1748.30004882812, -329.60000610352) positionOffset = VECTOR(-3257.39990234375, 91.40000152588, 1148.30004882812) frames = 120 skippable = 1 play_hold } ] pro = "Sparrow" full_name = "Eric \'A-face\' Sparrow" goal_description = Sparrow_NJ_Goal_Counter5 goal_text = "Tear Up Eric\'s Best Line" view_goals_text = "Tear Up Eric\'s Best Line" goal_intro_script = NJ_Goal_Counter5_Intro goal_start_script = NJ_Goal_Counter5_Start goal_deactivate_script = NJ_Goal_Counter5_Deactivate collect_type = "Eric Points" use_hud_counter } ENDSCRIPT
SCRIPT NJ_Goal_Counter5_Intro Create name = "GO_G_Counter5_Pickup_01" ENDSCRIPT
SCRIPT NJ_Goal_Counter5_Start kill prefix = "TRG_Veh" Create prefix = "TRG_G_Counter5_EricSkating" kill prefix = "GO_G_Counter5_BailBox" ENDSCRIPT
SCRIPT NJ_Goal_Counter5_Deactivate kill prefix = "GO_G_Counter5_Pickup_" kill prefix = "GO_G_Counter5_PRTCL" kill prefix = "TRG_G_Counter5_EricSkating" Create prefix = "TRG_Veh" kill prefix = "TRG_G_FinalCUT" kill prefix = "GO_G_Counter5_BailBox" ENDSCRIPT
SCRIPT NJ_Counter5_ComboPoint Obj_ClearExceptions GoalManager_GotCounterObject name = NJ_Goal_Counter5 PlaySound HitMetalCan Obj_ApplyScaling x = 0.80000001192 y = 0.80000001192 z = 0.80000001192 wait 3 frames Obj_ApplyScaling x = 0.60000002384 y = 0.60000002384 z = 0.60000002384 wait 3 frames Obj_ApplyScaling x = 0.40000000596 y = 0.40000000596 z = 0.40000000596 wait 3 frames Obj_ApplyScaling x = 0.20000000298 y = 0.20000000298 z = 0.20000000298 wait 3 frames Die ENDSCRIPT
SCRIPT NJ_Goal_Counter5_Pickup Obj_Hover Amp = RANDOM(1, 1, 1) RANDOMCASE 5 RANDOMCASE 10 RANDOMCASE 15 RANDOMEND Freq = RANDOM(1, 1, 1) RANDOMCASE 0.50000000000 RANDOMCASE 1 RANDOMCASE 2 RANDOMEND Obj_SetInnerRadius 10 Obj_ApplyScaling x = 8 y = 8 z = 8 wait 3 frames Obj_ApplyScaling x = 7 y = 7 z = 7 wait 3 frames Obj_ApplyScaling x = 6 y = 6 z = 6 wait 3 frames Obj_ApplyScaling x = 5 y = 5 z = 5 wait 3 frames Obj_ApplyScaling x = 4 y = 4 z = 4 wait 3 frames Obj_ApplyScaling x = 3 y = 3 z = 3 wait 3 frames Obj_ApplyScaling x = 2 y = 2 z = 2 wait 3 frames Obj_ApplyScaling x = 1 y = 1 z = 1 Obj_SetException Ex = SkaterInRadius scr = NJ_Goal_Counter5_GotPickup params = { <...> } Block ENDSCRIPT
SCRIPT NJ_Goal_Counter5_InCombo ClearExceptionGroup NJ_Counter5 Obj_SetException Ex = SkaterInRadius scr = NJ_Goal_Counter5_GotPickup params = { <...> } ENDSCRIPT
SCRIPT NJ_Goal_Counter5_GotPickup C5_Create = "foo" Obj_ClearExceptions GoalManager_GotCounterObject name = NJ_Goal_Counter5 printf "got a stolen item done!" Create prefix = <C5_Create> PlaySound HitMetalCan Obj_ApplyScaling x = 1 y = 1 z = 1 wait 3 frames Obj_ApplyScaling x = 0.80000001192 y = 0.80000001192 z = 0.80000001192 wait 3 frames Obj_ApplyScaling x = 0.60000002384 y = 0.60000002384 z = 0.60000002384 wait 3 frames Obj_ApplyScaling x = 0.40000000596 y = 0.40000000596 z = 0.40000000596 wait 3 frames Obj_ApplyScaling x = 0.20000000298 y = 0.20000000298 z = 0.20000000298 wait 3 frames Create name = <next> Die ENDSCRIPT
SCRIPT NJ_EricFinalGoal_DistanceAI Obj_SetPathVelocity 60 fps Obj_SetPathAcceleration 375 fpsps Obj_SetPathDeceleration 375 fpsps Obj_StickToGround distAbove = 3 distBelow = 6 Obj_FollowPathLinked Obj_SetPathTurnDist 8 feet BEGIN IF Obj_ObjectInRadius radius = 65 type = Skater Obj_SetPathVelocity 120 fps ELSE IF Obj_ObjectInRadius radius = 75 type = Skater Obj_SetPathVelocity RANDOM(1, 1, 1, 1, 1, 1, 1) RANDOMCASE 80 RANDOMCASE 82 RANDOMCASE 72 RANDOMCASE 75 RANDOMCASE 75 RANDOMCASE 80 RANDOMCASE 85 RANDOMEND fps ELSE IF Obj_ObjectInRadius radius = 110 type = Skater Obj_SetPathVelocity RANDOM(1, 1, 1, 1, 1, 1, 1) RANDOMCASE 40 RANDOMCASE 52 RANDOMCASE 42 RANDOMCASE 45 RANDOMCASE 45 RANDOMCASE 50 RANDOMCASE 55 RANDOMEND fps ELSE Obj_SetPathVelocity 1 fps wait 1 second ENDIF ENDIF ENDIF wait 1 frames REPEAT ENDSCRIPT
SCRIPT NJ_KillDistanceAI KillSpawnedScript name = NJ_EricFinalGoal_DistanceAI printf "=========================================== Killing Eric Distance AI" Obj_SetPathVelocity 0 fps Obj_SetPathDeceleration 375 fpsps ENDSCRIPT
SCRIPT NJ_Goal_Counter5_SpawnFlame01 GetTags printf "========================================== Flame script Hit" Create prefix = "GO_G_Counter5_PRTCL1_" Create name = GO_G_Counter5_BailBox01 printf "========================================== Flame Created" RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "You can\'t hang, don\'t bother trying" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Find your own line!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Oops, did I drop that?" style = panel_message_goal RANDOMEND ENDSCRIPT
SCRIPT NJ_Goal_Counter5_SpawnFlame02 GetTags printf "========================================== Flame 2 script Hit" Create prefix = "GO_G_Counter5_PRTCL2_" Create name = GO_G_Counter5_BailBox02 printf "========================================== Flame 2 Created" kill prefix = "GO_G_Counter5_PRTCL1_" printf "==========================================  Flame 1 deleted" kill name = GO_G_Counter5_BailBox01 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "You can\'t hang, don\'t bother trying" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Find your own line!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Oops, did I drop that?" style = panel_message_goal RANDOMEND ENDSCRIPT
SCRIPT NJ_Goal_Counter5_SpawnFlame03 GetTags printf "========================================== Flame 3 script Hit" Create prefix = "GO_G_Counter5_PRTCL3_" printf "========================================== Flame 3 Created" Create name = GO_G_Counter5_BailBox03 kill prefix = "GO_G_Counter5_PRTCL2_" printf "==========================================  Flame 2 deleted" kill name = GO_G_Counter5_BailBox02 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "You can\'t hang, don\'t bother trying" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Find your own line!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Oops, did I drop that?" style = panel_message_goal RANDOMEND ENDSCRIPT
SCRIPT NJ_Goal_Counter5_SpawnFlame04 GetTags printf "========================================== Flame 4 script Hit" Create name = GO_G_Counter5_BailBox04 Create prefix = "GO_G_Counter5_PRTCL4_" printf "========================================== Flame 4 Created" kill prefix = "GO_G_Counter5_PRTCL3_" printf "==========================================  Flame 3 deleted" kill name = GO_G_Counter5_BailBox03 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "You can\'t hang, don\'t bother trying" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Find your own line!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Oops, did I drop that?" style = panel_message_goal RANDOMEND ENDSCRIPT
SCRIPT NJ_Goal_Counter5_SpawnFlame05 GetTags printf "========================================== Flame 5 script Hit" Create name = GO_G_Counter5_BailBox05 Create prefix = "GO_G_Counter5_PRTCL5_" printf "========================================== Flame 5 Created" kill prefix = "GO_G_Counter5_PRTCL4_" printf "==========================================  Flame 4 deleted" kill name = GO_G_Counter5_BailBox04 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "You can\'t hang, don\'t bother trying" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Find your own line!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Oops, did I drop that?" style = panel_message_goal RANDOMEND ENDSCRIPT
SCRIPT NJ_Goal_Counter5_SpawnFlame06 GetTags printf "========================================== Flame 6 script Hit" Create name = GO_G_Counter5_BailBox06 Create prefix = "GO_G_Counter5_PRTCL6_" printf "========================================== Flame  6 Created" kill prefix = "GO_G_Counter5_PRTCL5_" printf "==========================================  Flame 5 deleted" kill name = GO_G_Counter5_BailBox05 RANDOM(1, 1, 1) RANDOMCASE create_panel_block id = current_goal text = "You can\'t hang, don\'t bother trying" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Find your own line!" style = panel_message_goal RANDOMCASE create_panel_block id = current_goal text = "Oops, did I drop that?" style = panel_message_goal RANDOMEND ENDSCRIPT
SCRIPT NJ_Goal_Counter5_ForceBail IF GoalManager_GoalExists name = NJ_Goal_Counter5 IF GoalManager_GoalIsActive name = NJ_Goal_Counter5 printf "========================================== Force Skater Bail" Skater : MakeSkaterBail ENDIF ENDIF ENDSCRIPT
SCRIPT NJ_AddGoal_Film_CreateATrick AddGoal_CreateATrick { Start_cam_anims = [ { virtual_cam targetId = world targetOffset = VECTOR(-9436.20019531250, -1529.50000000000, 9939.90039062500) positionOffset = VECTOR(-3128.39990234375, 29.70000076294, 2338.00000000000) frames = 120 cam_anim_text = Shawn_NJ_Goal_CAT_CamAnim01 skippable = 1 play_hold } { virtual_cam targetId = world targetOffset = VECTOR(4371.20019531250, -1270.30004882812, -4073.30004882812) positionOffset = VECTOR(-3156.10009765625, 27.10000038147, 2381.30004882812) frames = 120 speaker_obj_id = Skater speaker_name = "skater" cam_anim_speaker_name = "You" cam_anim_text = Shawn_NJ_Goal_CAT_CamAnim02_Skater skippable = 1 play_hold } { virtual_cam targetId = world targetOffset = VECTOR(-11027.20019531250, -23.39999961853, 8682.00000000000) positionOffset = VECTOR(-3218.00000000000, 22.39999961853, 2435.00000000000) frames = 120 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_CAT_CamAnim03 } { virtual_cam targetId = world targetOffset = VECTOR(-9266.59960937500, -4785.79980468750, -3788.80004882812) positionOffset = VECTOR(-3383.10009765625, 91.80000305176, 2661.10009765625) frames = 120 skippable = 1 play_hold cam_anim_text = Shawn_NJ_Goal_CAT } ] difficulty_level_params = [ { unlimited_time = 1 goal_text = "Get Special, then bust a \\t1\\n ( \\k1 )" view_goals_text = "Bust a \\t1\\n ( \\k1 )" } { time = 60 goal_text = "Get Special, then bust a \\t1\\n ( \\k1 )\\n" view_goals_text = "Bust a \\t1\\n ( \\k1 )" } { time = 30 goal_text = "Get Special, then bust a \\t1\\n ( \\k1 )" view_goals_text = "Bust a \\t1\\n ( \\k1 )" } ] premade_cat_index = 2 goal_description = Shawn_NJ_Goal_CAT intro_node = TRG_G_CAT_IntroNode pro = "Shawn" full_name = "Shawn" } ENDSCRIPT

